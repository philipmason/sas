Ext.define("Ext.util.Observable",{requires:["Ext.util.Event"],statics:{releaseCapture:function(a){a.fireEvent=this.prototype.fireEvent},capture:function(d,b,a){d.fireEvent=Ext.createInterceptor(d.fireEvent,b,a)},observe:function(a,b){if(a){if(!a.isObservable){Ext.applyIf(a,new this());this.capture(a.prototype,a.fireEvent,a)}if(typeof b=="object"){a.on(b)}return a}}},isObservable:true,constructor:function(a){var b=this;Ext.apply(b,a);if(b.listeners){b.on(b.listeners);delete b.listeners}b.events=b.events||{};if(this.bubbleEvents){this.enableBubble(this.bubbleEvents)}},eventOptionsRe:/^(?:scope|delay|buffer|single|stopEvent|preventDefault|stopPropagation|normalized|args|delegate|element|vertical|horizontal)$/,addManagedListener:function(i,e,g,f,d){var h=this,a=h.managedListeners=h.managedListeners||[],b;if(Ext.isObject(e)){d=e;for(e in d){if(!d.hasOwnProperty(e)){continue}b=d[e];if(!h.eventOptionsRe.test(e)){h.addManagedListener(i,e,b.fn||b,b.scope||d.scope,b.fn?b:d)}}}else{a.push({item:i,ename:e,fn:g,scope:f,options:d});i.on(e,g,f,d)}},removeManagedListener:function(l,f,j,m){var h=this,b,e,k,d,a,g;if(Ext.isObject(f)){b=f;for(f in b){if(!b.hasOwnProperty(f)){continue}e=b[f];if(!h.eventOptionsRe.test(f)){h.removeManagedListener(l,f,e.fn||e,e.scope||b.scope)}}}k=this.managedListeners?this.managedListeners.slice():[];a=k.length;for(g=0;g<a;g++){d=k[g];if(d.item===l&&d.ename===f&&(!j||d.fn===j)&&(!m||d.scope===m)){Ext.Array.remove(this.managedListeners,d);l.un(d.ename,d.fn,d.scope)}}},fireEvent:function(){var i=this,d=Ext.Array.toArray(arguments),f=d[0].toLowerCase(),e=true,h=i.events[f],b=i.eventQueue,g;if(i.eventsSuspended===true){if(b){b.push(d)}return false}else{if(h&&Ext.isObject(h)&&h.bubble){if(h.fire.apply(h,d.slice(1))===false){return false}g=i.getBubbleTarget&&i.getBubbleTarget();if(g&&g.isObservable){if(!g.events[f]||!Ext.isObject(g.events[f])||!g.events[f].bubble){g.enableBubble(f)}return g.fireEvent.apply(g,d)}}else{if(h&&Ext.isObject(h)){d.shift();e=h.fire.apply(h,d)}}}return e},addListener:function(b,e,d,h){var g=this,a,f;if(Ext.isObject(b)){h=b;for(b in h){if(!h.hasOwnProperty(b)){continue}a=h[b];if(!g.eventOptionsRe.test(b)){g.addListener(b,a.fn||a,a.scope||h.scope,a.fn?a:h)}}}else{b=b.toLowerCase();g.events[b]=g.events[b]||true;f=g.events[b]||true;if(Ext.isBoolean(f)){g.events[b]=f=new Ext.util.Event(g,b)}f.addListener(e,d,Ext.isObject(h)?h:{})}},removeListener:function(b,e,d){var g=this,a,f;if(Ext.isObject(b)){var h=b;for(b in h){if(!h.hasOwnProperty(b)){continue}a=h[b];if(!g.eventOptionsRe.test(b)){g.removeListener(b,a.fn||a,a.scope||h.scope)}}}else{b=b.toLowerCase();f=g.events[b];if(f.isEvent){f.removeListener(e,d)}}},clearListeners:function(){var b=this.events,d,a;for(a in b){if(!b.hasOwnProperty(a)){continue}d=b[a];if(d.isEvent){d.clearListeners()}}this.clearManagedListeners()},purgeListeners:function(){console.warn("MixedCollection: purgeListeners has been deprecated. Please use clearListeners.");return this.clearListeners.apply(this,arguments)},clearManagedListeners:function(){var b=this.managedListeners||[],e=b.length,d,a;for(d=0;d<e;d++){a=b[d];a.item.un(a.ename,a.fn,a.scope)}this.managedListener=[]},purgeManagedListeners:function(){console.warn("MixedCollection: purgeManagedListeners has been deprecated. Please use clearManagedListeners.");return this.clearManagedListeners.apply(this,arguments)},addEvents:function(f){var e=this;e.events=e.events||{};if(Ext.isString(f)){var b=arguments,d=b.length;while(d--){e.events[b[d]]=e.events[b[d]]||true}}else{Ext.applyIf(e.events,f)}},hasListener:function(a){var b=this.events[a];return b.isEvent===true&&b.listeners.length>0},suspendEvents:function(a){this.eventsSuspended=true;if(a&&!this.eventQueue){this.eventQueue=[]}},resumeEvents:function(){var a=this,b=a.eventQueue||[];a.eventsSuspended=false;delete a.eventQueue;Ext.each(b,function(d){a.fireEvent.apply(a,d)})},relayEvents:function(d,f,j){j=j||"";var h=this,a=f.length,e=0,g,b;for(;e<a;e++){g=f[e].substr(j.length);b=j+g;h.events[b]=h.events[b]||true;d.on(g,h.createRelayer(b))}},createRelayer:function(a){var b=this;return function(){return b.fireEvent.apply(b,[a].concat(Array.prototype.slice.call(arguments,0,-1)))}},enableBubble:function(a){var b=this;if(!Ext.isEmpty(a)){a=Ext.isArray(a)?a:Ext.Array.toArray(arguments);Ext.each(a,function(d){d=d.toLowerCase();var e=b.events[d]||true;if(Ext.isBoolean(e)){e=new Ext.util.Event(b,d);b.events[d]=e}e.bubble=true})}}},function(){this.implement({on:this.prototype.addListener,un:this.prototype.removeListener,mon:this.prototype.addManagedListener,mun:this.prototype.removeManagedListener});this.observeClass=this.observe;Ext.apply(Ext.util.Observable.prototype,function(){function a(j){var i=(this.methodEvents=this.methodEvents||{})[j],f,d,g,h=this;if(!i){this.methodEvents[j]=i={};i.originalFn=this[j];i.methodName=j;i.before=[];i.after=[];var b=function(l,k,e){if((d=l.apply(k||h,e))!==undefined){if(typeof d=="object"){if(d.returnValue!==undefined){f=d.returnValue}else{f=d}g=!!d.cancel}else{if(d===false){g=true}else{f=d}}}};this[j]=function(){var l=Array.prototype.slice.call(arguments,0),k;f=d=undefined;g=false;for(var m=0,e=i.before.length;m<e;m++){k=i.before[m];b(k.fn,k.scope,l);if(g){return f}}if((d=i.originalFn.apply(h,l))!==undefined){f=d}for(var m=0,e=i.after.length;m<e;m++){k=i.after[m];b(k.fn,k.scope,l);if(g){return f}}return f}}return i}return{beforeMethod:function(e,d,b){a.call(this,e).before.push({fn:d,scope:b})},afterMethod:function(e,d,b){a.call(this,e).after.push({fn:d,scope:b})},removeMethodListener:function(j,g,f){var h=this.getMethodEvent(j);for(var d=0,b=h.before.length;d<b;d++){if(h.before[d].fn==g&&h.before[d].scope==f){h.before.splice(d,1);return}}for(var d=0,b=h.after.length;d<b;d++){if(h.after[d].fn==g&&h.after[d].scope==f){h.after.splice(d,1);return}}},toggleEventLogging:function(b){Ext.util.Observable[b?"capture":"releaseCapture"](this,function(d){console.log(d,arguments)})}}}())});Ext.define("Ext.util.HashMap",{mixins:{observable:"Ext.util.Observable"},constructor:function(a){this.addEvents("add","clear","remove","replace");this.mixins.observable.constructor.call(this,a);this.clear(true)},getCount:function(){return this.length},getData:function(a,b){if(b===undefined){b=a;a=this.getKey(b)}return[a,b]},getKey:function(a){return a.id},add:function(a,e){var b=this,d;if(b.containsKey(a)){throw new Error("This key already exists in the HashMap")}d=this.getData(a,e);a=d[0];e=d[1];b.map[a]=e;++b.length;b.fireEvent("add",b,a,e);return e},replace:function(b,e){var d=this,f=d.map,a;if(!d.containsKey(b)){d.add(b,e)}a=f[b];f[b]=e;d.fireEvent("replace",d,b,e,a);return e},remove:function(b){var a=this.findKey(b);if(a!==undefined){return this.removeByKey(a)}return false},removeByKey:function(a){var b=this,d;if(b.containsKey(a)){d=b.map[a];delete b.map[a];--b.length;b.fireEvent("remove",b,a,d);return true}return false},get:function(a){return this.map[a]},clear:function(a){var b=this;b.map={};b.length=0;if(a!==true){b.fireEvent("clear",b)}return b},containsKey:function(a){return this.map[a]!==undefined},contains:function(a){return this.containsKey(this.findKey(a))},getKeys:function(){return this.getArray(true)},getValues:function(){return this.getArray(false)},getArray:function(e){var a=[],b,d=this.map;for(b in d){if(d.hasOwnProperty(b)){a.push(e?b:d[b])}}return a},each:function(e,d){var a=Ext.apply({},this.map),b,f=this.length;d=d||this;for(b in a){if(a.hasOwnProperty(b)){if(e.call(d,b,a[b],f)===false){break}}}return this},clone:function(){var d=new this.self(),b=this.map,a;d.suspendEvents();for(a in b){if(b.hasOwnProperty(a)){d.add(a,b[a])}}d.resumeEvents();return d},findKey:function(b){var a,d=this.map;for(a in d){if(d.hasOwnProperty(a)&&d[a]===b){return a}}return undefined}});Ext.define("Ext.AbstractManager",{requires:["Ext.util.HashMap"],typeName:"type",constructor:function(a){Ext.apply(this,a||{});this.all=new Ext.util.HashMap();this.types={}},get:function(a){return this.all.get(a)},register:function(a){this.all.add(a)},unregister:function(a){this.all.remove(a)},registerType:function(b,a){this.types[b]=a;a[this.typeName]=b},isRegistered:function(a){return this.types[a]!==undefined},create:function(a,e){var b=a[this.typeName]||a.type||e,d=this.types[b];if(d==undefined){throw new Error(Ext.String.format("The '{0}' type has not been registered with this manager",b))}return new d(a)},onAvailable:function(e,d,b){var a=this.all;a.on("add",function(f,g){if(g.id==e){d.call(b||g,g);a.un("add",d,b)}})},each:function(b,a){this.all.each(b,a||this)},getCount:function(){return this.all.getCount()}});Ext.define("Ext.PluginMgr",{extend:"Ext.AbstractManager",singleton:true,typeName:"ptype",create:function(a,b){if(a.init){return a}else{return Ext.createByAlias("plugin."+(a.ptype||b),a)}},findByType:function(d,g){var f=[],b=this.types;for(var a in b){if(!b.hasOwnProperty(a)){continue}var e=b[a];if(e.type==d&&(!g||(g===true&&e.isDefault))){f.push(e)}}return f}},function(){Ext.preg=function(){return Ext.PluginMgr.registerType.apply(Ext.PluginMgr,arguments)}});Ext.define("Ext.ComponentMgr",{extend:"Ext.AbstractManager",singleton:true,typeName:"xtype",create:function(b,e){if(b instanceof Ext.AbstractComponent){return b}else{if(Ext.isString(b)){return Ext.createByAlias("widget."+b)}else{var d=b.xtype||e,a=b;return Ext.createByAlias("widget."+d,a)}}},registerType:function(b,a){this.types[b]=a;a[this.typeName]=b;a.prototype[this.typeName]=b}});Ext.define("Ext.Template",{requires:["Ext.core.DomHelper"],statics:{from:function(b,a){b=Ext.getDom(b);return new this(b.value||b.innerHTML,a||"")}},constructor:function(e){var g=this,b=arguments,a=[],h,d,f;g.initialConfig={};if(Ext.isArray(e)){e=e.join("")}else{if(b.length>1){for(d=0,f=b.length;d<f;d++){h=b[d];if(typeof h=="object"){Ext.apply(g.initialConfig,h);Ext.apply(g,h)}else{a.push(h)}}e=a.join("")}}g.html=e;if(g.compiled){g.compile()}},isTemplate:true,disableFormats:false,re:/\{([\w-]+)(?:\:([\w\.]*)(?:\((.*?)?\))?)?\}/g,applyTemplate:function(a){var g=this,d=g.disableFormats!==true,f=Ext.String,b=g;if(g.compiled){return g.compiled(a)}function e(h,j,k,i){if(k&&d){if(i){i=[a[j]].concat(new Function("return ["+i+"];")())}else{i=[a[j]]}if(k.substr(0,5)=="this."){return b[k.substr(5)].apply(b,i)}else{return f[k].apply(f,i)}}else{return a[j]!==undefined?a[j]:""}}return g.html.replace(g.re,e)},set:function(a,d){var b=this;b.html=a;b.compiled=null;return d?b.compile():b},compileARe:/\\/g,compileBRe:/(\r\n|\n)/g,compileCRe:/'/g,compile:function(){var me=this,fm=Ext.String,useFormat=me.disableFormats!==true,body,bodyReturn;function fn(m,name,format,args){if(format&&useFormat){args=args?","+args:"";if(format.substr(0,5)!="this."){format="fm."+format+"("}else{format="this."+format.substr(5)+"("}}else{args="";format="(values['"+name+"'] == undefined ? '' : "}return"',"+format+"values['"+name+"']"+args+") ,'"}bodyReturn=me.html.replace(me.compileARe,"\\\\").replace(me.compileBRe,"\\n").replace(me.compileCRe,"\\'").replace(me.re,fn);body="this.compiled = function(values){ return ['"+bodyReturn+"'].join('');};";eval(body);return me},insertFirst:function(b,a,d){return this.doInsert("afterBegin",b,a,d)},insertBefore:function(b,a,d){return this.doInsert("beforeBegin",b,a,d)},insertAfter:function(b,a,d){return this.doInsert("afterEnd",b,a,d)},append:function(b,a,d){return this.doInsert("beforeEnd",b,a,d)},doInsert:function(d,f,b,a){f=Ext.getDom(f);var e=Ext.core.DomHelper.insertHtml(d,f,this.applyTemplate(b));return a?Ext.get(e,true):e},overwrite:function(b,a,d){b=Ext.getDom(b);b.innerHTML=this.applyTemplate(a);return d?Ext.get(b.firstChild,true):b.firstChild}},function(){Ext.apply(Ext.util.Format,{ellipsis:Ext.String.ellipsis,htmlEncode:Ext.String.htmlEncode});this.implement({apply:this.prototype.applyTemplate})});Ext.define("Ext.XTemplate",{extend:"Ext.Template",statics:{from:function(b,a){b=Ext.getDom(b);return new this(b.value||b.innerHTML,a||{})}},argsRe:/<tpl\b[^>]*>((?:(?=([^<]+))\2|<(?!tpl\b[^>]*>))*?)<\/tpl>/,nameRe:/^<tpl\b[^>]*?for="(.*?)"/,ifRe:/^<tpl\b[^>]*?if="(.*?)"/,execRe:/^<tpl\b[^>]*?exec="(.*?)"/,constructor:function(){Ext.XTemplate.superclass.constructor.apply(this,arguments);var A=this,j=A.html,v=A.argsRe,d=A.nameRe,t=A.ifRe,z=A.execRe,p=0,k=[],o="values",w="parent",l="xindex",n="xcount",e="return ",b="with(values){ ",q,g,u,a,f,h,r,B,s;j=["<tpl>",j,"</tpl>"].join("");while((q=j.match(v))){f=null;h=null;r=null;g=q[0].match(d);u=q[0].match(t);a=q[0].match(z);f=u?u[1]:null;if(f){h=new Function(o,w,l,n,b+"try{"+e+Ext.String.htmlDecode(f)+";}catch(e){return;}}")}f=a?a[1]:null;if(f){r=new Function(o,w,l,n,b+Ext.String.htmlDecode(f)+";}")}B=g?g[1]:null;if(B){if(B==="."){B=o}else{if(B===".."){B=w}}B=new Function(o,w,"try{"+b+e+B+";}}catch(e){return;}")}k.push({id:p,target:B,exec:r,test:h,body:q[1]||""});j=j.replace(q[0],"{xtpl"+p+"}");p=p+1}for(s=k.length-1;s>=0;--s){A.compileTpl(k[s])}A.master=k[k.length-1];A.tpls=k},applySubTemplate:function(h,a,d,f,g){var e=this,b=e.tpls[h];return b.compiled.call(e,a,d,f,g)},codeRe:/\{\[((?:\\\]|.|\n)*?)\]\}/g,re:/\{([\w-\.\#]+)(?:\:([\w\.]*)(?:\((.*?)?\))?)?(\s?[\+\-\*\/]\s?[\d\.\+\-\*\/\(\)]+)?\}/g,compileTpl:function(tpl){var fm=Ext.String,me=this,useFormat=me.disableFormats!==true,body,bodyReturn,evaluatedFn;function fn(m,name,format,args,math){var v;if(name.substr(0,4)=="xtpl"){return"',this.applySubTemplate("+name.substr(4)+", values, parent, xindex, xcount),'"}if(name=="."){v='typeof values == "string" ? values : ""'}else{if(name=="#"){v="xindex"}else{if(name.substr(0,7)=="parent."){v=name}else{if(name.indexOf(".")!=-1){v="values."+name}else{v="values['"+name+"']"}}}}if(math){v="("+v+math+")"}if(format&&useFormat){args=args?","+args:"";if(format.substr(0,5)!="this."){format="fm."+format+"("}else{format="this."+format.substr(5)+"("}}else{args="";format="("+v+" === undefined ? '' : "}return"',"+format+v+args+"),'"}function codeFn(m,code){return"',("+code.replace(me.compileARe,"'")+"),'"}bodyReturn=tpl.body.replace(me.compileBRe,"\\n").replace(me.compileCRe,"\\'").replace(me.re,fn).replace(me.codeRe,codeFn);body="evaluatedFn = function(values, parent, xindex, xcount){return ['"+bodyReturn+"'].join('');};";eval(body);tpl.compiled=function(values,parent,xindex,xcount){var vs,length,buffer,i;if(tpl.test&&!tpl.test.call(me,values,parent,xindex,xcount)){return""}vs=tpl.target?tpl.target.call(me,values,parent):values;if(!vs){return""}parent=tpl.target?values:parent;if(tpl.target&&Ext.isArray(vs)){buffer=[];length=vs.length;if(tpl.exec){for(i=0;i<length;i++){buffer[buffer.length]=evaluatedFn.call(me,vs[i],parent,i+1,length);tpl.exec.call(me,vs[i],parent,i+1,length)}}else{for(i=0;i<length;i++){buffer[buffer.length]=evaluatedFn.call(me,vs[i],parent,i+1,length)}}return buffer.join("")}if(tpl.exec){tpl.exec.call(me,vs,parent,xindex,xcount)}return evaluatedFn.call(me,vs,parent,xindex,xcount)};return this},applyTemplate:function(a){return this.master.compiled.call(this,a,{},1,1)},compile:function(){return this}},function(){this.implement({apply:this.prototype.applyTemplate})});Ext.define("Ext.ComponentQuery",{singleton:true,requires:["Ext.ComponentMgr"]},function(){var h=this,k=["var r = [],","i = 0,","it = arguments[0],","l = it.length,","c;","for (; i < l; i++) {","c = it[i];","if (c.{0}) {","r.push(c);","}","}","return r;"].join(""),f=function(p,o){return o.method.apply(this,[p].concat(o.args))},a=function(q,u){var o=[],r,t=q.length,s,p=u!=">";for(r=0;r<t;r++){s=q[r];if(s.getRefItems){o=o.concat(s.getRefItems(p))}}return o},g=function(p){var o=[],q,s=p.length,r;for(q=0;q<s;q++){r=p[q];while(!!(r=r.ownerCt)){o.push(r)}}return o},m=function(p,u,t){if(u=="*"){return p.slice()}else{var o=[],q,s=p.length,r;for(q=0;q<s;q++){r=p[q];if(r.isXType(u,t)){o.push(r)}}return o}},j=function(p,s){var o=[],q,t=p.length,r;for(q=0;q<t;q++){r=p[q];if(r.el?r.el.hasCls(s):r.initCls().contains(s)){o.push(r)}}return o},n=function(q,v,p,u){var o=[],r,t=q.length,s;for(r=0;r<t;r++){s=q[r];if(!u?!!s[v]:(s[v]==u)){o.push(s)}}return o},e=function(p,t){var o=[],q,s=p.length,r;for(q=0;q<s;q++){r=p[q];if(r.getItemId()==t){o.push(r)}}return o},l=function(o,p,q){return h.pseudos[p](o,q)},i=/^(\s?([>\^])\s?|\s|$)/,d=/^(?:(#)?([\w-]+|\*)(?:\((true|false)\))?)|(?:\{([^\}]+)\})/,b=[{re:/^\.([\w-]+)(?:\((true|false)\))?/,method:m},{re:/^(?:[\[\{](?:@)?([\w-]+)\s?(?:(=|.=)\s?['"]?(.*?)["']?)?[\]\}])/,method:n},{re:/^#([\w-]+)/,method:e},{re:/^\:([\w-]+)(?:\(((?:[^\s>\/]*|.*?))\))?/,method:l}];h.Query=Ext.extend(Object,{constructor:function(o){o=o||{};Ext.apply(this,o)},execute:function(p){var r=this.operations,t=r.length,q,s,o;if(!p){o=Ext.ComponentMgr.all.getArray()}for(s=0;s<t;s++){q=r[s];if(q.mode=="^"){o=g(o||[p])}else{if(q.mode){o=a(o||[p],q.mode)}else{o=f(o||a([p]),q)}}if(s==t-1){return o}}return[]},is:function(q){var p=this.operations,s=p.length,r,o=Ext.isArray(q)?q:[q];for(r=0;r<s&&o.length;r++){o=f(o,p[r])}return o.length!=0}});Ext.apply(this,{cache:{},pseudos:{},query:function(o,w){var z=o.split(","),r=z.length,p,t,q=[],A=[],v={},s,u;for(p=0;p<r;p++){o=Ext.String.trim(z[p]);t=this.cache[o];if(!t){this.cache[o]=t=this.parse(o)}q=q.concat(t.execute(w))}if(r>1){s=q.length;for(p=0;p<s;p++){u=q[p];if(!v[u.id]){A.push(u);v[u.id]=true}}q=A}return q},is:function(p,o){if(!o){return true}var q=this.cache[o];if(!q){this.cache[o]=q=this.parse(o)}return q.is(p)},parse:function(p){var o=[],u=b.length,v,q,w,z,A,t,r,s;while(p&&v!=p){v=p;q=p.match(d);if(q){w=q[1];if(w=="#"){o.push({method:e,args:[Ext.String.trim(q[2])]})}else{if(w=="."){o.push({method:j,args:[Ext.String.trim(q[2])]})}else{if(q[4]){o.push({method:new Function(Ext.String.format(k,q[4])),args:[]})}else{o.push({method:m,args:[Ext.String.trim(q[2]),Boolean(q[3])]})}}}p=p.replace(q[0],"")}while(!(z=p.match(i))){for(r=0;p&&r<u;r++){s=b[r];A=p.match(s.re);if(A){o.push({method:s.method,args:A.slice(1)});p=p.replace(A[0],"");break}if(r==(u-1)){throw'Invalid ComponentQuery selector: "'+arguments[0]+'"'}}}if(z[1]){o.push({mode:z[2]||z[1]});p=p.replace(z[0],"")}}return new h.Query({operations:o})}})});Ext.define("Ext.util.Sorter",{direction:"ASC",constructor:function(a){Ext.apply(this,a);if(this.property==undefined&&this.sorterFn==undefined){throw"A Sorter requires either a property or a sorter function"}this.sort=this.createSortFunction(this.sorterFn||this.defaultSorterFn)},createSortFunction:function(b){var d=this,e=d.property,f=d.direction||"ASC",a=f.toUpperCase()=="DESC"?-1:1;return function(h,g){return a*b.call(d,h,g)}},defaultSorterFn:function(b,a){var e=this.getRoot(b)[this.property],d=this.getRoot(a)[this.property];return e>d?1:(e<d?-1:0)},getRoot:function(a){return this.root==undefined?a:a[this.root]}});Ext.define("Ext.util.Filter",{anyMatch:false,exactMatch:false,caseSensitive:false,constructor:function(a){Ext.apply(this,a);this.filter=this.filter||this.filterFn;if(this.filter==undefined){if(this.property==undefined||this.value==undefined){}else{this.filter=this.createFilterFn()}this.filterFn=this.filter}},createFilterFn:function(){var a=this,d=a.createValueMatcher(),b=a.property;return function(e){return d.test(a.getRoot.call(a,e)[b])}},getRoot:function(a){return this.root==undefined?a:a[this.root]},createValueMatcher:function(){var e=this,f=e.value,g=e.anyMatch,d=e.exactMatch,a=e.caseSensitive,b=Ext.String.escapeRegex;if(!f.exec){f=String(f);if(g===true){f=b(f)}else{f="^"+b(f);if(d===true){f+="$"}}f=new RegExp(f,a?"":"i")}return f}});Ext.define("Ext.util.MixedCollection",{requires:["Ext.util.Sorter","Ext.util.Filter"],mixins:{observable:"Ext.util.Observable"},constructor:function(b,a){this.items=[];this.map={};this.keys=[];this.length=0;this.addEvents("clear","add","replace","remove","sort");this.allowFunctions=b===true;if(a){this.getKey=a}this.mixins.observable.constructor.call(this)},allowFunctions:false,add:function(b,e){var f=e,d=b;if(arguments.length==1){f=d;d=this.getKey(f)}if(typeof d!="undefined"&&d!==null){var a=this.map[d];if(typeof a!="undefined"){return this.replace(d,f)}this.map[d]=f}this.length++;this.items.push(f);this.keys.push(d);this.fireEvent("add",this.length-1,f,d);return f},getKey:function(a){return a.id},replace:function(d,e){if(arguments.length==1){e=arguments[0];d=this.getKey(e)}var a=this.map[d];if(typeof d=="undefined"||d===null||typeof a=="undefined"){return this.add(d,e)}var b=this.indexOfKey(d);this.items[b]=e;this.map[d]=e;this.fireEvent("replace",d,a,e);return e},addAll:function(f){if(arguments.length>1||Ext.isArray(f)){var b=arguments.length>1?arguments:f;for(var e=0,a=b.length;e<a;e++){this.add(b[e])}}else{for(var d in f){if(!f.hasOwnProperty(d)){continue}if(this.allowFunctions||typeof f[d]!="function"){this.add(d,f[d])}}}},each:function(f,e){var b=[].concat(this.items);for(var d=0,a=b.length;d<a;d++){if(f.call(e||b[d],b[d],d,a)===false){break}}},eachKey:function(e,d){for(var b=0,a=this.keys.length;b<a;b++){e.call(d||window,this.keys[b],this.items[b],b,a)}},findBy:function(e,d){for(var b=0,a=this.items.length;b<a;b++){if(e.call(d||window,this.items[b],this.keys[b])){return this.items[b]}}return null},find:function(){throw new Error("[Ext.util.MixedCollection] Stateful: find has been deprecated. Please use findBy.")},insert:function(a,b,e){var d=b,f=e;if(arguments.length==2){f=d;d=this.getKey(f)}if(this.containsKey(d)){this.suspendEvents();this.removeByKey(d);this.resumeEvents()}if(a>=this.length){return this.add(d,f)}this.length++;this.items.splice(a,0,f);if(typeof d!="undefined"&&d!==null){this.map[d]=f}this.keys.splice(a,0,d);this.fireEvent("add",a,f,d);return f},remove:function(a){return this.removeAt(this.indexOf(a))},removeAll:function(a){Ext.each(a||[],function(b){this.remove(b)},this);return this},removeAt:function(a){if(a<this.length&&a>=0){this.length--;var d=this.items[a];this.items.splice(a,1);var b=this.keys[a];if(typeof b!="undefined"){delete this.map[b]}this.keys.splice(a,1);this.fireEvent("remove",d,b);return d}return false},removeByKey:function(a){return this.removeAt(this.indexOfKey(a))},removeKey:function(){console.warn("MixedCollection: removeKey has been deprecated. Please use removeByKey.");return this.removeByKey.apply(this,arguments)},getCount:function(){return this.length},indexOf:function(a){return Ext.Array.indexOf(this.items,a)},indexOfKey:function(a){return Ext.Array.indexOf(this.keys,a)},get:function(b){var a=this.map[b],d=a!==undefined?a:(typeof b=="number")?this.items[b]:undefined;return typeof d!="function"||this.allowFunctions?d:null},item:function(){console.warn("MixedCollection: item has been deprecated. Please use get.");return this.get.apply(this,arguments)},getAt:function(a){return this.items[a]},itemAt:function(){console.warn("MixedCollection: itemAt has been deprecated. Please use getAt.");return this.getAt.apply(this,arguments)},getByKey:function(a){return this.map[a]},key:function(){console.warn("MixedCollection: key has been deprecated. Please use getByKey.");return this.getByKey.apply(this,arguments)},contains:function(a){return Ext.Array.contains(this.items,a)},containsKey:function(a){return typeof this.map[a]!="undefined"},clear:function(){this.length=0;this.items=[];this.keys=[];this.map={};this.fireEvent("clear")},first:function(){return this.items[0]},last:function(){return this.items[this.length-1]},_sort:function(j,a,h){var d,e,b=String(a).toUpperCase()=="DESC"?-1:1,g=[],k=this.keys,f=this.items;h=h||function(l,i){return l-i};for(d=0,e=f.length;d<e;d++){g[g.length]={key:k[d],value:f[d],index:d}}g.sort(function(l,i){var m=h(l[j],i[j])*b;if(m===0){m=(l.index<i.index?-1:1)}return m});for(d=0,e=g.length;d<e;d++){f[d]=g[d].value;k[d]=g[d].key}this.fireEvent("sort",this)},sort:function(d,f){var e=d;if(Ext.isString(d)){e=[Ext.create("Ext.util.Sorter",{property:d,direction:f||"ASC"})]}else{if(d instanceof Ext.util.Sorter){e=[d]}else{if(Ext.isObject(d)){e=[Ext.create("Ext.util.Sorter",d)]}}}var b=e.length;if(b==0){return}var a=function(j,h){var g=e[0].sort(j,h),l=e.length,k;for(k=1;k<l;k++){g=g||e[k].sort.call(this,j,h)}return g};this.sortBy(a)},sortBy:function(d){var b=this.items,g=this.keys,f=b.length,a=[],e;for(e=0;e<f;e++){a[e]={key:g[e],value:b[e],index:e}}a.sort(function(i,h){var j=d(i.value,h.value);if(j===0){j=(i.index<h.index?-1:1)}return j});for(e=0;e<f;e++){b[e]=a[e].value;g[e]=a[e].key}this.fireEvent("sort",this)},sum:function(h,b,j,a){var d=this.extractValues(h,b),g=d.length,f=0,e;j=j||0;a=(a||a===0)?a:g-1;for(e=j;e<=a;e++){f+=d[e]}return f},collect:function(k,f,h){var l=this.extractValues(k,f),a=l.length,b={},d=[],j,g,e;for(e=0;e<a;e++){j=l[e];g=String(j);if((h||!Ext.isEmpty(j))&&!b[g]){b[g]=true;d.push(j)}}return d},extractValues:function(d,a){var b=this.items;if(a){b=Ext.Array.pluck(b,a)}return Ext.Array.pluck(b,d)},reorder:function(e){this.suspendEvents();var b=this.items,d=0,g=b.length,a=[],f=[],h;for(h in e){a[e[h]]=b[h]}for(d=0;d<g;d++){if(e[d]==undefined){f.push(b[d])}}for(d=0;d<g;d++){if(a[d]==undefined){a[d]=f.shift()}}this.clear();this.addAll(a);this.resumeEvents();this.fireEvent("sort",this)},sortByKey:function(a,b){this._sort("key",a,b||function(e,d){var g=String(e).toUpperCase(),f=String(d).toUpperCase();return g>f?1:(g<f?-1:0)})},keySort:function(){console.warn("MixedCollection: keySort has been deprecated. Please use sortByKey.");return this.sortByKey.apply(this,arguments)},getRange:function(f,a){var b=this.items;if(b.length<1){return[]}f=f||0;a=Math.min(typeof a=="undefined"?this.length-1:a,this.length-1);var d,e=[];if(f<=a){for(d=f;d<=a;d++){e[e.length]=b[d]}}else{for(d=f;d>=a;d--){e[e.length]=b[d]}}return e},filter:function(e,d,g,a){var b=[];if(Ext.isString(e)){b.push(Ext.create("Ext.util.Filter",{property:e,value:d,anyMatch:g,caseSensitive:a}))}else{if(Ext.isArray(e)||e instanceof Ext.util.Filter){b=b.concat(e)}}var f=function(h){var n=true,o=b.length,j;for(j=0;j<o;j++){var m=b[j],l=m.filterFn,k=m.scope;n=n&&l.call(k,h)}return n};return this.filterBy(f)},filterBy:function(f,e){var a=new this.self(),h=this.keys,b=this.items,g=b.length,d;a.getKey=this.getKey;for(d=0;d<g;d++){if(f.call(e||this,b[d],h[d])){a.add(h[d],b[d])}}return a},findIndex:function(d,b,f,e,a){if(Ext.isEmpty(b,false)){return -1}b=this.createValueMatcher(b,e,a);return this.findIndexBy(function(g){return g&&b.test(g[d])},null,f)},findIndexBy:function(g,f,h){var b=this.keys,e=this.items;for(var d=(h||0),a=e.length;d<a;d++){if(g.call(f||this,e[d],b[d])){return d}}return -1},createValueMatcher:function(d,f,a,b){if(!d.exec){var e=Ext.String.escapeRegex;d=String(d);if(f===true){d=e(d)}else{d="^"+e(d);if(b===true){d+="$"}}d=new RegExp(d,a?"":"i")}return d},clone:function(){var f=new this.self();var b=this.keys,e=this.items;for(var d=0,a=e.length;d<a;d++){f.add(b[d],e[d])}f.getKey=this.getKey;return f}});Ext.define("Ext.data.StoreMgr",{extend:"Ext.util.MixedCollection",singleton:true,register:function(){for(var a=0,b;(b=arguments[a]);a++){this.add(b)}},unregister:function(){for(var a=0,b;(b=arguments[a]);a++){this.remove(this.lookup(b))}},lookup:function(f){if(Ext.isArray(f)){var b=["field1"],e=!Ext.isArray(f[0]);if(!e){for(var d=2,a=f[0].length;d<=a;++d){b.push("field"+d)}}return new Ext.data.ArrayStore({data:f,fields:b,expandData:e,autoDestroy:true,autoCreated:true})}return Ext.isObject(f)?(f.events?f:Ext.create(f,"store")):this.get(f)},getKey:function(a){return a.storeId}},function(){Ext.regStore=function(d,b){var a;if(Ext.isObject(d)){b=d}else{b.storeId=d}if(b instanceof Ext.data.Store){a=b}else{a=Ext.create("Ext.data.Store",b)}return Ext.data.StoreMgr.register(a)};Ext.getStore=function(a){return Ext.data.StoreMgr.lookup(a)}});Ext.define("Ext.LoadMask",{mixins:{observable:"Ext.util.Observable"},requires:["Ext.data.StoreMgr"],statics:{loadingSpinner:'<div class="'+Ext.baseCSSPrefix+'loading-spinner"><span class="'+Ext.baseCSSPrefix+'loading-top"></span><span class="'+Ext.baseCSSPrefix+'loading-right"></span><span class="'+Ext.baseCSSPrefix+'loading-bottom"></span><span class="'+Ext.baseCSSPrefix+'loading-left"></span></div>'},msg:"Loading...",msgCls:Ext.baseCSSPrefix+"mask-loading",disabled:false,constructor:function(b,a){this.el=Ext.get(b);Ext.apply(this,a);this.addEvents("show","hide");if(this.store){this.bindStore(this.store,true)}this.mixins.observable.constructor.call(this,a)},bindStore:function(a,b){if(!b&&this.store){this.mun(this.store,{scope:this,beforeload:this.onBeforeLoad,load:this.onLoad,exception:this.onLoad});if(!a){this.store=null}}if(a){a=Ext.data.StoreMgr.lookup(a);this.mon(a,{scope:this,beforeload:this.onBeforeLoad,load:this.onLoad,exception:this.onLoad})}this.store=a;if(a&&a.isLoading()){this.onBeforeLoad()}},disable:function(){this.disabled=true;if(this.loading){this.onLoad()}},enable:function(){this.disabled=false},isDisabled:function(){return this.disabled},onLoad:function(){this.loading=false;this.el.unmask();this.fireEvent("hide",this,this.el,this.store)},onBeforeLoad:function(){if(!this.disabled&&!this.loading){this.el.mask(this.self.loadingSpinner+'<div class="'+Ext.baseCSSPrefix+'loading-msg">'+this.msg+"</div>",this.msgCls,false);this.fireEvent("show",this,this.el,this.store);this.loading=true}},show:function(){this.onBeforeLoad()},hide:function(){this.onLoad()},destroy:function(){this.hide();this.clearListeners()}});Ext.define("Ext.data.Connection",{mixins:{observable:"Ext.util.Observable"},statics:{requestId:0},url:null,async:true,method:null,username:"",password:"",disableCaching:true,disableCachingParam:"_dc",timeout:30000,useDefaultHeader:true,defaultPostHeader:"application/x-www-form-urlencoded; charset=UTF-8",useDefaultXhrHeader:true,defaultXhrHeader:"XMLHttpRequest",constructor:function(a){a=a||{};Ext.apply(this,a);this.addEvents("beforerequest","requestcomplete","requestexception");this.requests={};this.mixins.observable.constructor.call(this)},request:function(k){k=k||{};var g=this,j=k.scope||window,f=k.username||g.username,h=k.password||g.password||"",b,d,e,a,i;if(g.fireEvent("beforerequest",g,k)!==false){d=g.setupOptions(k,j);if(this.isFormUpload(k)===true){this.upload(k.form,d.url,d.data,k);return null}if(k.autoAbort===true||g.autoAbort){g.abort()}i=this.getXhrInstance();b=k.async!==false?(k.async||g.async):false;if(f){i.open(d.method,d.url,b,f,h)}else{i.open(d.method,d.url,b)}a=g.setupHeaders(i,k,d.data,d.params);e={id:++Ext.data.Connection.requestId,xhr:i,headers:a,options:k,async:b,timeout:setTimeout(function(){e.timedout=true;g.abort(e)},k.timeout||g.timeout)};g.requests[e.id]=e;if(b){i.onreadystatechange=Ext.Function.bind(g.onStateChange,g,[e])}i.send(d.data);if(!b){return this.onComplete(e)}return e}else{Ext.callback(k.callback,k.scope,[k,undefined,undefined]);return null}},upload:function(e,b,i,k){e=Ext.getDom(e);k=k||{};var d=Ext.id(),g=document.createElement("iframe"),j=[],h="multipart/form-data",f={target:e.target,method:e.method,encoding:e.encoding,enctype:e.enctype,action:e.action},a;Ext.fly(g).set({id:d,name:d,cls:Ext.baseCSSPrefix+"hide-display",src:Ext.SSL_SECURE_URL});document.body.appendChild(g);if(document.frames){document.frames[d].name=d}Ext.fly(e).set({target:d,method:"POST",enctype:h,encoding:h,action:b||f.action});Ext.iterate(Ext.urlDecode(i,false),function(l,m){a=document.createElement("input");Ext.fly(a).set({type:"hidden",value:m,name:l});e.appendChild(hd);j.push(a)});Ext.fly(g).on("load",Ext.Function.bind(this.onUploadComplete,this,[g,k]),null,{single:true});e.submit();Ext.fly(e).set(f);Ext.each(j,function(l){Ext.removeNode(l)})},onUploadComplete:function(i,b){var d=this,a={responseText:"",responseXML:null},h,g;try{h=i.contentWindow.document||i.contentDocument||window.frames[id].document;if(h){if(h.body){if(/textarea/i.test((g=h.body.firstChild||{}).tagName)){a.responseText=g.value}else{a.responseText=h.body.innerHTML}}a.responseXML=h.XMLDocument||h}}catch(f){}d.fireEvent("requestcomplete",d,a,b);Ext.callback(b.success,b.scope,[a,b]);Ext.callback(b.callback,b.scope,[b,true,a]);setTimeout(function(){Ext.removeNode(i)},100)},isFormUpload:function(a){var b=this.getForm(a);if(b){return(a.isUpload||(/multipart\/form-data/i).test(b.getAttribute("enctype")))}return false},getForm:function(a){return Ext.getDom(a.form)||null},setupOptions:function(l,k){var i=this,f=l.params||{},h=l.extraParams,e=l.urlParams,d=l.url||i.url,j=l.jsonData,b,a,g;if(Ext.isFunction(f)){f=f.call(k,l)}if(Ext.isFunction(d)){d=d.call(k,l)}d=this.setupUrl(l,d);if(!d){throw"No URL specified"}g=l.rawData||l.xmlData||j||null;if(j&&!Ext.isPrimitive(j)){g=Ext.encode(g)}f=Ext.urlEncode(h,Ext.isObject(f)?Ext.urlEncode(f):f);e=Ext.isObject(e)?Ext.urlEncode(e):e;f=this.setupParams(l,f);b=(l.method||i.method||((f||g)?"POST":"GET")).toUpperCase();this.setupMethod(l,b);a=l.disableCaching!==false?(l.disableCaching||i.disableCaching):false;if(b==="GET"&&a){d=Ext.urlAppend(d,(l.disableCachingParam||i.disableCachingParam)+"="+(new Date().getTime()))}if((b=="GET"||g)&&f){d=Ext.urlAppend(d,f);f=null}if(e){d=Ext.urlAppend(d,e)}return{url:d,method:b,data:g||f||null}},setupUrl:function(b,a){var d=this.getForm(b);if(d){a=a||d.action}return a},setupParams:function(a,e){var d=this.getForm(a),b;if(d&&!this.isFormUpload(a)){b=Ext.core.Element.serializeForm(d);e=e?(e+"&"+b):b}return e},setupMethod:function(a,b){if(this.isFormUpload(a)){return"POST"}return b},setupHeaders:function(m,n,f,d){var i=this,b=Ext.apply({},n.headers||{},i.defaultHeaders||{}),l=i.defaultPostHeader,j=n.jsonData,a=n.xmlData,k,g;if(!b["Content-Type"]&&(f||d)){if(f){if(n.rawData){l="text/plain"}else{if(a&&Ext.isDefined(a)){l="text/xml"}else{if(j&&Ext.isDefined(j)){l="application/json"}}}}b["Content-Type"]=l}if(i.useDefaultXhrHeader&&!b["X-Requested-With"]){b["X-Requested-With"]=i.defaultXhrHeader}try{for(k in b){if(b.hasOwnProperty(k)){g=b[k];m.setRequestHeader(k,g)}}}catch(h){i.fireEvent("exception",k,g)}return b},getXhrInstance:(function(){var b=[function(){return new XMLHttpRequest()},function(){return new ActiveXObject("Msxml2.XMLHTTP.6.0")},function(){return new ActiveXObject("Msxml2.XMLHTTP.3.0")},function(){return new ActiveXObject("Msxml2.XMLHTTP")}],d=0,a=b.length,g;for(;d<a;++d){try{g=b[d];g();break}catch(f){}}return g})(),isLoading:function(a){if(!(a&&a.xhr)){return false}var b=a.xhr.readyState;return !(b===0||b==4)},abort:function(b){var a=this,e=a.requests,d;if(b&&a.isLoading(b)){b.xhr.abort();a.clearTimeout(b);if(!b.timedout){b.aborted=true}a.onComplete(b)}else{if(!b){for(d in e){if(e.hasOwnProperty(d)){a.abort(e[d])}}}}},onStateChange:function(a){if(a.xhr.readyState==4){this.clearTimeout(a);this.onComplete(a);this.cleanup(a)}},clearTimeout:function(a){clearTimeout(a.timeout);delete a.timeout},cleanup:function(a){a.xhr=null;delete a.xhr},onComplete:function(f){var e=this,d=f.options,a=e.parseStatus(f.xhr.status),g=a.success,b;if(g){b=e.createResponse(f);e.fireEvent("requestcomplete",e,b,d);Ext.callback(d.success,d.scope,[b,d])}else{if(a.isException||f.aborted||f.timedout){b=e.createException(f)}else{b=e.createResponse(f)}e.fireEvent("requestexception",e,b,d);Ext.callback(d.failure,d.scope,[b,d])}Ext.callback(d.callback,d.scope,[d,g,b]);delete e.requests[f.id];return b},parseStatus:function(a){a=a==1223?204:a;var d=(a>=200&&a<300)||a==304,b=false;if(!d){switch(a){case 12002:case 12029:case 12030:case 12031:case 12152:case 13030:b=true;break}}return{success:d,isException:b}},createResponse:function(b){var h=b.xhr,a={},i=h.getAllResponseHeaders().replace(/\r\n/g,"\n").split("\n"),d=i.length,j,e,g,f;while(d--){j=i[d];e=j.indexOf(":");if(e>=0){g=j.substr(0,e).toLowerCase();if(j.charAt(e+1)==" "){++e}a[g]=j.substr(e+1)}}b.xhr=null;delete b.xhr;return{request:b,requestId:b.id,status:h.status,statusText:h.statusText,getResponseHeader:function(k){return a[k.toLowerCase()]},getAllResponseHeaders:function(){return a},responseText:h.responseText,responseXML:h.responseXML}},createException:function(a){return{request:a,requestId:a.id,status:a.aborted?-1:0,statusText:a.aborted?"transaction aborted":"communication failure",aborted:a.aborted,timedout:a.timedout}}});Ext.define("Ext.ComponentLoader",{mixins:{observable:"Ext.util.Observable"},requires:["Ext.data.Connection"],statics:{Renderer:{Html:function(a,b,d){a.target.update(b.responseText);return true},Data:function(a,b,d){var g=true;try{a.getTarget().update(Ext.decode(b.responseText))}catch(f){g=false}return g},Component:function(a,d,f){var i=true,h=a.getTarget(),b=[];if(!h.isContainer){throw"Components can only be loader to a container"}try{b=Ext.decode(d.responseText)}catch(g){i=false}if(i){if(a.removeAll){h.removeAll()}h.add(b)}return i}}},url:null,params:null,baseParams:null,autoLoad:false,target:null,loadMask:false,ajaxOptions:null,removeAll:false,renderer:"html",isLoader:true,constructor:function(b){b=b||{};Ext.apply(this,b);this.setTarget(this.target);this.addEvents("beforeload","exception","load");this.mixins.observable.constructor.call(this);if(this.autoLoad){var a=this.autoLoad;if(a===true){a={}}this.load(a)}},setTarget:function(a){if(Ext.isString(a)){a=Ext.getCmp(a)}if(this.target&&this.target!=a){this.abort()}this.target=a},getTarget:function(){return this.target||null},abort:function(){var a=this.active;if(a!==undefined){Ext.Ajax.abort(a.request);if(a.mask){this.target.setLoading(false)}delete this.active}},load:function(i){if(!this.target){throw"A target is required when loading"}i=Ext.apply({},i);var f=this,e=f.target,j=Ext.isDefined(i.loadMask)?i.loadMask:f.loadMask,b=Ext.apply({},i.params),a=Ext.apply({},i.ajaxOptions),g=i.callback||f.callback,h=i.scope||f.scope||f,d;Ext.applyIf(a,f.ajaxOptions);Ext.applyIf(i,a);Ext.applyIf(b,f.params);Ext.apply(b,f.baseParams);Ext.applyIf(i,{url:f.url});if(!i.url){throw"No URL specified"}Ext.apply(i,{scope:f,params:b,callback:f.onComplete});if(f.fireEvent("beforeload",f,i)===false){return}if(j){f.target.setLoading(j)}d=Ext.Ajax.request(i);this.active={request:d,options:i,mask:j,scope:h,callback:g,success:i.success||f.success,failure:i.failure||f.failure,removeAll:i.removeAll||f.removeAll,renderer:i.renderer||f.renderer}},onComplete:function(d,i,b){var f=this,h=f.active,e=h.scope,g=this.getRenderer(h.renderer),a=Ext.isObject(h.renderer)?h.renderer:{};if(i){i=g.call(this,this,b,a)}if(i){Ext.callback(h.success,e,[f,b,d]);f.fireEvent("load",f,b,d)}else{Ext.callback(h.failure,e,[f,b,d]);f.fireEvent("exception",f,b,d)}Ext.callback(h.callback,e,[f,i,b,d]);if(h.mask){this.target.setLoading(false)}delete f.active},getRenderer:function(b){if(Ext.isFunction(b)){return b}var a=this.self.Renderer;switch(b){case"component":return a.Component;case"data":return a.Data;default:return a.Html}},destroy:function(){delete this.target;this.abort();this.clearListeners()}});Ext.define("Ext.layout.AbstractLayout",{isLayout:true,initialized:false,statics:{factory:function(b,e){if(b instanceof Ext.layout.AbstractLayout){return b}var d,a={};if(Ext.isString(b)){d=b}else{d=b.type||e;a=b}return Ext.create("layout."+d,a)}},constructor:function(a){this.id=Ext.id(null,"ext-layout-"+this.type+"-");Ext.apply(this,a)},layout:function(){var a=this;a.layoutBusy=true;a.initLayout();if(a.beforeLayout.apply(a,arguments)!==false){a.onLayout.apply(a,arguments);a.afterLayout();a.owner.needsLayout=false}a.layoutBusy=false},beforeLayout:function(){this.renderItems(this.getLayoutItems(),this.getRenderTarget());return true},renderItems:function(a,f){var e=a.length,b=0,d;for(;b<e;b++){d=a[b];if(d&&!d.rendered){this.renderItem(d,f,b)}else{if(!this.isValidParent(d,f,b)){this.moveItem(d,f,b)}}}},isValidParent:function(b,d,a){var e=b.el?b.el.dom:Ext.getDom(b);if(e&&d&&d.dom){if(Ext.isNumber(a)&&e!==d.dom.childNodes[a]){return false}return(e.parentNode==(d.dom||d))}return false},renderItem:function(b,d,a){if(!b.rendered){b.render(d,a);this.configureItem(b);this.childrenChanged=true}},moveItem:function(b,d,a){if(typeof a=="number"){a=d.dom.childNodes[a]}d=d.dom||d;d.insertBefore(b.el.dom,a||null);b.container=Ext.get(d);this.configureItem(b);this.childrenChanged=true},initLayout:function(){if(!this.initialized&&!Ext.isEmpty(this.targetCls)){this.getTarget().addCls(this.targetCls)}this.initialized=true},setOwner:function(a){this.owner=a},getLayoutItems:function(){return[]},configureItem:function(a){if(this.itemCls){a.el.addCls(this.itemCls)}},onLayout:Ext.emptyFn,afterLayout:Ext.emptyFn,onRemove:Ext.emptyFn,onDestroy:Ext.emptyFn,afterRemove:function(a){if(this.itemCls&&a.rendered){a.el.removeCls(this.itemCls)}},destroy:function(){if(!Ext.isEmpty(this.targetCls)){var a=this.getTarget();if(a){a.removeCls(this.targetCls)}}this.onDestroy()}});Ext.define("Ext.layout.Manager",{extend:"Ext.AbstractManager",requires:["Ext.layout.AbstractLayout"],singleton:true,typeName:"type",create:function(b,d){var a;if(b instanceof Ext.layout.AbstractLayout){return Ext.createByAlias("layout."+b)}else{if(Ext.isObject(b)){a=b.type}else{a=b||d;b={}}return Ext.createByAlias("layout."+a,b||{})}}});Ext.define("Ext.layout.Component",{extend:"Ext.layout.AbstractLayout",type:"component",monitorChildren:true,initLayout:function(){var d=this,a=d.owner,b=a.el;if(!d.initialized){if(this.owner.frameBody){a.frameSize=d.frameSize={top:b.down("."+a.frameCls+"-tc").getHeight(),left:b.down("."+a.frameCls+"-ml").getPadding("l"),right:b.down("."+a.frameCls+"-mr").getPadding("r"),bottom:b.down("."+a.frameCls+"-bc").getHeight()}}else{a.frameSize=d.frameSize={top:0,left:0,bottom:0,right:0}}}d.parent(arguments)},beforeLayout:function(b,i,j,h){this.parent(arguments);var d=this.owner,e=d.ownerCt,f=d.isVisible(),a=d.el.child,g;if(!j&&e&&e.layout&&e.layout.fixedLayout&&e!=h){return false}if(!f&&d.hiddenAncestor){g=d.hiddenAncestor.layoutOnShow;g.remove(d);g.add(d);d.needsLayout={width:b,height:i,isSetSize:false}}if(f&&this.needsLayout(b,i)){this.rawWidth=b;this.rawHeight=i;return true}else{return false}},needsLayout:function(d,a){this.lastComponentSize=this.lastComponentSize||{width:-Infinity,height:-Infinity};var b=this.childrenChanged;this.childrenChanged=false;return(b||this.lastComponentSize.width!==d||this.lastComponentSize.height!==a)},setElementSize:function(d,b,a){if(b!==undefined&&a!==undefined){d.setSize(b,a)}else{if(a!==undefined){d.setHeight(a)}else{if(b!==undefined){d.setWidth(b)}}}},getTarget:function(){return this.owner.el},getRenderTarget:function(){return this.owner.el},setTargetSize:function(e,a){var f=this;f.setElementSize(f.owner.el,e,a);if(f.owner.frameBody){var h=f.getTargetInfo(),g=h.padding,d=h.border,b=f.frameSize;f.owner.frameBody.setSize({width:e!==undefined?(e-b.left-b.right-g.left-g.right-d.left-d.right):null,height:a!==undefined?(a-b.top-b.bottom-g.top-g.bottom-d.top-d.bottom):null})}f.lastComponentSize={width:e,height:a}},getTargetInfo:function(){if(!this.targetInfo){var b=this.getTarget(),a=this.owner.getTargetEl();this.targetInfo={padding:{top:b.getPadding("t"),right:b.getPadding("r"),bottom:b.getPadding("b"),left:b.getPadding("l")},border:{top:b.getBorderWidth("t"),right:b.getBorderWidth("r"),bottom:b.getBorderWidth("b"),left:b.getBorderWidth("l")},bodyMargin:{top:a.getMargin("t"),right:a.getMargin("r"),bottom:a.getMargin("b"),left:a.getMargin("l")}}}return this.targetInfo},afterLayout:function(){var a=this.owner,d=a.layout,b=a.ownerCt,g,f,e;a.afterComponentLayout(this.rawWidth,this.rawHeight);if(d&&d.isLayout){d.layout()}if(b&&b.componentLayout&&b.componentLayout.monitorChildren&&!b.componentLayout.layoutBusy){b.componentLayout.childrenChanged=true;if(b.componentLayout.bindToOwnerCtComponent===true){b.doComponentLayout()}else{if(b.layout&&!b.layout.layoutBusy){if(b.layout.bindToOwnerCtComponent===true){b.doComponentLayout()}else{if(b.componentLayout.bindToOwnerCtContainer===true||b.layout.bindToOwnerCtContainer===true){b.layout.layout()}}}}}}});Ext.define("Ext.layout.component.Auto",{alias:"layout.autocomponent",extend:"Ext.layout.Component",type:"autocomponent",onLayout:function(b,a){this.setTargetSize(b,a)}});Ext.define("Ext.AbstractComponent",{mixins:{observable:"Ext.util.Observable"},requires:["Ext.PluginMgr","Ext.ComponentMgr","Ext.core.Element","Ext.core.DomHelper","Ext.XTemplate","Ext.ComponentQuery","Ext.LoadMask","Ext.ComponentLoader","Ext.EventManager","Ext.layout.Manager","Ext.layout.component.Auto"],uses:["Ext.ZIndexManager"],statics:{AUTO_ID:1000},isComponent:true,getAutoId:function(){return ++Ext.AbstractComponent.AUTO_ID},renderTpl:null,tplWriteMode:"overwrite",baseCls:Ext.baseCSSPrefix+"component",disabledCls:Ext.baseCSSPrefix+"item-disabled",hidden:false,disabled:false,draggable:false,floating:false,hideMode:"display",styleHtmlContent:false,styleHtmlCls:Ext.baseCSSPrefix+"html",allowDomMove:true,autoShow:false,autoRender:false,needsLayout:false,rendered:false,constructor:function(b){var e=this,d,a;b=b||{};e.initialConfig=b;Ext.apply(e,b);e.addEvents("beforeactivate","activate","beforedeactivate","deactivate","added","disable","enable","beforeshow","show","beforehide","hide","removed","beforerender","render","afterrender","beforedestroy","destroy","resize","move","beforestaterestore","staterestore","beforestatesave","statesave");e.getId();e.mons=[];e.additionalCls=[];e.renderData=e.renderData||{};e.renderSelectors=e.renderSelectors||{};if(e.plugins){e.plugins=[].concat(e.plugins);for(d=0,a=e.plugins.length;d<a;d++){e.plugins[d]=e.constructPlugin(e.plugins[d])}}e.initComponent();Ext.ComponentMgr.register(e);e.mixins.observable.constructor.call(e);if(e.plugins){e.plugins=[].concat(e.plugins);for(d=0,a=e.plugins.length;d<a;d++){e.plugins[d]=e.initPlugin(e.plugins[d])}}e.loader=e.getLoader();if(e.applyTo){e.applyToMarkup(e.applyTo);delete e.applyTo}else{if(e.renderTo){e.autoRender=e.renderTo;delete e.renderTo;e.doAutoRender()}}if(Ext.isDefined(e.disabledClass)){throw"Component: disabledClass has been deprecated. Please use disabledCls."}},initComponent:Ext.emptyFn,applyToMarkup:Ext.emptyFn,show:Ext.emptyFn,onShow:function(){var a=this.needsLayout;if(Ext.isObject(a)){this.doComponentLayout(a.width,a.height,a.isSetSize,a.ownerCt)}},constructPlugin:function(a){if(a.ptype&&typeof a.init!="function"){a.cmp=this;a=Ext.PluginMgr.create(a)}else{if(typeof a=="string"){a=Ext.PluginMgr.create({ptype:a,cmp:this})}}return a},initPlugin:function(a){a.init(this);return a},doAutoRender:function(){var a=this;if(a.floating){a.zIndexParent=a.getZIndexParent();a.floatParent=a.ownerCt;delete a.ownerCt;if((a.constrain||a.constrainHeader)&&!a.constrainTo){a.constrainTo=a.floatParent?a.floatParent.getTargetEl():Ext.getBody()}if(a.zIndexParent){a.zIndexParent.registerFloatingItem(a)}else{Ext.WindowMgr.register(a)}a.render(document.body)}else{a.render(Ext.isBoolean(a.autoRender)?Ext.getBody():a.autoRender)}},getZIndexParent:function(){var a=this.ownerCt,b;if(a){while(a){b=a;a=a.ownerCt}if(b.el.dom!==document.body){return b}}},render:function(b,a){if(!this.rendered&&this.fireEvent("beforerender",this)!==false){if(this.el){this.el=Ext.get(this.el)}b=this.initContainer(b);this.onRender(b,a);this.el.setVisibilityMode(Ext.core.Element[this.hideMode.toUpperCase()]);if(this.overCls){this.el.addClsOnOver(this.overCls)}this.fireEvent("render",this);this.initContent();this.afterRender(b);this.fireEvent("afterrender",this);this.initEvents();if(this.autoShow){this.show()}if(this.hidden){this.onHide(false)}if(this.disabled){this.disable(true)}}return this},onRender:function(b,a){var d=this.el,f,e;a=this.getInsertPosition(a);if(!d){if(a){d=Ext.core.DomHelper.insertBefore(a,this.getElConfig(),true)}else{d=Ext.core.DomHelper.append(b,this.getElConfig(),true)}}else{if(this.allowDomMove!==false){b.dom.insertBefore(d.dom,a)}}d.addCls(this.initCls());d.setStyle(this.initStyles());this.el=d;if(this.frame&&!Ext.supports.CSS3BorderRadius){this.initFrame()}f=this.initRenderTpl();if(f){e=this.initRenderData();f.append(this.getTargetEl(),e)}this.applyRenderSelectors();this.rendered=true},afterRender:function(){var a=this,d,b;a.getComponentLayout();a.setSize(a.width,a.height);if(a.floating&&(a.x===undefined||a.y===undefined)){if(a.floatParent){b=a.el.getAlignToXY(a.floatParent.getTargetEl(),"c-c");d={left:b[0],top:b[1]}}else{b=a.el.getAlignToXY(a.container,"c-c");d=a.el.translatePoints(b[0],b[1])}a.x=a.x===undefined?d.left:a.x;a.y=a.y===undefined?d.top:a.y}if(a.x||a.y){a.setPosition(a.x,a.y)}if(a.styleHtmlContent){a.getTargetEl().addCls(a.styleHtmlCls)}},frameCls:"x-frame",frameTpl:['<div class="{frameCls}-tl {baseCls}-tl" role="presentation">','<div class="{frameCls}-tr {baseCls}-tr" role="presentation">','<div class="{frameCls}-tc {baseCls}-tc" role="presentation"></div>',"</div>","</div>",'<div class="{frameCls}-ml {baseCls}-ml" role="presentation">','<div class="{frameCls}-mr {baseCls}-mr" role="presentation">','<div class="{frameCls}-mc {baseCls}-mc" role="presentation"></div>',"</div>","</div>",'<div class="{frameCls}-bl {baseCls}-bl" role="presentation">','<div class="{frameCls}-br {baseCls}-br" role="presentation">','<div class="{frameCls}-bc {baseCls}-bc" role="presentation"></div>',"</div>","</div>"],initFrame:function(){var a=this.initFrameTpl(),b=this.baseCls+(this.ui?"-"+this.ui:"");a.append(this.el,{frameCls:this.frameCls,baseCls:b});this.frameBody=this.el.down("."+b+"-mc")},initFrameTpl:function(){var a=this.frameTpl;if(Ext.isArray(a)||typeof a==="string"){a=new Ext.XTemplate(a)}return a},initCls:function(){var a=[this.baseCls];if(Ext.isDefined(this.cmpCls)){throw"Ext.Component: cmpCls renamed to componentCls"}if(this.componentCls){a.push(this.componentCls)}else{this.componentCls=this.baseCls}if(this.cls){a.push(this.cls);delete this.cls}if(this.ui){a.push(this.componentCls+"-"+this.ui)}if(this.frame){a.push("x-framed "+this.baseCls+"-"+(this.ui?this.ui+"-":"")+"framed")}return a.concat(this.additionalCls)},getElConfig:function(){var a=this.autoEl||{tag:"div"};a.id=this.id;return a},getInsertPosition:function(a){if(a!==undefined){if(Ext.isNumber(a)){a=this.container.dom.childNodes[a]}else{a=Ext.getDom(a)}}return a},initContainer:function(a){if(!a&&this.el){a=this.el.dom.parentNode;this.allowDomMove=false}this.container=Ext.get(a);if(this.ctCls){this.container.addCls(this.ctCls)}return this.container},initRenderData:function(){return Ext.applyIf(this.renderData,{ui:this.ui,baseCls:this.baseCls,componentCls:this.componentCls,frame:this.frame})},initRenderTpl:function(){var b=this.renderTpl,a=Ext.AbstractComponent.prototype;if(b){if(a.renderTpl!==b){if(Ext.isArray(b)||typeof b==="string"){b=new Ext.XTemplate(b)}}else{if(Ext.isArray(a.renderTpl)){b=a.renderTpl=new Ext.XTemplate(b)}}}return b},initStyles:function(){var e={},a=Ext.core.Element,d,f,b,g;if(Ext.isString(this.style)){b=this.style.split(";");for(d=0,f=b.length;d<f;d++){if(!Ext.isEmpty(b[d])){g=b[d].split(":");e[Ext.String.trim(g[0])]=Ext.String.trim(g[1])}}}else{e=Ext.apply({},this.style)}if(this.padding!=undefined){e.padding=a.unitizeBox((this.padding===true)?5:this.padding)}if(this.margin!=undefined){e.margin=a.unitizeBox((this.margin===true)?5:this.margin)}if(this.border!=undefined){e.borderWidth=a.unitizeBox((this.border===true)?1:this.border)}delete this.style;return e},initContent:function(){var d=this.getTargetEl();if(this.html){d.update(Ext.core.DomHelper.markup(this.html));delete this.html}if(this.contentEl){var a=Ext.get(this.contentEl),b=Ext.baseCSSPrefix;a.removeCls([b+"hidden",b+"hide-display",b+"hide-offsets",b+"hide-nosize"]);d.appendChild(a.dom)}if(this.tpl){if(!this.tpl.isTemplate){this.tpl=new Ext.XTemplate(this.tpl)}if(this.data){this.tpl[this.tplWriteMode](d,this.data);delete this.data}}},initEvents:function(){var d=this.afterRenderEvents,b,a;if(d){for(b in d){if(!d.hasOwnProperty(b)){continue}a=d[b];if(this[b]&&this[b].on){this.mon(this[b],a)}}}},applyRenderSelectors:function(){var b=this.renderSelectors||{},d=this.el.dom,a;for(a in b){if(!b.hasOwnProperty(a)){continue}this[a]=Ext.get(Ext.DomQuery.selectNode(b[a],d))}},is:function(a){return Ext.ComponentQuery.is(this,a)},up:function(b){var a=this.ownerCt;if(b){for(;a;a=a.ownerCt){if(Ext.ComponentQuery.is(a,b)){return a}}}return a},nextSibling:function(b){var f=this.ownerCt,d,e,a,g;if(f){d=f.items;a=d.indexOf(this)+1;if(a){if(b){for(e=d.getCount();a<e;a++){if((g=d.getAt(a)).is(b)){return g}}}else{if(a<d.getCount()){return d.getAt(a)}}}}return null},previousSibling:function(b){var e=this.ownerCt,d,a,f;if(e){d=e.items;a=d.indexOf(this);if(a!=-1){if(b){for(--a;a>=0;a--){if((f=d.getAt(a)).is(b)){return f}}}else{if(a){return d.getAt(--a)}}}}return null},getId:function(){return this.id||(this.id="ext-comp-"+(this.getAutoId()))},getItemId:function(){return this.itemId||this.id},getEl:function(){return this.el},getTargetEl:function(){return this.frameBody||this.el},isXType:function(b,a){if(Ext.isFunction(b)){b=b.xtype}else{if(Ext.isObject(b)){b=b.constructor.xtype}}return !a?("/"+this.getXTypes()+"/").indexOf("/"+b+"/")!=-1:this.constructor.xtype==b},getXTypes:function(){var a=this.self,b=[],e=this,d;if(!a.xtypes){while(e&&e.self){d=e.self.xtype;if(d!=undefined){b.unshift(d)}e=e.self.superclass}a.xtypeChain=b;a.xtypes=b.join("/")}return a.xtypes},update:function(b,d,a){if(this.tpl&&!Ext.isString(b)){this.data=b;if(this.rendered){this.tpl[this.tplWriteMode](this.getTargetEl(),b||{})}}else{this.html=Ext.isObject(b)?Ext.core.DomHelper.markup(b):b;if(this.rendered){this.getTargetEl().update(this.html,d,a)}}if(this.rendered){this.doComponentLayout()}},setVisible:function(a){return this[a?"show":"hide"]()},isVisible:function(){var b=this,e=b,d=!b.hidden,a=b.ownerCt;b.hiddenAncestor=false;if(b.destroyed){return false}if(d&&b.rendered&&a){while(a){if(a.hidden||(a.collapsed&&!(a.getDockedItems&&Ext.Array.contains(a.getDockedItems(),e)))){b.hiddenAncestor=a;d=false;break}e=a;a=a.ownerCt}}return d},enable:function(a){if(this.rendered){this.el.removeCls(this.disabledCls);this.el.dom.disabled=false;this.onEnable()}this.disabled=false;if(a!==true){this.fireEvent("enable",this)}return this},disable:function(a){if(this.rendered){this.el.addCls(this.disabledCls);this.el.dom.disabled=true;this.onDisable()}this.disabled=true;if(a!==true){this.fireEvent("disable",this)}return this},isDisabled:function(){return this.disabled},setDisabled:function(a){return this[a?"disable":"enable"]()},isHidden:function(){return this.hidden},addCls:function(){var b=this,a=Ext.Array.toArray(arguments);if(b.rendered){b.el.addCls(a)}else{b.additionalCls=b.additionalCls.concat(a)}return b},addClass:function(){throw"Component: addClass has been deprecated. Please use addCls."},removeCls:function(){var b=this,a=Ext.Array.toArray(arguments);if(b.rendered){b.el.removeCls(a)}else{if(b.additionalCls.length){Ext.each(a,function(d){Ext.Array.remove(b.additionalCls,d)})}}return b},removeClass:function(){throw"Component: removeClass has been deprecated. Please use removeCls."},addListener:function(b,g,f,a){if(Ext.isString(b)&&(Ext.isObject(g)||a&&a.element)){if(a.element){var e=g,d;g={};g[b]=e;b=a.element;if(f){g.scope=f}for(d in a){if(!a.hasOwnProperty(d)){continue}if(this.eventOptionsRe.test(d)){g[d]=a[d]}}}if(this[b]&&this[b].on){this.mon(this[b],g)}else{this.afterRenderEvents=this.afterRenderEvents||{};this.afterRenderEvents[b]=g}}return this.mixins.observable.addListener.apply(this,arguments)},getBubbleTarget:function(){return this.ownerCt},isFloating:function(){return this.floating},isDraggable:function(){return !!this.draggable},isDroppable:function(){return !!this.droppable},onAdded:function(a,b){this.ownerCt=a;this.fireEvent("added",this,a,b)},onRemoved:function(){this.fireEvent("removed",this,this.ownerCt);delete this.ownerCt},onEnable:Ext.emptyFn,onDisable:Ext.emptyFn,beforeDestroy:Ext.emptyFn,onResize:Ext.emptyFn,setSize:function(b,a){if(Ext.isObject(b)){a=b.height;b=b.width}if(Ext.isNumber(b)){b=Ext.Number.constrain(b,this.minWidth,this.maxWidth)}if(Ext.isNumber(a)){a=Ext.Number.constrain(a,this.minHeight,this.maxHeight)}if(!this.rendered||!this.isVisible()){if(this.hiddenAncestor){var d=this.hiddenAncestor.layoutOnShow;d.remove(this);d.add(this)}this.needsLayout={width:b,height:a,isSetSize:true};if(!this.rendered){this.width=(b!==undefined)?b:this.width;this.height=(a!==undefined)?a:this.height}return this}this.doComponentLayout(b,a,true);return this},setCalculatedSize:function(d,a,b){if(Ext.isObject(d)){b=d.ownerCt;a=d.height;d=d.width}if(Ext.isNumber(d)){d=Ext.Number.constrain(d,this.minWidth,this.maxWidth)}if(Ext.isNumber(a)){a=Ext.Number.constrain(a,this.minHeight,this.maxHeight)}if(!this.rendered||!this.isVisible()){if(this.hiddenAncestor){var e=this.hiddenAncestor.layoutOnShow;e.remove(this);e.add(this)}this.needsLayout={width:d,height:a,isSetSize:false,ownerCt:b};return this}this.doComponentLayout(d,a,false,b);return this},doComponentLayout:function(f,a,b,e){var d=this.getComponentLayout();if(this.rendered&&d){f=(f!==undefined)?f:this.width;a=(a!==undefined)?a:this.height;if(b){this.width=f;this.height=a}d.layout(f,a,b,e)}return this},setComponentLayout:function(b){var a=this.componentLayout;if(a&&a.isLayout&&a!=b){a.setOwner(null)}this.componentLayout=b;b.setOwner(this)},getComponentLayout:function(){if(!this.componentLayout||!this.componentLayout.isLayout){this.setComponentLayout(Ext.layout.Manager.create(this.componentLayout,"autocomponent"))}return this.componentLayout},afterComponentLayout:function(b,a){this.fireEvent("resize",this,b,a)},setPosition:function(a,b){if(Ext.isObject(a)){b=a.y;a=a.x}if(!this.rendered){return this}if(a!==undefined||b!==undefined){this.el.setBox(a,b);this.onPosition(a,b);this.fireEvent("move",this,a,b)}return this},onPosition:Ext.emptyFn,setWidth:function(a){return this.setSize(a)},setHeight:function(a){return this.setSize(undefined,a)},getSize:function(){return this.el.getSize()},getWidth:function(){return this.el.getWidth()},getHeight:function(){return this.el.getHeight()},getLoader:function(){var b=this.autoLoad?(Ext.isObject(this.autoLoad)?this.autoLoad:{url:this.autoLoad}):null,a=this.loader||b;if(a){if(!a.isLoader){this.loader=Ext.create("Ext.ComponentLoader",Ext.apply({target:this,autoLoad:b},a))}else{a.setTarget(this)}return this.loader}return null},setLoading:function(a,b){if(this.rendered){if(a){this.loadMask=this.loadMask||new Ext.LoadMask(b?this.getTargetEl():this.el,Ext.applyIf(Ext.isObject(a)?a:{}));this.loadMask.show()}else{Ext.destroy(this.loadMask);this.loadMask=null}}return this.loadMask},setDocked:function(a,b){this.dock=a;if(b&&this.ownerCt&&this.rendered){this.ownerCt.doComponentLayout()}return this},onDestroy:function(){if(this.monitorResize&&Ext.EventManager.resizeEvent){Ext.EventManager.resizeEvent.removeListener(this.setSize,this)}Ext.destroy(this.componentLayout,this.loadMask)},destroy:function(){if(!this.isDestroyed){if(this.fireEvent("beforedestroy",this)!==false){this.destroying=true;this.beforeDestroy();if(this.ownerCt&&this.ownerCt.remove){this.ownerCt.remove(this,false)}if(this.rendered){this.el.remove()}this.onDestroy();Ext.ComponentMgr.unregister(this);this.fireEvent("destroy",this);this.clearListeners();this.destroying=false;this.isDestroyed=true}}},getPlugin:function(b){var d=0,a=this.plugins,e=a.length;for(;d<e;d++){if(a[d].pluginId===b){return a[d]}}}},function(){this.implement({on:this.prototype.addListener,prev:this.prototype.previousSibling,next:this.prototype.nextSibling})});Ext.define("Ext.util.Floating",{uses:["Ext.Layer"],constructor:function(a){this.floating=true;this.el=new Ext.Layer(Ext.apply({},a,{hideMode:this.hideMode,hidden:this.hidden,shadow:Ext.isDefined(this.shadow)?this.shadow:"sides",shadowOffset:this.shadowOffset,constrain:false,shim:this.shim===false?false:undefined}),this.el)},setZIndex:function(a){var b=this;this.el.setZIndex(a);a+=10;if(b.floatingItems){a=Math.floor(b.floatingItems.setBase(a)/100)*100+10000}return a},doConstrain:function(d){var e=this,a,b,f;if(e.constrain||e.constrainHeader){if(e.constrainHeader){a=e.header.el}else{a=e.el}b=a.getConstrainVector(d||(e.floatParent&&e.floatParent.getTargetEl())||e.container);if(b){f=e.getPosition();f[0]+=b[0];f[1]+=b[1];e.setPosition(f)}}},alignTo:function(b,a,d){var e=this.el.getAlignToXY(b,a,d);this.setPagePosition(e);return this},toFront:function(a){if(this.zIndexManager.bringToFront(this)){if(!a||!a.getTarget().focus){this.focus()}}return this},setActive:function(a){if(a){if(!this.maximized){}this.fireEvent("activate",this)}else{this.el.disableShadow();this.fireEvent("deactivate",this)}},toBack:function(){this.zIndexManager.sendToBack(this);return this},center:function(){var a=this.el.getAlignToXY(this.container,"c-c");this.setPagePosition(a);return this},fitContainer:function(){var a=this.container.getViewSize(false);this.setSize(a)}});Ext.define("Ext.Component",{alias:["widget.component","widget.box"],extend:"Ext.AbstractComponent",uses:["Ext.Layer","Ext.resizer.Resizer","Ext.util.ComponentDragger","Ext.fx.Anim","Ext.state.Manager","Ext.util.DelayedTask"],mixins:{floating:"Ext.util.Floating"},statics:{DIRECTION_UP:"up",DIRECTION_RIGHT:"right",DIRECTION_DOWN:"down",DIRECTION_LEFT:"left"},floating:false,hideMode:"display",hideParent:false,ariaRole:"presentation",bubbleEvents:[],actionMode:"el",monPropRe:/^(?:scope|delay|buffer|single|stopEvent|preventDefault|stopPropagation|normalized|args|delegate)$/,constructor:function(a){a=a||{};if(a.initialConfig){a=a.initialConfig}else{if(a.tagName||a.dom||Ext.isString(a)){a={applyTo:a,id:a.id||a}}}Ext.Component.superclass.constructor.call(this,a);if(this.stateful!==false){this.initState()}},initComponent:function(){if(this.listeners){this.on(this.listeners);delete this.listeners}this.enableBubble(this.bubbleEvents);this.mons=[]},render:function(d,a,b){Ext.Component.superclass.render.apply(this,arguments);if(this.stateful!==false){this.initStateEvents()}return this},afterRender:function(){var a=this.resizable||this.resizeable;if(this.floating){this.makeFloating(this.floating)}this.setAutoScroll(this.autoScroll);Ext.Component.superclass.afterRender.apply(this,arguments);if(!(this.x&&this.y)&&(this.pageX||this.pageY)){this.setPagePosition(this.pageX,this.pageY)}if(a){this.initResizable(a)}if(this.draggable){this.initDraggable()}this.initAria()},initAria:function(){var a=this.getActionEl(),b=this.ariaRole;if(b){a.dom.setAttribute("role",b)}},setAutoScroll:function(a){a=!!a;if(this.rendered){this.getTargetEl().setStyle("overflow",a?"auto":"")}this.autoScroll=a;return this},makeFloating:function(a){this.mixins.floating.constructor.call(this,a)},initResizable:function(a){a=Ext.apply({target:this,dynamic:false,constrainTo:this.constrainTo},a);a.target=this;this.resizer=new Ext.resizer.Resizer(a)},getDragEl:function(){return this.el},initDraggable:function(){var b=this,a=Ext.applyIf({el:this.getDragEl(),constrainTo:b.constrainTo||b.el.dom.parentNode},this.draggable);if(b.constrain||b.constrainDelegate){a.constrain=b.constrain;a.constrainDelegate=b.constrainDelegate}this.dd=new Ext.util.ComponentDragger(this,a)},setPosition:function(a,h,d){if(a&&typeof a[1]=="number"){d=h;h=a[1];a=a[0]}this.x=a;this.y=h;if(!this.rendered){return this}var b=this.adjustPosition(a,h),g=b.x,f=b.y;var e=this.el;if(g!==undefined||f!==undefined){if(d&&Ext.fx){d={target:this,duration:Ext.num(d,1000),listeners:{afteranimate:Ext.Function.bind(this.afterSetPosition,this,[g,f])},to:{}};if(g!==undefined){d.to.left=g}if(f!==undefined){d.to.top=f}if(this.positionAnimation&&this.positionAnimation.running){this.positionAnimation.end(true)}this.positionAnimation=new Ext.fx.Anim(d)}else{if(g==undefined){e.setTop(f)}else{if(f==undefined){e.setLeft(g)}else{e.setLeftTop(g,f)}}this.afterSetPosition(g,f)}}return this},afterSetPosition:function(b,a){delete this.positionAnimation;this.onPosition(b,a);this.fireEvent("move",this,b,a)},showAt:function(a,d,b){if(this.floating){this.setPosition(a,d,b)}else{this.setPagePosition(a,d,b)}this.show()},setPagePosition:function(a,f,b){if(a&&typeof a[1]=="number"){f=a[1];a=a[0]}this.pageX=a;this.pageY=f;if(a===undefined||f===undefined){return this}if(this.floating&&this.floatParent){var e=this.floatParent.getTargetEl().getViewRegion();a-=e.left;f-=e.top;this.setPosition(a,f,b)}else{var d=this.el.translatePoints(a,f);this.setPosition(d.left,d.top,b)}return this},getBox:function(a){var d=this.getPosition(a);var b=this.getSize();b.x=d[0];b.y=d[1];return b},updateBox:function(a){this.setSize(a.width,a.height);this.setPagePosition(a.x,a.y);return this},getOuterSize:function(){var a=this.el;return{width:a.getWidth()+a.getMargin("lr"),height:a.getHeight()+a.getMargin("tb")}},adjustSize:function(a,b){if(this.autoWidth){a="auto"}if(this.autoHeight){b="auto"}return{width:a,height:b}},adjustPosition:function(a,d){if(this.floating&&this.floatParent){var b=this.floatParent.getTargetEl().getViewRegion();a+=b.left;d+=b.top}return{x:a,y:d}},getPosition:function(a){var b=this.el,d;if(a===true){return[b.getLeft(true),b.getTop(true)]}d=this.xy||b.getXY();if(this.floating&&this.floatParent){var e=this.floatParent.getTargetEl().getViewRegion();d[0]-=e.left;d[1]-=e.top}return d},getId:function(){return this.id||(this.id=(this.getXType()||"ext-comp")+"-"+this.getAutoId())},onEnable:function(){var a=this.getActionEl();a.removeCls(this.disabledClass);a.dom.removeAttribute("aria-disabled");a.dom.disabled=false},onDisable:function(){var a=this.getActionEl();a.addCls(this.disabledClass);a.dom.setAttribute("aria-disabled",true);a.dom.disabled=true},show:function(d,a,b){if(!(this.rendered&&this.isVisible())&&this.fireEvent("beforeshow",this)!==false){this.hidden=false;if(!this.rendered&&(this.autoRender||this.floating)){this.doAutoRender()}if(this.rendered){this.beforeShow();this.onShow.apply(this,arguments);if(this.ownerCt&&!this.ownerCt.suspendLayout&&!this.floating){this.ownerCt.doLayout()}}this.afterShow()}return this},beforeShow:Ext.emptyFn,afterShow:function(){if(this.floating){this.toFront()}this.fireEvent("show",this)},hide:function(){if(!(this.rendered&&!this.isVisible())&&this.fireEvent("beforehide",this)!==false){this.hidden=true;if(this.rendered){this.onHide();if(this.ownerCt&&!this.ownerCt.suspendLayout&&!this.floating){this.ownerCt.doLayout()}}this.fireEvent("hide",this)}return this},onShow:function(){this.el.show();Ext.Component.superclass.onShow.call(this)},onHide:function(){this.el.hide()},destroy:function(){var a=this;if(!a.isDestroyed){if(a.fireEvent("beforedestroy",a)!==false){a.destroying=true;a.beforeDestroy();if(a.ownerCt&&a.ownerCt.remove){a.ownerCt.remove(a,false)}delete a.floatParent;if(a.rendered){Ext.destroy(a.proxy,a.resizer);a.el.remove();if(a.actionMode=="container"||a.removeMode=="container"){a.container.remove()}}if(a.zIndexManager){a.zIndexManager.unregister(a)}if(a.focusTask&&a.focusTask.cancel){a.focusTask.cancel()}a.onDestroy();Ext.ComponentMgr.unregister(a);a.fireEvent("destroy",a);a.clearListeners();a.destroying=false;a.isDestroyed=true}}},initState:function(){if(Ext.state.Manager){var b=this.getStateId();if(b){var a=Ext.state.Manager.get(b);if(a){if(this.fireEvent("beforestaterestore",this,a)!==false){this.applyState(Ext.apply({},a));this.fireEvent("staterestore",this,a)}}}}},getStateId:function(){return this.stateId||((/^(ext-comp-|ext-gen)/).test(String(this.id))?null:this.id)},initStateEvents:function(){if(this.stateEvents){for(var a=0,b;b=this.stateEvents[a];a++){this.on(b,this.saveState,this,{delay:100})}}},applyState:function(a){if(a){Ext.apply(this,a)}},getState:function(){return null},saveState:function(){if(Ext.state.Manager&&this.stateful!==false){var b=this.getStateId();if(b){var a=this.getState();if(this.fireEvent("beforestatesave",this,a)!==false){Ext.state.Manager.set(b,a);this.fireEvent("statesave",this,a)}}}},applyToMarkup:function(a){this.allowDomMove=false;this.render(Ext.getDom(a).parentNode,null,true)},deleteMembers:function(){var b=arguments,a=b.length,d=0;for(;d<a;++d){delete this[b[d]]}},focus:function(d,b){var a;if(b){this.focusTask=new Ext.util.DelayedTask(this.focus,this,[d,false]);this.focusTask.delay(Ext.isNumber(b)?b:10);return this}if(this.rendered&&!this.isDestroyed){a=this.getFocusEl();a.focus();if(a.dom&&d===true){a.dom.select()}}return this},getFocusEl:function(){return this.el},blur:function(){if(this.rendered){this.el.blur()}return this},getEl:function(){return this.el},getResizeEl:function(){return this.el},getPositionEl:function(){return this.el},getActionEl:function(){return this.el},getVisibilityEl:function(){return this.el},onResize:Ext.emptyFn,getBubbleTarget:function(){return this.ownerCt},getContentTarget:function(){return this.el},cloneConfig:function(b){b=b||{};var d=b.id||Ext.id();var a=Ext.applyIf(b,this.initialConfig);a.id=d;return new this.self(a)},getXType:function(){return this.self.xtype},isXType:function(b,a){if(Ext.isFunction(b)){b=b.xtype}else{if(Ext.isObject(b)){b=b.constructor.xtype}}return !a?("/"+this.getXTypes()+"/").indexOf("/"+b+"/")!=-1:this.self.xtype==b},findParentBy:function(a){var b;for(b=this.ownerCt;(b!=null)&&!a(b,this);b=b.ownerCt){}return b||null},findParentByType:function(a){return Ext.isFunction(a)?this.findParentBy(function(b){return b.constructor===a}):this.up(a)},bubble:function(d,b,a){var e=this;while(e){if(d.apply(b||e,a||[e])===false){break}e=e.ownerCt}return this},alignTo:function(b,a,d){this.el.alignTo.apply(this.el,arguments)},getProxy:function(){if(!this.proxy){this.proxy=this.el.createProxy(Ext.baseCSSPrefix+"proxy-el",Ext.getBody(),true)}return this.proxy}});Ext.define("Ext.draw.SpriteGroup",{extend:"Ext.util.MixedCollection",isSpriteGroup:true,constructor:function(a){a=a||{};Ext.apply(this,a);this.addEvents("mousedown","mouseup","mouseover","mouseout","click");this.id=Ext.id(null,"ext-sprite-group-");Ext.draw.SpriteGroup.superclass.constructor.call(this)},onClick:function(a){this.fireEvent("click",a)},onMouseUp:function(a){this.fireEvent("mouseup",a)},onMouseDown:function(a){this.fireEvent("mousedown",a)},onMouseOver:function(a){this.fireEvent("mouseover",a)},onMouseOut:function(a){this.fireEvent("mouseout",a)},attachEvents:function(a){a.on({scope:this,mousedown:this.onMouseDown,mouseup:this.onMouseUp,mouseover:this.onMouseOver,mouseout:this.onMouseOut,click:this.onClick})},add:function(b,d){var a=Ext.draw.SpriteGroup.superclass.add.apply(this,Array.prototype.slice.call(arguments));this.attachEvents(a);return a},insert:function(a,b,d){return Ext.draw.SpriteGroup.superclass.insert.apply(this,Array.prototype.slice.call(arguments))},remove:function(a){Ext.draw.SpriteGroup.superclass.remove.apply(this,arguments)},getBBox:function(){var f,n,h,k=this.items,j=this.length,g=Infinity,d=g,m=-g,b=g,l=-g,e,a;for(f=0;f<j;f++){n=k[f];if(n.el){h=n.getBBox();d=Math.min(d,h.x);b=Math.min(b,h.y);m=Math.max(m,h.height+h.y);l=Math.max(l,h.width+h.x)}}return{x:d,y:b,height:m-b,width:l-d}},setAttributes:function(b,f){var d,a=this.items,e=this.length;for(d=0;d<e;d++){a[d].setAttributes(b,f)}return this},hide:function(b){var d,a=this.items,e=this.length;for(d=0;d<e;d++){a[d].hide()}return this},show:function(b){var d,a=this.items,e=this.length;for(d=0;d<e;d++){a[d].show()}return this},redraw:function(){var d,b=this.items,a=b.length?b[0].surface:false,e=this.length;if(a){for(d=0;d<e;d++){a.renderItem(b[d])}}return this},setStyle:function(f){var a=this.items,e=this.length,b,d;for(b=0;b<e;b++){d=a[b];if(d.el){el.setStyle(f)}}},addCls:function(f){var d,b=this.items,a=b.length?b[0].surface:false,e=this.length;if(a){for(d=0;d<e;d++){a.addCls(b[d],f)}}},removeCls:function(f){var d,b=this.items,a=b.length?b[0].surface:false,e=this.length;if(a){for(d=0;d<e;d++){a.removeCls(b[d],f)}}}});Ext.define("Ext.draw.Surface",{mixins:{observable:"Ext.util.Observable"},requires:["Ext.draw.SpriteGroup"],uses:["Ext.draw.engine.SVG","Ext.draw.engine.VML","Ext.draw.engine.Canvas"],statics:{newInstance:function(b,e){e=e||["SVG","Canvas","VML"];var d=0,a=e.length,f;for(;d<a;d++){if(Ext.supports[e[d]]){f=Ext.draw.engine[e[d]];if(f){return new f(b)}}}return false}},availableAttrs:{blur:0,"clip-rect":"0 0 1e9 1e9",cursor:"default",cx:0,cy:0,"dominant-baseline":"auto",fill:"none","fill-opacity":1,font:'10px "Arial"',"font-family":'"Arial"',"font-size":"10","font-style":"normal","font-weight":400,gradient:"",height:0,hidden:false,href:"http://sencha.com/",opacity:1,path:"M0,0",radius:0,rx:0,ry:0,scale:"1 1",src:"",stroke:"#000","stroke-dasharray":"","stroke-linecap":"butt","stroke-linejoin":"butt","stroke-miterlimit":0,"stroke-opacity":1,"stroke-width":1,target:"_blank",text:"","text-anchor":"middle",title:"Ext Draw",width:0,x:0,y:0,zIndex:0},container:undefined,height:352,width:512,x:0,y:0,constructor:function(a){a=a||{};Ext.apply(this,a);this.mixins.observable.constructor.call(this);this.domRef=Ext.getDoc().dom;this.customAttributes={};this.addEvents("mousedown","mouseup","mouseover","mouseout","mousemove","mouseenter","mouseleave","click");this.getId();this.initGradients();this.initItems();if(this.renderTo){this.render(this.renderTo);delete this.renderTo}this.initBackground(a.background);return this},initSurface:Ext.emptyFn,renderItem:Ext.emptyFn,renderItems:Ext.emptyFn,setViewBox:Ext.emptyFn,addCls:Ext.emptyFn,removeCls:Ext.emptyFn,setStyle:Ext.emptyFn,initGradients:function(){var a=this.gradients;if(a){Ext.each(a,this.addGradient,this)}},initItems:function(){var a=this.items;this.items=new Ext.draw.SpriteGroup();this.groups=new Ext.draw.SpriteGroup();if(a){this.add(a)}},initBackground:function(b){var f,g,e,d=this.width,a=this.height;if(b){if(b.gradient){g=b.gradient;f=g.id;this.addGradient(g);this.background=this.add({type:"rect",x:0,y:0,width:d,height:a,fill:"url(#"+f+")"})}else{if(b.fill){this.background=this.add({type:"rect",x:0,y:0,width:d,height:a,fill:b.fill})}else{if(b.image){this.background=this.add({type:"image",x:0,y:0,width:d,height:a,src:b.image})}}}}},setSize:function(a,b){if(this.background){this.background.setAttributes({width:a,height:b,hidden:false},true)}},scrubAttrs:function(e){var d,b={},a={},f=e.attr;for(d in f){if(this.translateAttrs.hasOwnProperty(d)){b[this.translateAttrs[d]]=f[d];a[this.translateAttrs[d]]=true}else{if(this.availableAttrs.hasOwnProperty(d)&&!a[d]){b[d]=f[d]}}}return b},onClick:function(a){this.processEvent("click",a)},onMouseUp:function(a){this.processEvent("mouseup",a)},onMouseDown:function(a){this.processEvent("mousedown",a)},onMouseOver:function(a){this.processEvent("mouseover",a)},onMouseOut:function(a){this.processEvent("mouseout",a)},onMouseMove:function(a){this.fireEvent("mousemove",a)},onMouseEnter:Ext.emptyFn,onMouseLeave:Ext.emptyFn,addGradient:Ext.emptyFn,add:function(){var g=Array.prototype.slice.call(arguments),j,e;var a=g.length>1;if(a||Ext.isArray(g[0])){var h=a?g:g[0],b=[],d,f,k;for(d=0,f=h.length;d<f;d++){k=h[d];k=this.add(k);b.push(k)}return b}j=this.prepareItems(g[0],true)[0];this.positionSpriteInList(j);this.onAdd(j);return j},positionSpriteInList:function(d){var b=this.items,e=d.attr.zIndex,a=b.indexOf(d);if(a<0||(a>0&&b.getAt(a-1).attr.zIndex>e)||(a<b.length-1&&b.getAt(a+1).attr.zIndex<e)){b.removeAt(a);a=b.findIndexBy(function(f){return f.attr.zIndex>e});if(a<0){a=b.length}b.insert(a,d)}return a},onAdd:function(d){var f=d.group,a,e,b;if(f){a=[].concat(f);e=a.length;for(b=0;b<e;b++){f=a[b];this.getGroup(f).add(d)}delete d.group}},remove:function(a){if(a){this.items.remove(a);this.onRemove(a);this.groups.each(function(b){b.remove(a)})}},removeAll:function(){var a=this.items.items,d=a.length,b;for(b=d;b>-1;b--){this.remove(a[b])}},onRemove:Ext.emptyFn,applyTransformations:function(b){b.bbox.transform=0;this.transform(b);var e=this,d=false,a=b.attr;if(a.translation.x!=null||a.translation.y!=null){e.translate(b);d=true}if(a.scaling.x!=null||a.scaling.y!=null){e.scale(b);d=true}if(a.rotation.degrees!=null){e.rotate(b);d=true}if(d){b.bbox.transform=0;this.transform(b);b.transformations=[]}},rotate:function(a){var f,b=a.attr.rotation.degrees,e=a.attr.rotation.x,d=a.attr.rotation.y;if(!Ext.isNumber(e)||!Ext.isNumber(d)){f=this.getBBox(a);e=!Ext.isNumber(e)?f.x+f.width/2:e;d=!Ext.isNumber(d)?f.y+f.height/2:d}a.transformations.push({type:"rotate",degrees:b,x:e,y:d})},translate:function(b){var a=b.attr.translation.x||0,d=b.attr.translation.y||0;b.transformations.push({type:"translate",x:a,y:d})},scale:function(b){var f,a=b.attr.scaling.x||1,g=b.attr.scaling.y||1,e=b.attr.scaling.centerX,d=b.attr.scaling.centerY;if(!Ext.isNumber(e)||!Ext.isNumber(d)){f=this.getBBox(b);e=!Ext.isNumber(e)?f.x+f.width/2:e;d=!Ext.isNumber(d)?f.y+f.height/2:d}b.transformations.push({type:"scale",x:a,y:g,centerX:e,centerY:d})},rectPath:function(a,f,b,d,e){if(e){return[["M",a+e,f],["l",b-e*2,0],["a",e,e,0,0,1,e,e],["l",0,d-e*2],["a",e,e,0,0,1,-e,e],["l",e*2-b,0],["a",e,e,0,0,1,-e,-e],["l",0,e*2-d],["a",e,e,0,0,1,e,-e],["z"]]}return[["M",a,f],["l",b,0],["l",0,d],["l",-b,0],["z"]]},ellipsePath:function(a,e,d,b){if(b==null){b=d}return[["M",a,e],["m",0,-b],["a",d,b,0,1,1,0,2*b],["a",d,b,0,1,1,0,-2*b],["z"]]},getPathpath:function(a){return a.attr.path},getPathcircle:function(d){var b=d.attr;return this.ellipsePath(b.x,b.y,b.radius,b.radius)},getPathellipse:function(d){var b=d.attr;return this.ellipsePath(b.x,b.y,b.radiusX,b.radiusY)},getPathrect:function(d){var b=d.attr;return this.rectPath(b.x,b.y,b.width,b.height,b.r)},getPathimage:function(d){var b=d.attr;return this.rectPath(b.x,b.y,b.width,b.height)},getPathtext:function(a){var b=this.getBBoxText(a);return this.rectPath(b.x,b.y,b.width,b.height)},createGroup:function(b){var a=this.groups.get(b);if(!a){a=new Ext.draw.SpriteGroup({surface:this});a.id=b||Ext.id(null,"ext-surface-group-");this.groups.add(a)}return a},getGroup:function(b){if(typeof b=="string"){var a=this.groups.get(b);if(!a){a=this.createGroup(b)}}else{a=b}return a},prepareItems:function(a,d){a=[].concat(a);var f,b,e;for(b=0,e=a.length;b<e;b++){f=a[b];f.surface=this;a[b]=this.createItem(f)}return a},createItem:Ext.emptyFn,getId:function(){return this.id||(this.id=Ext.id(null,"ext-surface-"))},destroy:function(){delete this.domRef;this.removeAll()}});Ext.define("Ext.layout.component.Draw",{alias:"layout.draw",extend:"Ext.layout.component.Auto",type:"draw",onLayout:function(b,a){this.owner.surface.setSize(b,a);this.parent(arguments)}});Ext.define("Ext.draw.Component",{alias:"widget.draw",extend:"Ext.Component",requires:["Ext.draw.Surface","Ext.layout.component.Draw"],implOrder:["SVG","Canvas","VML"],baseCls:Ext.baseCSSPrefix+"surface",componentLayout:"draw",viewBox:true,autoSize:false,initComponent:function(){Ext.draw.Component.superclass.initComponent.call(this);this.addEvents("mousedown","mouseup","mousemove","mouseenter","mouseleave")},onRender:function(){var f=this,h=f.viewBox,b=f.autoSize,g,d,e,a;this.parent(arguments);f.createSurface();d=f.surface.items;if(h||b){g=d.getBBox();e=g.width;a=g.height;x=g.x;y=g.y;if(f.viewBox){f.surface.setViewBox(x,y,e,a)}else{d.setAttributes({translate:{x:-x,y:-y}},true);f.surface.setSize(e,a);f.el.setSize(e,a)}}},createSurface:function(){var a=Ext.draw.Surface.newInstance(Ext.apply({},{width:this.width,height:this.height,renderTo:this.el},this.initialConfig));this.surface=a;function b(d){return function(f){this.fireEvent(d,f)}}a.on({scope:this,mouseup:b("mouseup"),mousedown:b("mousedown"),mousemove:b("mousemove"),mouseenter:b("mouseenter"),mouseleave:b("mouseleave")})},destroy:function(){var a=this.surface;if(a){a.destroy()}Ext.draw.Component.superclass.onRender.apply(this,arguments)}});Ext.define("Ext.util.Offset",{statics:{fromObject:function(a){return new this(a.x,a.y)}},constructor:function(a,b){this.x=(a!=null&&!isNaN(a))?a:0;this.y=(b!=null&&!isNaN(b))?b:0;return this},copy:function(){return new Ext.util.Offset(this.x,this.y)},copyFrom:function(a){this.x=a.x;this.y=a.y},toString:function(){return"Offset["+this.x+","+this.y+"]"},equals:function(a){if(!(a instanceof this.self)){throw new Error("offset must be an instance of Ext.util.Offset")}return(this.x==a.x&&this.y==a.y)},round:function(b){if(!isNaN(b)){var a=Math.pow(10,b);this.x=Math.round(this.x*a)/a;this.y=Math.round(this.y*a)/a}else{this.x=Math.round(this.x);this.y=Math.round(this.y)}},isZero:function(){return this.x==0&&this.y==0}});Ext.define("Ext.util.Region",{requires:["Ext.util.Offset"],statics:{getRegion:function(a){return Ext.fly(a).getPageBox(true)},from:function(a){return new this(a.top,a.right,a.bottom,a.left)}},constructor:function(e,g,a,d){var f=this;f.y=f.top=f[1]=e;f.right=g;f.bottom=a;f.x=f.left=f[0]=d},contains:function(b){var a=this;return(b.x>=a.x&&b.right<=a.right&&b.y>=a.y&&b.bottom<=a.bottom)},intersect:function(h){var g=this,e=Math.max(g.y,h.y),f=Math.min(g.right,h.right),a=Math.min(g.bottom,h.bottom),d=Math.max(g.x,h.x);if(a>e&&f>d){return new this.self(e,f,a,d)}else{return false}},union:function(h){var g=this,e=Math.min(g.y,h.y),f=Math.max(g.right,h.right),a=Math.max(g.bottom,h.bottom),d=Math.min(g.x,h.x);return new this.self(e,f,a,d)},constrainTo:function(b){var a=this,d=Ext.Number.constrain;a.top=a.y=d(a.y,b.y,b.bottom);a.bottom=d(a.bottom,b.y,b.bottom);a.left=a.x=d(a.x,b.x,b.right);a.right=d(a.right,b.x,b.right);return a},adjust:function(e,g,a,d){var f=this;f.top=f.y+=e;f.left=f.x+=d;f.right+=g;f.bottom+=a;return f},getOutOfBoundOffset:function(a,b){if(!Ext.isObject(a)){if(a=="x"){return this.getOutOfBoundOffsetX(b)}else{return this.getOutOfBoundOffsetY(b)}}else{b=a;var e=new Ext.util.Offset();e.x=this.getOutOfBoundOffsetX(b.x);e.y=this.getOutOfBoundOffsetY(b.y);return e}},getOutOfBoundOffsetX:function(a){if(a<=this.x){return this.x-a}else{if(a>=this.right){return this.right-a}}return 0},getOutOfBoundOffsetY:function(a){if(a<=this.y){return this.y-a}else{if(a>=this.bottom){return this.bottom-a}}return 0},isOutOfBound:function(a,b){if(!Ext.isObject(a)){if(a=="x"){return this.isOutOfBoundX(b)}else{return this.isOutOfBoundY(b)}}else{b=a;return(this.isOutOfBoundX(b.x)||this.isOutOfBoundY(b.y))}},isOutOfBoundX:function(a){return(a<this.x||a>this.right)},isOutOfBoundY:function(a){return(a<this.y||a>this.bottom)},restrict:function(b,e,a){if(Ext.isObject(b)){var d;a=e;e=b;if(e.copy){d=e.copy()}else{d={x:e.x,y:e.y}}d.x=this.restrictX(e.x,a);d.y=this.restrictY(e.y,a);return d}else{if(b=="x"){return this.restrictX(e,a)}else{return this.restrictY(e,a)}}},restrictX:function(b,a){if(!a){a=1}if(b<=this.x){b-=(b-this.x)*a}else{if(b>=this.right){b-=(b-this.right)*a}}return b},restrictY:function(b,a){if(!a){a=1}if(b<=this.y){b-=(b-this.y)*a}else{if(b>=this.bottom){b-=(b-this.bottom)*a}}return b},getSize:function(){return{width:this.right-this.x,height:this.bottom-this.y}},copy:function(){return new this.self(this.y,this.right,this.bottom,this.x)},copyFrom:function(b){var a=this;a.top=a.y=a[1]=b.y;a.right=b.right;a.bottom=b.bottom;a.left=a.x=a[0]=b.x;return this},toString:function(){return"Region["+this.top+","+this.right+","+this.bottom+","+this.left+"]"},translateBy:function(a,d){if(arguments.length==1){d=a.y;a=a.x}var b=this;b.top=b.y+=d;b.right+=a;b.bottom+=d;b.left=b.x+=a;return b},round:function(){var a=this;a.top=a.y=Math.round(a.y);a.right=Math.round(a.right);a.bottom=Math.round(a.bottom);a.left=a.x=Math.round(a.x);return a},equals:function(a){return(this.top==a.top&&this.right==a.right&&this.bottom==a.bottom&&this.left==a.left)}});Ext.define("Ext.util.Point",{extend:"Ext.util.Region",statics:{fromEvent:function(a){a=(a.changedTouches&&a.changedTouches.length>0)?a.changedTouches[0]:a;return new this(a.pageX,a.pageY)}},constructor:function(a,b){Ext.util.Point.superclass.constructor.call(this,b,a,b,a)},toString:function(){return"Point["+this.x+","+this.y+"]"},equals:function(a){return(this.x==a.x&&this.y==a.y)},isWithin:function(b,a){if(!Ext.isObject(a)){a={x:a,y:a}}return(this.x<=b.x+a.x&&this.x>=b.x-a.x&&this.y<=b.y+a.y&&this.y>=b.y-a.y)},roundedEquals:function(a){return(Math.round(this.x)==Math.round(a.x)&&Math.round(this.y)==Math.round(a.y))}},function(){this.prototype.translate=Ext.util.Region.prototype.translateBy});Ext.define("Ext.ZIndexManager",{alternateClassName:"Ext.WindowGroup",statics:{zBase:9000},constructor:function(a){this.list={};this.accessList=[];this.front=null;if(a&&a.isContainer){a.on("resize",this._onContainerResize,this);this.zseed=Ext.num(a.getEl().getStyle("zIndex"),this.getNextZSeed());this.targetEl=a.getTargetEl();this.container=a}else{Ext.EventManager.onWindowResize(this._onContainerResize,this);this.zseed=this.getNextZSeed();this.targetEl=a?Ext.get(a):Ext.getBody()}},getNextZSeed:function(){return Ext.ZIndexManager.zBase+=10000},setBase:function(a){this.zseed=a;return this._orderFloaters()},_sortFloaters:function(b,a){return(!b._lastAccess||b._lastAccess<a._lastAccess)?-1:1},_orderFloaters:function(){var d=this.accessList,b=d.length,f=0,g=this.zseed,e;if(b>0){d.sort(this._sortFloaters);for(;f<b;f++){e=d[f];if(e&&!e.hidden){g=e.setZIndex(g)}}}this._activateLast();return g},_setActiveChild:function(a){if(a!=this.front){if(this.front){this.front.setActive(false)}this.front=a;if(a){a.setActive(true);if(a.modal){this._showModalMask(a.el.getStyle("zIndex")-4)}else{this._hideModalMask()}}}},_activateLast:function(a){for(var b=this.accessList.length-1;b>=0;--b){if(!this.accessList[b].hidden){this._setActiveChild(this.accessList[b]);return}}this._setActiveChild(null);this._hideModalMask()},_showModalMask:function(a){if(!this.mask){this.mask=this.targetEl.createChild({cls:"ext-el-mask"});this.mask.setVisibilityMode(Ext.core.Element.DISPLAY);this.mask.on("click",this._onMaskClick,this)}Ext.getBody().addCls(Ext.baseCSSPrefix+"body-masked");this.mask.setSize(this.targetEl.getViewSize(true));this.mask.setStyle("zIndex",a);this.mask.show()},_hideModalMask:function(){if(this.mask){Ext.getBody().removeCls(Ext.baseCSSPrefix+"body-masked");this.mask.hide()}},_onMaskClick:function(){if(this.front){this.front.focus()}},_onContainerResize:function(){if(this.mask&&this.mask.isVisible()){this.mask.setSize(this.targetEl.getViewSize(true))}},register:function(a){if(a.zIndexManager){a.zIndexManager.unregister(a)}a.zIndexManager=this;this.list[a.id]=a;this.accessList.push(a);a.on("hide",this._activateLast,this)},unregister:function(a){delete a.zIndexManager;delete this.list[a.id];a.un("hide",this._activateLast);Ext.Array.remove(this.accessList,a)},get:function(a){return typeof a=="object"?a:this.list[a]},bringToFront:function(a){a=this.get(a);if(a!=this.front){a._lastAccess=new Date().getTime();this._orderFloaters();return true}if(a.modal){Ext.getBody().addCls(Ext.baseCSSPrefix+"body-masked");this.mask.setSize(Ext.core.Element.getViewWidth(true),Ext.core.Element.getViewHeight(true));this.mask.show()}return false},sendToBack:function(a){a=this.get(a);a._lastAccess=-(new Date().getTime());this._orderFloaters();return a},hideAll:function(){for(var a in this.list){if(this.list[a].isComponent&&this.list[a].isVisible()){this.list[a].hide()}}},hide:function(){var b=0,d=this.accessList.length,a;this.tempHidden=[];for(;b<d;b++){a=this.accessList[b];if(a.isVisible()){this.tempHidden.push(a);a.hide()}}},show:function(){var d=0,e=this.tempHidden.length,b,a,f;for(;d<e;d++){b=this.tempHidden[d];a=b.x;f=b.y;b.show();b.setPosition(a,f)}delete this.tempHidden},getActive:function(){return this.front},getBy:function(e,d){var f=[],b=this.accessList.length-1,a;for(;b>=0;--b){a=this.accessList[b];if(e.call(d||a,a)!==false){f.push(a)}}return f},each:function(d,b){var a;for(var e in this.list){a=this.list[e];if(a.isComponent&&d.call(b||a,a)===false){return}}},destroy:function(){delete this.accessList;delete this.list;delete this.container;delete this.targetEl}},function(){var a=this;Ext.onDocumentReady(function(){Ext.WindowMgr=new a()})});Ext.define("Ext.Layer",{statics:{shims:[]},extend:"Ext.core.Element",constructor:function(b,a){b=b||{};var d=this,e=Ext.core.DomHelper,g=b.parentEl,f=g?Ext.getDom(g):document.body,h=b.hideMode;if(a){d.dom=Ext.getDom(a)}if(!d.dom){d.dom=e.append(f,b.dh||{tag:"div",cls:Ext.baseCSSPrefix+"layer"})}else{d.addCls(Ext.baseCSSPrefix+"layer");if(!d.dom.parentNode){f.appendChild(d.dom)}}if(b.cls){d.addCls(b.cls)}d.constrain=b.constrain!==false;if(h){d.setVisibilityMode(Ext.core.Element[h.toUpperCase()]);if(d.visibilityMode==Ext.core.Element.ASCLASS){d.visibilityCls=b.visibilityCls}}else{if(b.useDisplay){d.setVisibilityMode(Ext.core.Element.DISPLAY)}else{d.setVisibilityMode(Ext.core.Element.VISIBILITY)}}if(b.id){d.id=d.dom.id=b.id}else{d.id=Ext.id(d.dom)}d.position("absolute");d.shadowOffset=0;d.useShim=b.shim!==false&&Ext.useShims;if(b.hidden===true){d.hide()}else{this.show()}},getZIndex:function(){return parseInt((this.getShim()||this).getStyle("z-index"),10)},getShim:function(){if(!this.useShim){return null}if(this.shim){return this.shim}var b=shims.shift();if(!b){b=this.createShim();b.enableDisplayMode("block");b.dom.style.display="none";b.dom.style.visibility="visible"}var a=this.dom.parentNode;if(b.dom.parentNode!=a){a.insertBefore(b.dom,this.dom)}b.setStyle("z-index",this.getZIndex()-2);this.shim=b;return b},hideShim:function(){if(this.shim){this.shim.setDisplayed(false);shims.push(this.shim);delete this.shim}},disableShadow:function(){if(this.shadow){this.shadowDisabled=true;this.shadow.hide();this.lastShadowOffset=this.shadowOffset;this.shadowOffset=0}},enableShadow:function(a){if(this.shadow){this.shadowDisabled=false;this.shadowOffset=this.lastShadowOffset;delete this.lastShadowOffset;if(a){this.sync(true)}}},sync:function(b){var k=this.shadow;if(!this.updating&&this.isVisible()&&(k||this.useShim)){var f=this.getShim(),j=this.getWidth(),g=this.getHeight(),d=this.getLeft(true),m=this.getTop(true);if(k&&!this.shadowDisabled){if(b&&!k.isVisible()){k.show(this)}else{k.realign(d,m,j,g)}if(f){if(b){f.show()}var i=k.el.getXY(),e=f.dom.style,a=k.el.getSize();e.left=(i[0])+"px";e.top=(i[1])+"px";e.width=(a.width)+"px";e.height=(a.height)+"px"}}else{if(f){if(b){f.show()}f.setSize(j,g);f.setLeftTop(d,m)}}}return this},remove:function(){this.hideUnders();Ext.Layer.superclass.remove.call(this)},beginUpdate:function(){this.updating=true},endUpdate:function(){this.updating=false;this.sync(true)},hideUnders:function(){if(this.shadow){this.shadow.hide()}this.hideShim()},constrainXY:function(){if(this.constrain){var g=Ext.core.Element.getViewWidth(),b=Ext.core.Element.getViewHeight();var m=Ext.getDoc().getScroll();var l=this.getXY();var i=l[0],f=l[1];var a=this.shadowOffset;var j=this.dom.offsetWidth+a,d=this.dom.offsetHeight+a;var e=false;if((i+j)>g+m.left){i=g-j-a;e=true}if((f+d)>b+m.top){f=b-d-a;e=true}if(i<m.left){i=m.left;e=true}if(f<m.top){f=m.top;e=true}if(e){if(this.avoidY){var k=this.avoidY;if(f<=k&&(f+d)>=k){f=k-d-5}}l=[i,f];Ext.Layer.superclass.setXY.call(this,l);this.sync()}}return this},getConstrainOffset:function(){return this.shadowOffset},setVisible:function(h,b,g,i,f){var a;if(b&&h){a=Ext.Function.bind(function(){this.sync(true);if(i){i()}},this);Ext.Layer.superclass.setVisible.call(this,true,true,g,a,f)}else{if(!h){this.hideUnders(true)}a=i;if(b){a=Ext.Function.bind(function(){this.hideAction();if(i){i()}},this)}Ext.Layer.superclass.setVisible.call(this,h,b,g,a,f);if(h){this.sync(true)}}return this},beforeFx:function(){this.beforeAction();return Ext.Layer.superclass.beforeFx.apply(this,arguments)},afterFx:function(){Ext.Layer.superclass.afterFx.apply(this,arguments);this.sync(this.isVisible())},beforeAction:function(){if(!this.updating&&this.shadow){this.shadow.hide()}},setLeft:function(a){Ext.Layer.superclass.setLeft.apply(this,arguments);return this.sync()},setTop:function(a){Ext.Layer.superclass.setTop.apply(this,arguments);return this.sync()},setLeftTop:function(b,a){Ext.Layer.superclass.setLeftTop.apply(this,arguments);return this.sync()},setXY:function(h,f,i,j,g){this.fixDisplay();this.beforeAction();var b=this.createCB(j);Ext.Layer.superclass.setXY.call(this,h,f,i,b,g);if(!f){b()}return this},createCB:function(b){var a=this;return function(){a.constrainXY();a.sync(true);if(b){b()}}},setX:function(b,f,h,i,g){this.setXY([b,this.getY()],f,h,i,g);return this},setY:function(i,b,g,h,f){this.setXY([this.getX(),i],b,g,h,f);return this},setSize:function(g,i,f,k,l,j){this.beforeAction();var b=this.createCB(l);Ext.Layer.superclass.setSize.call(this,g,i,f,k,b,j);if(!f){b()}return this},setWidth:function(g,f,i,j,h){this.beforeAction();var b=this.createCB(j);Ext.Layer.superclass.setWidth.call(this,g,f,i,b,h);if(!f){b()}return this},setHeight:function(g,f,j,k,i){this.beforeAction();var b=this.createCB(k);Ext.Layer.superclass.setHeight.call(this,g,f,j,b,i);if(!f){b()}return this},setBounds:function(j,i,a,l,b,h,k,g){this.beforeAction();var f=this.createCB(k);if(!b){Ext.Layer.superclass.setXY.call(this,[j,i]);Ext.Layer.superclass.setSize.call(this,a,l,b,h,f,g);f()}else{Ext.Layer.superclass.setBounds.call(this,j,i,a,l,b,h,f,g)}return this},setZIndex:function(a){this.zindex=a;this.setStyle("z-index",a+2);if(this.shadow){this.shadow.setZIndex(a+1)}if(this.shim){this.shim.setStyle("z-index",a)}return this}});Ext.define("Ext.resizer.Resizer",{mixins:{observable:"Ext.util.Observable"},uses:["Ext.resizer.ResizeTracker"],legacyClassName:"Ext.Resizable",handleCls:Ext.baseCSSPrefix+"resizable-handle",pinnedCls:Ext.baseCSSPrefix+"resizable-pinned",overCls:Ext.baseCSSPrefix+"resizable-over",proxyCls:Ext.baseCSSPrefix+"resizable-proxy",wrapCls:Ext.baseCSSPrefix+"resizable-wrap",dynamic:true,handles:"s e se",minHeight:5,minWidth:5,maxHeight:10000,maxWidth:10000,pinned:false,preserveRatio:false,possiblePositions:{n:"north",s:"south",e:"east",w:"west",se:"southeast",sw:"southwest",nw:"northwest",ne:"northeast"},constructor:function(a){var h=this,g,m,l=h.handles,b,k,f,d=0,j;this.addEvents("beforeresize","resizedrag","resize");if(Ext.isElement(a)||a.dom){a={target:a}}h.mixins.observable.constructor.call(h,a);g=h.target;if(g){if(g.isComponent){h.el=g.getEl();h.minWidth=g.minWidth;h.minHeight=g.minHeight;h.maxWidth=g.maxWidth;h.maxHeight=g.maxHeight;if(g.floating){if(!this.hasOwnProperty("handles")){this.handles="n ne e se s sw w nw"}}}else{h.el=Ext.get(g)}}else{h.target=h.el=Ext.get(h.el)}m=h.el.dom.tagName;if(m=="TEXTAREA"||m=="IMG"){h.originalTarget=h.target;h.target=h.el=h.el.wrap({cls:h.wrapCls});h.el.setPositioning(h.originalTarget.getPositioning());h.originalTarget.clearPositioning();var e=h.originalTarget.getBox();h.el.setBox(e)}h.el.position();if(h.pinned){h.el.addCls(h.pinnedCls)}h.resizeTracker=Ext.create("Ext.resizer.ResizeTracker",{target:h.target,constrainTo:h.constrainTo,overCls:h.overCls,throttle:h.throttle,originalTarget:h.originalTarget,delegate:"."+h.handleCls,dynamic:h.dynamic,preserveRatio:h.preserveRatio,minHeight:h.minHeight,maxHeight:h.maxHeight,minWidth:h.minWidth,maxWidth:h.maxWidth});h.resizeTracker.on("mousedown",h.onBeforeResize,h);h.resizeTracker.on("drag",h.onResize,h);h.resizeTracker.on("dragend",h.onResizeEnd,h);if(h.handles=="all"){h.handles="n s e w ne nw se sw"}l=h.handles=h.handles.split(/ |\s*?[,;]\s*?/);k=h.possiblePositions;f=l.length;b=h.handleCls+" "+(this.target.isComponent?(h.target.baseCls+"-handle "):"")+h.handleCls+"-";for(;d<f;d++){if(l[d]&&k[l[d]]){j=k[l[d]];h[j]=new Ext.Component({owner:this,region:j,cls:b+j,renderTo:h.el});h[j].el.unselectable()}}},onBeforeResize:function(d,f){var a=this.target.getBox();return this.fireEvent("beforeresize",this,a.width,a.height,f)},onResize:function(d,f){var a=this.target.getBox();return this.fireEvent("resizedrag",this,a.width,a.height,f)},onResizeEnd:function(d,f){var a=this.target.getBox();return this.fireEvent("resize",this,a.width,a.height,f)},resizeTo:function(b,a){this.target.setSize(b,a);this.fireEvent("resize",this,b,a,null)},destroy:function(){var d;for(var b=0,a=this.handles.length;b<a;b++){d=this[this.possiblePositions[this.handles[b]]];delete d.owner;Ext.destroy(d)}}});Ext.define("Ext.dd.DragTracker",{uses:["Ext.util.Region"],mixins:{observable:"Ext.util.Observable"},active:false,trackOver:false,tolerance:5,autoStart:false,constructor:function(a){Ext.apply(this,a);this.addEvents("mouseover","mouseout","mousedown","mouseup","mousemove","dragstart","dragend","drag");this.dragRegion=new Ext.util.Region(0,0,0,0);if(this.el){this.initEl(this.el)}this.mixins.observable.constructor.call(this)},initEl:function(a){this.el=Ext.get(a);this.handle=Ext.get(this.delegate);this.delegate=this.handle?undefined:this.delegate;if(!this.handle){this.handle=this.el}this.mon(this.handle,{mousedown:this.onMouseDown,delegate:this.delegate,scope:this});if(this.trackOver||this.overCls){this.mon(this.handle,{mouseover:this.onMouseOver,mouseout:this.onMouseOut,delegate:this.delegate,scope:this})}},disable:function(){this.disabled=true},enable:function(){this.disabled=false},destroy:function(){delete this.el},onMouseOver:function(b,a){if(Ext.EventManager.contains(b)){this.mouseIsOut=false;if(this.overCls){this.el.addCls(this.overCls)}this.fireEvent("mouseover",this,b,this.delegate?b.getTarget(this.delegate,a):this.handle)}},onMouseOut:function(a){if(!this.el.contains(a.getRelatedTarget())){if(this.mouseIsDown){this.mouseIsOut=true}else{if(this.overCls){this.el.removeCls(this.overCls)}this.fireEvent("mouseout",this,a)}}},onMouseDown:function(b,a){if(this.disabled||b.dragTracked){return}this.dragTarget=this.delegate?a:this.handle.dom;this.startXY=this.lastXY=b.getXY();this.startRegion=Ext.fly(this.dragTarget).getRegion();if(this.fireEvent("mousedown",this,b)!==false&&this.onBeforeStart(b)!==false){this.mouseIsDown=true;b.dragTracked=true;if(this.preventDefault!==false){b.preventDefault()}Ext.getDoc().on({scope:this,mouseup:this.onMouseUp,mousemove:this.onMouseMove,selectstart:this.stopSelect});if(this.autoStart){this.timer=Ext.defer(this.triggerStart,this.autoStart===true?1000:this.autoStart,this,[b])}}},onMouseMove:function(f,d){if(this.active&&Ext.isIE&&!(Ext.isIE9&&Ext.isStrict)&&!f.browserEvent.button){f.preventDefault();this.onMouseUp(f);return}f.preventDefault();var b=f.getXY(),a=this.startXY;this.lastXY=b;if(!this.active){if(Math.max(Math.abs(a[0]-b[0]),Math.abs(a[1]-b[1]))>this.tolerance){this.triggerStart(f)}else{return}}if(this.fireEvent("mousemove",this,f)===false){this.onMouseUp(f)}else{this.onDrag(f);this.fireEvent("drag",this,f)}},onMouseUp:function(d){this.mouseIsDown=false;delete d.dragTracked;if(this.mouseIsOut){this.mouseIsOut=false;this.onMouseOut(d)}var b=Ext.getDoc(),a=this.active;b.un("mousemove",this.onMouseMove,this);b.un("mouseup",this.onMouseUp,this);b.un("selectstart",this.stopSelect,this);d.preventDefault();this.clearStart();this.active=false;this.fireEvent("mouseup",this,d);if(a){this.onEnd(d);this.fireEvent("dragend",this,d)}delete this._constrainRegion},triggerStart:function(a){this.clearStart();this.active=true;this.onStart(a);this.fireEvent("dragstart",this,a)},clearStart:function(){if(this.timer){clearTimeout(this.timer);delete this.timer}},stopSelect:function(a){a.stopEvent();return false},onBeforeStart:function(a){},onStart:function(a){},onDrag:function(a){},onEnd:function(a){},getDragTarget:function(){return this.dragTarget},getDragCt:function(){return this.el},getConstrainRegion:function(){if(this.constrainTo){if(this.constrainTo instanceof Ext.util.Region){return this.constrainTo}if(!this._constrainRegion){this._constrainRegion=Ext.fly(this.constrainTo).getRegion()}}else{if(!this._constrainRegion){this._constrainRegion=this.getDragCt().getRegion()}}return this._constrainRegion},getXY:function(a){return a?this.constrainModes[a].call(this,this.lastXY):this.lastXY},getOffset:function(d){var b=this.getXY(d),a=this.startXY;return[b[0]-a[0],b[1]-a[1]]},constrainModes:{point:function(d){var b=this.dragRegion,a=this.getConstrainRegion();if(!a){return d}b.x=b.left=b[0]=b.right=d[0];b.y=b.top=b[1]=b.bottom=d[1];b.constrainTo(a);return[b.left,b.top]},dragTarget:function(f){var b=this.startXY,e=this.startRegion.copy(),a=this.getConstrainRegion(),d;if(!a){return f}e.translateBy.apply(e,[f[0]-b[0],f[1]-b[1]]);if(e.right>a.right){f[0]+=d=(a.right-e.right);e.left+=d}if(e.left<a.left){f[0]+=(a.left-e.left)}if(e.bottom>a.bottom){f[1]+=d=(a.bottom-e.bottom);e.top+=d}if(e.top<a.top){f[1]+=(a.top-e.top)}return f}}});Ext.define("Ext.util.ComponentDragger",{extend:"Ext.dd.DragTracker",autoStart:500,constructor:function(a,b){this.comp=a;this.initialConstrainTo=b.constrainTo;this.parent([b])},onStart:function(d){var b=this,a=b.comp;this.startPosition=a.getPosition();if(a.ghost&&!a.liveDrag){b.proxy=a.ghost();b.dragTarget=b.proxy.header.el}if(b.constrain||b.constrainDelegate){b.constrainTo=b.calculateConstrainRegion()}},calculateConstrainRegion:function(){var d=this,a=d.comp,g=d.initialConstrainTo,e,f,b=a.el.shadow&&a.el.shadow.offset;if(!(g instanceof Ext.util.Region)){g=Ext.fly(g).getViewRegion()}if(b){g.adjust(0,-b,-b,b)}if(!d.constrainDelegate){e=Ext.fly(d.dragTarget).getRegion();f=d.proxy?d.proxy.el.getRegion():a.el.getRegion();g.adjust(e.top-f.top,e.right-f.right,e.bottom-f.bottom,e.left-f.left)}return g},onDrag:function(f){var d=this,a=d.comp,g=d.getOffset(d.constrain||d.constrainDelegate?"dragTarget":null),b=[d.startPosition[0]+g[0],d.startPosition[1]+g[1]];if(this.proxy&&!this.comp.liveDrag){d.proxy.setPosition(b)}else{a.setPosition(b)}},onEnd:function(a){if(this.proxy&&!this.comp.liveDrag){this.comp.unghost()}(this.comp.isXType("window"))&&this.comp.saveState()}});Ext.define("Ext.fx.Manager",{singleton:true,requires:["Ext.util.MixedCollection"],constructor:function(){this.items=new Ext.util.MixedCollection()},interval:16,forceJS:false,createTarget:function(b){var a=!this.forceJS&&Ext.supports.Transitions;this.useCSS3=a;if(typeof b=="string"){b=Ext.get(b)}else{if(b.tagName){b=Ext.get(b)}}if(Ext.isObject(b)){if(b.dom){return Ext.create("Ext.fx.target.Element"+(a?"CSS":""),b)}else{if(b.isComposite){return Ext.create("Ext.fx.target.CompositeElement"+(a?"CSS":""),b)}else{if(b.isSprite){return Ext.create("Ext.fx.target.Sprite",b)}else{if(b.isSpriteGroup){return Ext.create("Ext.fx.target.SpriteGroup",b)}else{if(b.isComponent){return Ext.create("Ext.fx.target.Component",b)}else{if(b.isAnimTarget){return b}else{return null}}}}}}}else{return null}},addAnim:function(d){var b=this.items,a=this.task;b.add(d);if(!a&&b.length){a=this.task={run:this.runner,interval:this.interval,scope:this};Ext.TaskMgr.start(a)}},removeAnim:function(d){var b=this.items,a=this.task;b.remove(d);if(a&&!b.length){Ext.TaskMgr.stop(a);delete this.task}},startingFilter:function(a){return a.paused===false&&a.running===false&&a.iterations>0},runningFilter:function(a){return a.paused===false&&a.running===true},runner:function(){var a=this.items;this.targetData={};this.targetArr={};this.timestamp=new Date();a.filterBy(this.startingFilter).each(this.startAnim,this);a.filterBy(this.runningFilter).each(this.runAnim,this);this.applyPendingAttrs()},startAnim:function(a){a.start(this.timestamp)},runAnim:function(d){var a=d.target.getId(),f=this.useCSS3&&d.target.type=="element",b=this.timestamp-d.startTime,e,g;this.collectTargetData(d,b,f);if(f){d.target.setAttr(this.targetData[a],true);this.targetData[a]=[];this.collectTargetData(d,d.duration,f);d.paused=true;e=d.target.target;if(d.target.isComposite){e=d.target.target.last()}g={};g[Ext.supports.CSS3TransitionEnd]=d.lastFrame;g.scope=d;g.single=true;e.on(g)}else{if(b>=d.duration){this.applyPendingAttrs();delete this.targetData[a];delete this.targetArr[a];d.lastFrame()}}},collectTargetData:function(e,d,f){var a=e.target.getId(),g=this.targetData[a],b;if(!g){g=this.targetData[a]=[];this.targetArr[a]=e.target}b={duration:e.duration,easing:(f&&e.reverse)?e.easingFn.reverse().toCSS3():e.easing,attrs:{}};Ext.apply(b.attrs,e.runAnim(d));g.push(b)},applyPendingAttrs:function(){var d=this.targetData,b=this.targetArr,a;for(a in d){if(d.hasOwnProperty(a)){b[a].setAttr(d[a],false)}}}});Ext.define("Ext.fx.Animator",{mixins:{observable:"Ext.util.Observable"},requires:["Ext.fx.Manager"],duration:250,delay:0,easing:"ease",damper:1,iterations:1,keyframeStep:0,animKeyFramesRE:/^(from|to|\d+%?)$/,constructor:function(a){a=Ext.apply(this,a||{});this.config=a;this.id=Ext.id(null,"ext-animator-");this.addEvents("beforeanimate","keyframe","afteranimate");this.mixins.observable.constructor.call(this,a);this.timeline=[];this.createTimeline(this.keyframes);if(this.target){this.applyAnimator(this.target)}},sorter:function(e,d){return e.pct-d.pct},createTimeline:function(g){var m=[],h,k=this.to||{},n,a,f,j,l,d,e,b=this.duration;if(g.isPseudoEasing){this.isPseudoEasing=true}for(l in g){if(g.hasOwnProperty(l)&&this.animKeyFramesRE.test(l)){h={attrs:Ext.apply(g[l],k)};if(l=="from"){l=0}else{if(l=="to"){l=100}}h.pct=parseInt(l,10);m.push(h)}}m.sort(this.sorter);j=m.length;for(f=0;f<j;f++){n=(m[f-1])?b*(m[f-1].pct/100):0;a=b*(m[f].pct/100);this.timeline.push({duration:a-n,attrs:m[f].attrs})}},applyAnimator:function(g){g=Ext.fx.Manager.createTarget(g);var l=[],b,o=this.timeline,h=this.reverse,e=this.isPseudoEasing,k=o.length,j,a,f,n,m,d;if(this.fireEvent("beforeanimate",this)!==false){for(d=0;d<k;d++){b=o[d];n=b.attrs;j=n.easing||this.easing;a=n.damper||this.damper;delete n.easing;delete n.damper;b=new Ext.fx.Anim({target:g,easing:j,damper:a,initialFrom:e&&f,duration:b.duration,reverse:h,paused:true,from:m,to:n});if(!d){b.initAttrs();f=b.currentAttrs}if(!e){m=Ext.apply({},n,m)}l.push(b)}if(h){l.reverse()}for(d=0;d<k-1;d++){b=l[d];b.nextAnim=l[d+1];b.on("afteranimate",function(){this.nextAnim.paused=false});b.on("afteranimate",function(){this.fireEvent("keyframe",this,++this.keyframeStep)},this)}l[k-1].on("afteranimate",function(){this.fireEvent("afteranimate",this,this.startTime,new Date()-this.startTime)},this);Ext.defer(function(i){this.startAnimator(i)},this.delay,this,[l[0]])}},startAnimator:function(a){this.startTime=new Date();a.paused=false}});Ext.define("Ext.fx.PseudoEasing",{singleton:true,"back-in":{isPseudoEasing:true,"40%":{easing:"ease-in-out",damper:-0.1},"100%":{easing:"ease-in",damper:1.1}},"back-out":{isPseudoEasing:true,"60%":{easing:"ease-out",damper:1.1},"100%":{easing:"ease-in-out",damper:-0.1}},"bounce-out":{isPseudoEasing:true,"36%":{easing:"ease-in",damper:1},"54%":{easing:"ease-out",damper:-0.25},"72%":{easing:"ease-in",damper:0.25},"81%":{easing:"ease-out",damper:-0.0625},"90%":{easing:"ease-in",damper:0.0625},"95%":{easing:"ease-out",damper:-0.015},"100%":{easing:"ease-in",damper:0.015}},"bounce-in":{isPseudoEasing:true,"5%":{easing:"ease-in",damper:0.015},"10%":{easing:"ease-out",damper:-0.015},"19%":{easing:"ease-in",damper:0.0625},"28%":{easing:"ease-out",damper:-0.0625},"46%":{easing:"ease-in",damper:0.25},"64%":{easing:"ease-out",damper:-0.25},"100%":{easing:"ease-in",damper:1}},"elastic-in":{isPseudoEasing:true,"14%":{easing:"ease-in",damper:0.005},"29%":{easing:"ease-in-out",damper:-0.015},"43%":{easing:"ease-in-out",damper:0.025},"57%":{easing:"ease-in-out",damper:-0.065},"71%":{easing:"ease-in-out",damper:0.19},"86%":{easing:"ease-in-out",damper:-0.51},"100%":{easing:"ease-out",damper:1.37}},"elastic-out":{isPseudoEasing:true,"14%":{easing:"ease-in",damper:1.37},"29%":{easing:"ease-in-out",damper:-0.51},"43%":{easing:"ease-in-out",damper:0.19},"57%":{easing:"ease-in-out",damper:-0.065},"71%":{easing:"ease-in-out",damper:0.025},"86%":{easing:"ease-in-out",damper:-0.015},"100%":{easing:"ease-out",damper:0.005}}});Ext.define("Ext.fx.CubicBezier",{singleton:true,cubicBezierAtTime:function(o,e,b,n,m,i){var j=3*e,l=3*(n-e)-j,a=1-j-l,h=3*b,k=3*(m-b)-h,p=1-h-k;function g(q){return((a*q+l)*q+j)*q}function d(q,s){var r=f(q,s);return((p*r+k)*r+h)*r}function f(q,z){var w,v,t,r,u,s;for(t=q,s=0;s<8;s++){r=g(t)-q;if(Math.abs(r)<z){return t}u=(3*a*t+2*l)*t+j;if(Math.abs(u)<0.000001){break}t=t-r/u}w=0;v=1;t=q;if(t<w){return w}if(t>v){return v}while(w<v){r=g(t);if(Math.abs(r-q)<z){return t}if(q>r){w=t}else{v=t}t=(v-w)/2+w}return t}return d(o,1/(200*i))},cubicBezier:function(b,f,a,d){var e=function(g){return Ext.fx.CubicBezier.cubicBezierAtTime(g,b,f,a,d,1)};e.toCSS3=function(){return"cubic-bezier("+[b,f,a,d].join(",")+")"};e.reverse=function(){return Ext.fx.CubicBezier.cubicBezier(1-a,1-d,1-b,1-f)};return e}});Ext.ns("Ext.fx");Ext.require("Ext.fx.CubicBezier",function(){Ext.fx.Easing={ease:Ext.fx.CubicBezier.cubicBezier(0.25,0.1,0.25,1),linear:Ext.fx.CubicBezier.cubicBezier(0,0,1,1),"ease-in":Ext.fx.CubicBezier.cubicBezier(0.42,0,1,1),"ease-out":Ext.fx.CubicBezier.cubicBezier(0,0.58,1,1),"ease-in-out":Ext.fx.CubicBezier.cubicBezier(0.42,0,0.58,1)}});Ext.define("Ext.draw.Color",{colorToHexRe:/(.*?)rgb\((\d+),\s*(\d+),\s*(\d+)\)/,rgbRe:/\s*rgb\s*\(\s*([0-9]+)\s*,\s*([0-9]+)\s*,\s*([0-9]+)\s*\)\s*/,hexRe:/\s*#([0-9a-fA-F][0-9a-fA-F]?)([0-9a-fA-F][0-9a-fA-F]?)([0-9a-fA-F][0-9a-fA-F]?)\s*/,lightnessFactor:0.2,constructor:function(e,d,a){var b=this,f=Ext.Number.constrain;b.r=f(e,0,255);b.g=f(d,0,255);b.b=f(a,0,255)},getRed:function(){return this.r},getGreen:function(){return this.g},getBlue:function(){return this.b},getRGB:function(){var a=this;return[a.r,a.g,a.b]},getHSL:function(){var j=this,a=j.r/255,i=j.g/255,k=j.b/255,m=Math.max(a,i,k),e=Math.min(a,i,k),n=m-e,f,o=0,d=0.5*(m+e);if(e!=m){o=(d<0.5)?n/(m+e):n/(2-m-e);if(a==m){f=60*(i-k)/n}else{if(i==m){f=120+60*(k-a)/n}else{f=240+60*(a-i)/n}}if(f<0){f+=360}if(f>=360){f-=360}}return[f,o,d]},getLighter:function(b){var a=this.getHSL();b=b||this.lightnessFactor;a[2]=Ext.Number.constrain(a[2]+b,0,1);return this.fromHSL(a[0],a[1],a[2])},getDarker:function(a){a=a||this.lightnessFactor;return this.getLighter(-a)},toString:function(){var h=this,d=Math.round,f=d(h.r).toString(16),e=d(h.g).toString(16),a=d(h.b).toString(16);f=(f.length==1)?"0"+f:f;e=(e.length==1)?"0"+e:e;a=(a.length==1)?"0"+a:a;return["#",f,e,a].join("")},toHex:function(b){if(Ext.isArray(b)){b=b[0]}if(!Ext.isString(b)){return""}if(b.substr(0,1)==="#"){return b}var f=this.colorToHexRe.exec(b);if(Ext.isArray(f)){var g=parseInt(f[2],10),e=parseInt(f[3],10),a=parseInt(f[4],10),d=a|(e<<8)|(g<<16);return f[1]+"#"+("000000"+d.toString(16)).slice(-6)}else{return""}},fromString:function(i){var d,f,e,a,h=parseInt;if((i.length==4||i.length==7)&&i.substr(0,1)==="#"){d=i.match(this.hexRe);if(d){f=h(d[1],16)>>0;e=h(d[2],16)>>0;a=h(d[3],16)>>0;if(i.length==4){f+=(f*16);e+=(e*16);a+=(a*16)}}}else{d=i.match(this.rgbRe);if(d){f=d[1];e=d[2];a=d[3]}}return(typeof f=="undefined")?undefined:Ext.create("Ext.draw.Color",f,e,a)},getGrayscale:function(){return this.r*0.3+this.g*0.59+this.b*0.11},fromHSL:function(g,o,e){var a,b,d,f,k=[],n=Math.abs,j=Math.floor;if(o==0||g==null){k=[e,e,e]}else{g/=60;a=o*(1-n(2*e-1));b=a*(1-n(g-2*j(g/2)-1));d=e-a/2;switch(j(g)){case 0:k=[a,b,0];break;case 1:k=[b,a,0];break;case 2:k=[0,a,b];break;case 3:k=[0,b,a];break;case 4:k=[b,0,a];break;case 5:k=[a,0,b];break}k=[k[0]+d,k[1]+d,k[2]+d]}return Ext.create("Ext.draw.Color",k[0]*255,k[1]*255,k[2]*255)}},function(){var a=this.prototype;this.extend({fromHSL:function(){return a.fromHSL.apply(a,arguments)},fromString:function(){return a.fromString.apply(a,arguments)},toHex:function(){return a.toHex.apply(a,arguments)}})});Ext.define("Ext.draw.Draw",{singleton:true,requires:["Ext.draw.Color"],pathToStringRE:/,?([achlmqrstvxz]),?/gi,pathCommandRE:/([achlmqstvz])[\s,]*((-?\d*\.?\d*(?:e[-+]?\d+)?\s*,?\s*)+)/ig,pathValuesRE:/(-?\d*\.?\d*(?:e[-+]?\d+)?)\s*,?\s*/ig,stopsRE:/^(\d+%?)$/,radian:Math.PI/180,availableAnimAttrs:{along:"along",blur:null,"clip-rect":"csv",cx:null,cy:null,fill:"colour","fill-opacity":null,"font-size":null,height:null,opacity:null,path:"path",r:null,rotation:"csv",rx:null,ry:null,scale:"csv",stroke:"colour","stroke-opacity":null,"stroke-width":null,translation:"csv",width:null,x:null,y:null},is:function(b,a){a=String(a).toLowerCase();return(a=="object"&&b===Object(b))||(a=="undefined"&&typeof b==a)||(a=="null"&&b==null)||(a=="array"&&Array.isArray&&Array.isArray(b))||(Object.prototype.toString.call(b).toLowerCase().slice(8,-1))==a},ellipsePath:function(b){var a=b.attr;return Ext.String.format("M{0},{1}A{2},{3},0,1,1,{0},{4}A{2},{3},0,1,1,{0},{1}z",a.x,a.y-a.ry,a.rx,a.ry,a.y+a.ry)},rectPath:function(b){var a=b.attr;if(a.radius){return Ext.String.format("M{0},{1}l{2},0a{3},{3},0,0,1,{3},{3}l0,{5}a{3},{3},0,0,1,{4},{3}l{6},0a{3},{3},0,0,1,{4},{4}l0,{7}a{3},{3},0,0,1,{3},{4}z",a.x+a.radius,a.y,a.width-a.radius*2,a.radius,-a.radius,a.height-a.radius*2,a.radius*2-a.width,a.radius*2-a.height)}else{return Ext.String.format("M{0},{1}l{2},0,0,{3},{4},0z",a.x,a.y,a.width,a.height,-a.width)}},path2string:function(){return this.join(",").replace(Ext.draw.Draw.pathToStringRE,"$1")},parsePathString:function(a){if(!a){return null}var e={a:7,c:6,h:1,l:2,m:2,q:4,s:4,t:2,v:1,z:0},d=[],b=this;if(b.is(a,"array")&&b.is(a[0],"array")){d=b.pathClone(a)}if(!d.length){String(a).replace(b.pathCommandRE,function(g,f,j){var i=[],h=f.toLowerCase();j.replace(b.pathValuesRE,function(l,k){k&&i.push(+k)});if(h=="m"&&i.length>2){d.push([f].concat(i.splice(0,2)));h="l";f=(f=="m")?"l":"L"}while(i.length>=e[h]){d.push([f].concat(i.splice(0,e[h])));if(!e[h]){break}}})}d.toString=b.path2string;return d},mapPath:function(g,b){if(!b){return g}var a,h,e,d,f;g=this.path2curve(g);for(e=0,ii=g.length;e<ii;e++){f=g[e];for(d=1,jj=f.length;d<jj-1;d+=2){a=b.x(f[d],f[d+1]);h=b.y(f[d],f[d+1]);f[d]=a;f[d+1]=h}}return g},pathClone:function(g){var d=[],a,f,b,e;if(!this.is(g,"array")||!this.is(g&&g[0],"array")){g=this.parsePathString(g)}for(b=0,e=g.length;b<e;b++){d[b]=[];for(a=0,f=g[b].length;a<f;a++){d[b][a]=g[b][a]}}d.toString=this.path2string;return d},pathToAbsolute:function(e){if(!this.is(e,"array")||!this.is(e&&e[0],"array")){e=this.parsePathString(e)}var m=[],o=0,n=0,s=0,q=0,d=0,h,t,a,p,g,l,f,b;if(e[0][0]=="M"){o=+e[0][1];n=+e[0][2];s=o;q=n;d++;m[0]=["M",o,n]}for(h=d,t=e.length;h<t;h++){a=m[h]=[];p=e[h];if(p[0]!=p[0].toUpperCase()){a[0]=p[0].toUpperCase();switch(a[0]){case"A":a[1]=p[1];a[2]=p[2];a[3]=p[3];a[4]=p[4];a[5]=p[5];a[6]=+(p[6]+o);a[7]=+(p[7]+n);break;case"V":a[1]=+p[1]+n;break;case"H":a[1]=+p[1]+o;break;case"M":s=+p[1]+o;q=+p[2]+n;default:for(g=1,l=p.length;g<l;g++){a[g]=+p[g]+((g%2)?o:n)}}}else{for(f=0,b=p.length;f<b;f++){m[h][f]=p[f]}}switch(a[0]){case"Z":o=s;n=q;break;case"H":o=a[1];break;case"V":n=a[1];break;case"M":s=m[h][m[h].length-2];q=m[h][m[h].length-1];default:o=m[h][m[h].length-2];n=m[h][m[h].length-1]}}m.toString=this.path2string;return m},pathToRelative:function(e){if(!this.is(e,"array")||!this.is(e&&e[0],"array")){e=this.parsePathString(e)}var n=[],p=0,o=0,t=0,s=0,d=0;if(e[0][0]=="M"){p=e[0][1];o=e[0][2];t=p;s=o;d++;n.push(["M",p,o])}for(var h=d,u=e.length;h<u;h++){var a=n[h]=[],q=e[h];if(q[0]!=q[0].toLowerCase()){a[0]=q[0].toLowerCase();switch(a[0]){case"a":a[1]=q[1];a[2]=q[2];a[3]=q[3];a[4]=q[4];a[5]=q[5];a[6]=+(q[6]-p).toFixed(3);a[7]=+(q[7]-o).toFixed(3);break;case"v":a[1]=+(q[1]-o).toFixed(3);break;case"m":t=q[1];s=q[2];default:for(var g=1,l=q.length;g<l;g++){a[g]=+(q[g]-((g%2)?p:o)).toFixed(3)}}}else{a=n[h]=[];if(q[0]=="m"){t=q[1]+p;s=q[2]+o}for(var f=0,b=q.length;f<b;f++){n[h][f]=q[f]}}var m=n[h].length;switch(n[h][0]){case"z":p=t;o=s;break;case"h":p+=+n[h][m-1];break;case"v":o+=+n[h][m-1];break;default:p+=+n[h][m-2];o+=+n[h][m-1]}}n.toString=this.path2string;return n},path2curve:function(k){var e=this,h=e.pathToAbsolute(k),d=h.length,j={x:0,y:0,bx:0,by:0,X:0,Y:0,qx:null,qy:null},b,a,g,f;for(b=0;b<d;b++){h[b]=e.command2curve(h[b],j);if(h[b].length>7){h[b].shift();f=h[b];while(f.length){h.splice(b++,0,["C"].concat(f.splice(0,6)))}h.splice(b,1);d=h.length}a=h[b];g=a.length;j.x=a[g-2];j.y=a[g-1];j.bx=parseFloat(a[g-4])||j.x;j.by=parseFloat(a[g-3])||j.y}return h},interpolatePaths:function(r,l){var j=this,e=j.pathToAbsolute(r),m=j.pathToAbsolute(l),n={x:0,y:0,bx:0,by:0,X:0,Y:0,qx:null,qy:null},a={x:0,y:0,bx:0,by:0,X:0,Y:0,qx:null,qy:null},b=function(p,s){if(p[s].length>7){p[s].shift();var t=p[s];while(t.length){p.splice(s++,0,["C"].concat(t.splice(0,6)))}p.splice(s,1);o=Math.max(e.length,m.length||0)}},d=function(v,u,s,p,t){if(v&&u&&v[t][0]=="M"&&u[t][0]!="M"){u.splice(t,0,["M",p.x,p.y]);s.bx=0;s.by=0;s.x=v[t][1];s.y=v[t][2];o=Math.max(e.length,m.length||0)}};for(var h=0,o=Math.max(e.length,m.length||0);h<o;h++){e[h]=j.command2curve(e[h],n);b(e,h);(m[h]=j.command2curve(m[h],a));b(m,h);d(e,m,n,a,h);d(m,e,a,n,h);var g=e[h],q=m[h],f=g.length,k=q.length;n.x=g[f-2];n.y=g[f-1];n.bx=parseFloat(g[f-4])||n.x;n.by=parseFloat(g[f-3])||n.y;a.bx=(parseFloat(q[k-4])||a.x);a.by=(parseFloat(q[k-3])||a.y);a.x=q[k-2];a.y=q[k-1]}return[e,m]},command2curve:function(e,b){var a=this;if(!e){return["C",b.x,b.y,b.x,b.y,b.x,b.y]}if(e[0]!="T"&&e[0]!="Q"){b.qx=b.qy=null}switch(e[0]){case"M":b.X=e[1];b.Y=e[2];break;case"A":e=["C"].concat(a.arc2curve.apply(a,[b.x,b.y].concat(e.slice(1))));break;case"S":e=["C",b.x+(b.x-(b.bx||b.x)),b.y+(b.y-(b.by||b.y))].concat(e.slice(1));break;case"T":b.qx=b.x+(b.x-(b.qx||b.x));b.qy=b.y+(b.y-(b.qy||b.y));e=["C"].concat(a.quadratic2curve(b.x,b.y,b.qx,b.qy,e[1],e[2]));break;case"Q":b.qx=e[1];b.qy=e[2];e=["C"].concat(a.quadratic2curve(b.x,b.y,e[1],e[2],e[3],e[4]));break;case"L":e=["C"].concat(b.x,b.y,e[1],e[2],e[1],e[2]);break;case"H":e=["C"].concat(b.x,b.y,e[1],b.y,e[1],b.y);break;case"V":e=["C"].concat(b.x,b.y,b.x,e[1],b.x,e[1]);break;case"Z":e=["C"].concat(b.x,b.y,b.X,b.Y,b.X,b.Y);break}return e},quadratic2curve:function(b,e,h,f,a,d){var g=1/3,i=2/3;return[g*b+i*h,g*e+i*f,g*a+i*h,g*d+i*f,a,d]},rotate:function(b,h,a){var e=Math.cos(a),d=Math.sin(a),g=b*e-h*d,f=b*d+h*e;return{x:g,y:f}},arc2curve:function(v,ai,J,H,B,o,j,u,ah,C){var z=this,f=Math.PI,A=z.radian,G=f*120/180,b=A*(+B||0),O=[],L=Math,W=L.cos,a=L.sin,Y=L.sqrt,w=L.abs,p=L.asin,K,d,r,Q,P,ad,e,U,X,E,D,n,m,s,l,ag,g,af,S,V,T,ae,ac,ab,Z,N,aa,M,F,I,q;if(!C){K=z.rotate(v,ai,-b);v=K.x;ai=K.y;K=z.rotate(u,ah,-b);u=K.x;ah=K.y;d=W(A*B);r=a(A*B);Q=(v-u)/2;P=(ai-ah)/2;ad=(Q*Q)/(J*J)+(P*P)/(H*H);if(ad>1){ad=Y(ad);J=ad*J;H=ad*H}e=J*J;U=H*H;X=(o==j?-1:1)*Y(w((e*U-e*P*P-U*Q*Q)/(e*P*P+U*Q*Q)));E=X*J*P/H+(v+u)/2;D=X*-H*Q/J+(ai+ah)/2;n=p(((ai-D)/H).toFixed(7));m=p(((ah-D)/H).toFixed(7));n=v<E?f-n:n;m=u<E?f-m:m;if(n<0){n=f*2+n}if(m<0){m=f*2+m}if(j&&n>m){n=n-f*2}if(!j&&m>n){m=m-f*2}}else{n=C[0];m=C[1];E=C[2];D=C[3]}s=m-n;if(w(s)>G){F=m;I=u;q=ah;m=n+G*(j&&m>n?1:-1);u=E+J*W(m);ah=D+H*a(m);O=z.arc2curve(u,ah,J,H,B,0,j,I,q,[m,F,E,D])}s=m-n;l=W(n);ag=a(n);g=W(m);af=a(m);S=L.tan(s/4);V=4/3*J*S;T=4/3*H*S;ae=[v,ai];ac=[v+V*ag,ai-T*l];ab=[u+V*af,ah-T*g];Z=[u,ah];ac[0]=2*ae[0]-ac[0];ac[1]=2*ae[1]-ac[1];if(C){return[ac,ab,Z].concat(O)}else{O=[ac,ab,Z].concat(O).join().split(",");N=[];M=O.length;for(aa=0;aa<M;aa++){N[aa]=aa%2?z.rotate(O[aa-1],O[aa],b).y:z.rotate(O[aa],O[aa+1],b).x}return N}},rotatePoint:function(b,h,f,a,g){if(!f){return{x:b,y:h}}a=a||0;g=g||0;b=b-a;h=h-g;f=f*this.radian;var e=Math.cos(f),d=Math.sin(f);return{x:b*e-h*d+a,y:b*d+h*e+g}},rotateAndTranslatePath:function(k){var d=k.rotation.degrees,e=k.rotation.x,b=k.rotation.y,o=k.translation.x,l=k.translation.y,n,g,a,m,f,h=[];if(!d&&!o&&!l){return this.pathToAbsolute(k.attr.path)}o=o||0;l=l||0;n=this.pathToAbsolute(k.attr.path);for(g=n.length;g--;){a=h[g]=n[g].slice();if(a[0]=="A"){m=this.rotatePoint(a[6],a[7],d,e,b);a[6]=m.x+o;a[7]=m.y+l}else{f=1;while(a[f+1]!=null){m=this.rotatePoint(a[f],a[f+1],d,e,b);a[f]=m.x+o;a[f+1]=m.y+l;f+=2}}}return h},pathDimensions:function(m){if(!m||!(m+"")){return{x:0,y:0,width:0,height:0}}m=this.path2curve(m);var j=0,h=0,e=[],b=[],d,f,l,a,k,g;for(f=0,l=m.length;f<l;f++){d=m[f];if(d[0]=="M"){j=d[1];h=d[2];e.push(j);b.push(h)}else{g=this.curveDim(j,h,d[1],d[2],d[3],d[4],d[5],d[6]);e=e.concat(g.min.x,g.max.x);b=b.concat(g.min.y,g.max.y);j=d[5];h=d[6]}}a=Math.min.apply(0,e);k=Math.min.apply(0,b);return{x:a,y:k,width:Math.max.apply(0,e)-a,height:Math.max.apply(0,b)-k}},curveDim:function(f,d,h,g,s,r,o,l){var q=(s-2*h+f)-(o-2*s+h),n=2*(h-f)-2*(s-h),k=f-h,j=(-n+Math.sqrt(n*n-4*q*k))/2/q,i=(-n-Math.sqrt(n*n-4*q*k))/2/q,m=[d,l],p=[f,o],e;Math.abs(j)>1000000000000&&(j=0.5);Math.abs(i)>1000000000000&&(i=0.5);if(j>0&&j<1){e=this.findDotAtSegment(f,d,h,g,s,r,o,l,j);p.push(e.x);m.push(e.y)}if(i>0&&i<1){e=this.findDotAtSegment(f,d,h,g,s,r,o,l,i);p.push(e.x);m.push(e.y)}q=(r-2*g+d)-(l-2*r+g);n=2*(g-d)-2*(r-g);k=d-g;j=(-n+Math.sqrt(n*n-4*q*k))/2/q;i=(-n-Math.sqrt(n*n-4*q*k))/2/q;Math.abs(j)>1000000000000&&(j=0.5);Math.abs(i)>1000000000000&&(i=0.5);if(j>0&&j<1){e=this.findDotAtSegment(f,d,h,g,s,r,o,l,j);p.push(e.x);m.push(e.y)}if(i>0&&i<1){e=this.findDotAtSegment(f,d,h,g,s,r,o,l,i);p.push(e.x);m.push(e.y)}return{min:{x:Math.min.apply(0,p),y:Math.min.apply(0,m)},max:{x:Math.max.apply(0,p),y:Math.max.apply(0,m)}}},getAnchors:function(e,d,q,o,j,h,t){t=t||4;var f=Math.min(Math.sqrt(Math.pow(e-q,2)+Math.pow(d-o,2))/t,Math.sqrt(Math.pow(j-q,2)+Math.pow(h-o,2))/t),r=Math.atan((q-e)/Math.abs(o-d)),p=Math.atan((j-q)/Math.abs(o-h)),m=Math.PI;r=d<o?m-r:r;p=h<o?m-p:p;var g=m/2-((r+p)%(m*2))/2;g>m/2&&(g-=m);var u=f*Math.sin(g+r),n=f*Math.cos(g+r),s=f*Math.sin(g+p),k=f*Math.cos(g+p),i={x1:q-u,y1:o+n,x2:q+s,y2:o+k};return i},smooth:function(a,r){var q=this.path2curve(a),f=[q[0]],k=q[0][1],h=q[0][2],s,u,v=1,l=q.length,g=1,n=k,m=h,d=0,b=0;for(;v<l;v++){var A=q[v],z=A.length,w=q[v-1],o=w.length,t=q[v+1],p=t&&t.length;if(A[0]=="M"){n=A[1];m=A[2];s=v+1;while(q[s][0]!="C"){s++}d=q[s][5];b=q[s][6];f.push(["M",n,m]);g=f.length;k=n;h=m;continue}if(A[z-2]==n&&A[z-1]==m&&(!t||t[0]=="M")){var e=f[g].length;u=this.getAnchors(w[o-2],w[o-1],n,m,f[g][e-2],f[g][e-1],r);f[g][1]=u.x2;f[g][2]=u.y2}else{if(!t||t[0]=="M"){u={x1:A[z-2],y1:A[z-1]}}else{u=this.getAnchors(w[o-2],w[o-1],A[z-2],A[z-1],t[p-2],t[p-1],r)}}f.push(["C",k,h,u.x1,u.y1,A[z-2],A[z-1]]);k=u.x2;h=u.y2}return f},findDotAtSegment:function(b,a,e,d,j,i,h,g,k){var f=1-k;return{x:Math.pow(f,3)*b+Math.pow(f,2)*3*k*e+f*3*k*k*j+Math.pow(k,3)*h,y:Math.pow(f,3)*a+Math.pow(f,2)*3*k*d+f*3*k*k*i+Math.pow(k,3)*g}},snapEnds:function(p,q,e){var d=(q-p)/e,a=Math.floor(Math.log(d)/Math.LN10)+1,f=Math.pow(10,a),r=p=Math.floor(p/f)*f,n=Math.round((d%f)*Math.pow(10,2-a)),b=["0:15","20:4","30:2","40:4","50:9","60:4","70:2","80:4","100:15"],l=[],g=0,o,j,h,k=b.length;for(h=0;h<k;h++){o=b[h].split(":");j=o[1];o=o[0];l[h]={a:o,b:((o-n)<0?Infinity:(o-n)/j)}}l=l.sort(function(m,i){if(!isFinite(m.b)&&!isFinite(i.b)){return false}else{return m.b-i.b}})[0].a;l=Math.floor(d*Math.pow(10,-a))*Math.pow(10,a)+l*Math.pow(10,a-2);while(r<q){r+=l;g++}q=+r.toFixed(10);return{from:p,to:q,power:a,step:l,steps:g}},sorter:function(e,d){return e.offset-d.offset},rad:function(a){return a%360*Math.PI/180},degrees:function(a){return a*180/Math.PI%360},parseGradient:function(k){var f=this,g=k.type||"linear",d=k.angle||0,i=f.radian,l=k.stops,a=[],j,b,h,e;if(g=="linear"){b=[0,0,Math.cos(d*i),Math.sin(d*i)];h=1/(Math.max(Math.abs(b[2]),Math.abs(b[3]))||1);b[2]*=h;b[3]*=h;if(b[2]<0){b[0]=-b[2];b[2]=0}if(b[3]<0){b[1]=-b[3];b[3]=0}}for(j in l){if(l.hasOwnProperty(j)&&f.stopsRE.test(j)){e={offset:parseInt(j,10),color:Ext.draw.Color.toHex(l[j].color)||"#ffffff",opacity:l[j].opacity||1};a.push(e)}}a.sort(f.sorter);if(g=="linear"){return{id:k.id,type:g,vector:b,stops:a}}else{return{id:k.id,type:g,centerX:k.centerX,centerY:k.centerY,focalX:k.focalX,focalY:k.focalY,radius:k.radius,vector:b,stops:a}}}});Ext.define("Ext.fx.PropHandler",{requires:["Ext.draw.Draw"],statics:{defaultHandler:{unitRE:/^(-?\d*\.?\d*){1}(em|ex|px|in|cm|mm|pt|pc|%)*$/,computeDelta:function(h,a,f,e){f=(typeof f=="number")?f:1;var d=this.unitRE.exec(h),g,b;if(d){h=d[1];b=d[2]}h=+h||0;d=this.unitRE.exec(a);if(d){a=d[1];b=d[2]||b}a=+a||0;g=(e!=null)?e:h;return{from:h,delta:(a-g)*f,units:b}},get:function(n,b,a,m){var f,h,l=n.length,e=[];for(f=0;f<l;f++){if(m){h=m[f][1].from}if(Ext.isArray(n[f][1])&&Ext.isArray(b)){var k=[];for(var d=0,g=n[f][1].length;d<g;d++){k.push(this.computeDelta(n[f][1][d],b[d],a,h))}e.push([n[f][0],k])}else{e.push([n[f][0],this.computeDelta(n[f][1],b,a,h)])}}return e},set:function(l,g){var e,h=l.length,b=[],a;for(e=0;e<h;e++){a=l[e][1];if(Ext.isArray(a)){var k=[];for(var d=0,f=a.length;d<f;d++){k.push(a[d].from+(a[d].delta*g)+(a[d].units||0))}b.push([l[e][0],k])}else{b.push([l[e][0],a.from+(a.delta*g)+(a.units||0)])}}return b}},color:{rgbRE:/^rgb\(([0-9]+)\s*,\s*([0-9]+)\s*,\s*([0-9]+)\)$/i,hexRE:/^#?([0-9A-F]{2})([0-9A-F]{2})([0-9A-F]{2})$/i,hex3RE:/^#?([0-9A-F]{1})([0-9A-F]{1})([0-9A-F]{1})$/i,parseColor:function(a,e){e=(typeof e=="number")?e:1;var f,d=false,b;Ext.each([this.hexRE,this.rgbRE,this.hex3RE],function(h,g){f=(g%2==0)?16:10;b=h.exec(a);if(b&&b.length==4){if(g==2){b[1]+=b[1];b[2]+=b[2];b[3]+=b[3]}d={red:parseInt(parseInt(b[1],f)*e,10),green:parseInt(parseInt(b[2],f)*e,10),blue:parseInt(parseInt(b[3],f)*e,10)};return false}});return d||a},computeDelta:function(h,a,f,d){h=this.parseColor(h);a=this.parseColor(a,f);var g=d?d:h,b=typeof g,e=typeof a;if(b=="string"||b=="undefined"||e=="string"||e=="undefined"){return a||g}return{from:h,delta:{red:Math.round((a.red-g.red)*f),green:Math.round((a.green-g.green)*f),blue:Math.round((a.blue-g.blue)*f)}}},get:function(j,a,g,e){var f,d,h=j.length,b=[];for(f=0;f<h;f++){if(e){d=e[f][1].from}b.push([j[f][0],this.computeDelta(j[f][1],a,g,d)])}return b},set:function(a,h){var d,e=a.length,b=[],f,g;for(d=0;d<e;d++){f=a[d][1];f=(typeof f=="object"&&"red" in f)?"rgb("+f.red+", "+f.green+", "+f.blue+")":f;f=(typeof f=="object"&&f.length)?f[0]:f;if(typeof f=="undefined"){return[]}g=typeof f=="string"?f:"rgb("+[f.from.red+parseInt(f.delta.red*h,10),f.from.green+parseInt(f.delta.green*h,10),f.from.blue+parseInt(f.delta.blue*h,10)].join(",")+")";b.push([a[d][0],g])}return b}},object:{interpolate:function(e,b){b=(typeof b=="number")?b:1;var a={};for(var d in e){a[d]=parseInt(e[d],10)*b}return a},computeDelta:function(h,a,d,b){h=this.interpolate(h);a=this.interpolate(a,d);var g=b?b:h,f={};for(var e in a){f[e]=a[e]-g[e]}return{from:h,delta:f}},get:function(j,a,g,e){var f,d,h=j.length,b=[];for(f=0;f<h;f++){if(e){d=e[f][1].from}b.push([j[f][0],this.computeDelta(j[f][1],a,g,d)])}return b},set:function(l,g){var e,h=l.length,d=[],f={},j,k,b;for(e=0;e<h;e++){b=l[e][1];j=b.from;k=b.delta;for(var a in j){f[a]=j[a]+parseInt(k[a]*g,10)}d.push([l[e][0],f])}return d}},path:{unitRE:/^(-?\d*\.?\d*){1}(em|ex|px|in|cm|mm|pt|pc|%)*$/,computeDelta:function(h,a,f,e){f=(typeof f=="number")?f:1;var d=this.unitRE.exec(h),g,b;if(d){h=d[1];b=d[2]}h=+h||0;d=this.unitRE.exec(a);if(d){a=d[1];b=d[2]||b}a=+a||0;g=(e!=null)?e:h;return{from:h,delta:(a-g)*f,units:b}},forcePath:function(a){if(!Ext.isArray(a)&&!Ext.isArray(a[0])){a=Ext.draw.Draw.parsePathString(a)}return a},get:function(a,h){var n,m,g,q,p,b=this.forcePath(h),f,l=[],o=a.length,d,e;for(n=0;n<o;n++){p=this.forcePath(a[n][1]);f=Ext.draw.Draw.interpolatePaths(p,b);p=f[0];b=f[1];d=p.length;q=[];for(m=0;m<d;m++){f=[p[m][0]];e=p[m].length;for(g=1;g<e;g++){f.push(this.computeDelta(p[m][g],b[m][g]))}q.push(f)}l.push([a[n][0],q])}return l},set:function(p,o){var h,g,d,l,m,e,a,b,n=p.length,f=[];for(h=0;h<n;h++){e=p[h][1];l=[];a=e.length;for(g=0;g<a;g++){m=[e[g][0]];b=e[g].length;for(d=1;d<b;d++){m.push(e[g][d].from+(e[g][d].delta*o))}l.push(m.join(","))}f.push([p[h][0],l.join(",")])}return f}}}},function(){Ext.each(["outlineColor","backgroundColor","borderColor","borderTopColor","borderRightColor","borderBottomColor","borderLeftColor","fill","stroke"],function(a){this[a]=this.color},this)});Ext.define("Ext.fx.Anim",{mixins:{observable:"Ext.util.Observable"},requires:["Ext.fx.Manager","Ext.fx.Animator","Ext.fx.PseudoEasing","Ext.fx.Easing","Ext.fx.CubicBezier","Ext.fx.PropHandler"],isAnimation:true,duration:250,delay:0,easing:"ease",damper:1,bezierRE:/^(?:cubic-)?bezier\(([^,]+),([^,]+),([^,]+),([^\)]+)\)/,reverse:false,running:false,paused:false,iterations:1,alternate:false,currentIteration:0,startTime:0,elapsedTime:0,propHandlers:{},constructor:function(a){if(a.keyframes){return new Ext.fx.Animator(a)}if(Ext.fx.PseudoEasing[a.easing]){return new Ext.fx.Animator(Ext.apply(a,{keyframes:Ext.decode(Ext.encode(Ext.fx.PseudoEasing[a.easing]))}))}a=Ext.apply(this,a);if(this.from==undefined){this.from={}}this.config=a;this.target=Ext.fx.Manager.createTarget(this.target);this.easingFn=Ext.fx.Easing[this.easing];if(!this.easingFn){this.easingFn=String(this.easing).match(this.bezierRE);if(this.easingFn&&this.easingFn.length==5){var b=this.easingFn;this.easingFn=Ext.fx.cubicBezier(+b[1],+b[2],+b[3],+b[4])}}this.id=Ext.id(null,"ext-anim-");Ext.fx.Manager.addAnim(this);this.addEvents("beforeanimate","afteranimate");this.mixins.observable.constructor.call(this,a);return this},setAttr:function(a,b){return Ext.fx.Manager.items.get(this.id).setAttr(this.target,a,b)},initAttrs:function(){var i=this.from,h=this.to,e=this.initialFrom||{},d={},g,b,f,a;for(a in h){if(h.hasOwnProperty(a)){g=this.target.getAttr(a,i[a]);b=h[a];if(!Ext.fx.PropHandler[a]){if(Ext.isObject(b)){f=this.propHandlers[a]=Ext.fx.PropHandler.object}else{f=this.propHandlers[a]=Ext.fx.PropHandler.defaultHandler}}else{f=this.propHandlers[a]=Ext.fx.PropHandler[a]}d[a]=f.get(g,b,this.damper,e[a])}}this.currentAttrs=d},start:function(a){if(this.fireEvent("beforeanimate",this)!==false){this.startTime=a-this.elapsedTime;if(!this.paused&&!this.currentAttrs){this.initAttrs()}this.running=true}},runAnim:function(f){var i=this.currentAttrs,d=this.duration,b=this.easingFn,a=this.propHandlers,g={},h,j,e;if(f>=d){f=d}if(this.reverse){f=d-f}for(e in i){if(i.hasOwnProperty(e)){j=i[e];h=b(f/d);g[e]=a[e].set(j,h)}}return g},lastFrame:function(){var a=this.iterations,b=this.currentIteration;b++;if(b<a){if(this.alternate){this.reverse=!this.reverse}}else{b=0;this.end()}this.startTime=new Date();this.currentIteration=b;this.paused=false},end:function(){this.fireEvent("afteranimate",this,this.startTime,this.elapsedTime);this.startTime=0;this.elapsedTime=0;this.paused=false;this.running=false;Ext.fx.Manager.removeAnim(this)}});Ext.enableFx=true;Ext.define("Ext.state.Provider",{extend:"Ext.util.Observable",constructor:function(){this.addEvents("statechange");this.state={};Ext.state.Provider.superclass.constructor.call(this)},get:function(b,a){return typeof this.state[b]=="undefined"?a:this.state[b]},clear:function(a){delete this.state[a];this.fireEvent("statechange",this,a,null)},set:function(a,b){this.state[a]=b;this.fireEvent("statechange",this,a,b)},decodeValue:function(b){var f=/^(a|n|d|b|s|o|e)\:(.*)$/,h=f.exec(unescape(b)),e,d,a,g;if(!h||!h[1]){return}d=h[1];a=h[2];switch(d){case"e":return null;case"n":return parseFloat(a);case"d":return new Date(Date.parse(a));case"b":return(a=="1");case"a":e=[];if(a!=""){Ext.each(a.split("^"),function(i){e.push(this.decodeValue(i))},this)}return e;case"o":e={};if(a!=""){Ext.each(a.split("^"),function(i){g=i.split("=");e[g[0]]=this.decodeValue(g[1])},this)}return e;default:return a}},encodeValue:function(d){var b,g="",f=0,a,e;if(d==null){return"e:1"}else{if(typeof d=="number"){b="n:"+d}else{if(typeof d=="boolean"){b="b:"+(d?"1":"0")}else{if(Ext.isDate(d)){b="d:"+d.toGMTString()}else{if(Ext.isArray(d)){for(a=d.length;f<a;f++){g+=this.encodeValue(d[f]);if(f!=a-1){g+="^"}}b="a:"+g}else{if(typeof d=="object"){for(e in d){if(typeof d[e]!="function"&&d[e]!==undefined){g+=e+"="+this.encodeValue(d[e])+"^"}}b="o:"+g.substring(0,g.length-1)}else{b="s:"+d}}}}}}return escape(b)}});Ext.define("Ext.state.Manager",{singleton:true,requires:["Ext.state.Provider"],constructor:function(){this.provider=new Ext.state.Provider()},setProvider:function(a){this.provider=a},get:function(b,a){return this.provider.get(b,a)},set:function(a,b){this.provider.set(a,b)},clear:function(a){this.provider.clear(a)},getProvider:function(){return this.provider}});Ext.define("Ext.draw.Sprite",{mixins:{observable:"Ext.util.Observable"},dirty:false,dirtyHidden:false,dirtyTransform:false,dirtyPath:true,dirtyFont:true,zIndexDirty:true,isSprite:true,zIndex:0,fontProperties:["font","font-size","font-weight","font-style","font-family","text-anchor","text"],pathProperties:["x","y","d","path","height","width","radius","r","rx","ry","cx","cy"],constructor:function(a){a=a||{};this.id=Ext.id(null,"ext-sprite-");this.transformations=[];Ext.copyTo(this,a,"surface,group,type");this.bbox={};this.attr={zIndex:0,translation:{x:null,y:null},rotation:{degrees:null,x:null,y:null},scaling:{x:null,y:null,cx:null,cy:null}};delete a.surface;delete a.group;delete a.type;this.setAttributes(a);this.addEvents("render","mousedown","mouseup","mouseover","mouseout","click");this.mixins.observable.constructor.apply(this,arguments)},setAttributes:function(p,r){var n=this,s=n.fontProperties,l=s.length,g=n.pathProperties,o=g.length,d=n.surface.customAttributes,b=n.attr,m,k,f,a,j,q,h,e;for(m in d){if(p.hasOwnProperty(m)&&typeof d[m]=="function"){Ext.apply(p,d[m].apply(n,[].concat(p[m])))}}if(!!p.hidden!==!!b.hidden){n.dirtyHidden=true}for(k=0;k<o;k++){m=g[k];if(m in p&&p[m]!==b[m]){n.dirtyPath=true;break}}if("zIndex" in p){n.zIndexDirty=true}for(k=0;k<l;k++){m=s[k];if(m in p&&p[m]!==b[m]){n.dirtyFont=true;break}}f=p.translate;a=b.translation;if(f){if((f.x&&f.x!==a.x)||(f.y&&f.y!==a.y)){Ext.apply(a,f);n.dirtyTransform=true}delete p.translate}j=p.rotate;q=b.rotation;if(j){if((j.x&&j.x!==q.x)||(j.y&&j.y!==q.y)||(j.degrees&&j.degrees!==q.degrees)){Ext.apply(q,j);n.dirtyTransform=true}delete p.rotate}h=p.scale;e=b.scaling;if(h){if((h.x&&h.x!==e.x)||(h.y&&h.y!==e.y)||(h.cx&&h.cx!==e.cx)||(h.cy&&h.cy!==e.cy)){Ext.apply(e,h);n.dirtyTransform=true}delete p.scale}Ext.apply(b,p);n.dirty=true;if(r===true){n.redraw()}},getBBox:function(){return this.surface.getBBox(this)},hide:function(a){this.setAttributes({hidden:true},a)},show:function(a){this.setAttributes({hidden:false},a)},redraw:function(){this.surface.renderItem(this)},setStyle:function(){this.el.setStyle.apply(this.el,arguments);return this},addCls:function(a){this.surface.addCls(this,a)},removeCls:function(a){this.surface.removeCls(this,a)}});Ext.define("Ext.draw.Matrix",{requires:["Ext.draw.Draw"],constructor:function(h,g,l,k,j,i){if(h!=null){this.matrix=[[h,l,j],[g,k,i],[0,0,1]]}else{this.matrix=[[1,0,0],[0,1,0],[0,0,1]]}},add:function(s,p,m,k,i,h){var n=this,g=[[],[],[]],r=[[s,m,i],[p,k,h],[0,0,1]],q,o,l,j;for(q=0;q<3;q++){for(o=0;o<3;o++){j=0;for(l=0;l<3;l++){j+=n.matrix[q][l]*r[l][o]}g[q][o]=j}}n.matrix=g},prepend:function(s,p,m,k,i,h){var n=this,g=[[],[],[]],r=[[s,m,i],[p,k,h],[0,0,1]],q,o,l,j;for(q=0;q<3;q++){for(o=0;o<3;o++){j=0;for(l=0;l<3;l++){j+=r[q][l]*n.matrix[l][o]}g[q][o]=j}}n.matrix=g},invert:function(){var j=this.matrix,i=j[0][0],h=j[1][0],n=j[0][1],m=j[1][1],l=j[0][2],k=j[1][2],g=i*m-h*n;return new Ext.draw.Matrix(m/g,-h/g,-n/g,i/g,(n*k-m*l)/g,(h*l-i*k)/g)},clone:function(){var i=this.matrix,h=i[0][0],g=i[1][0],m=i[0][1],l=i[1][1],k=i[0][2],j=i[1][2];return new Ext.draw.Matrix(h,g,m,l,k,j)},translate:function(a,b){this.prepend(1,0,0,1,a,b)},scale:function(b,f,a,e){var d=this;if(f==null){f=b}d.add(1,0,0,1,a,e);d.add(b,0,0,f,0,0);d.add(1,0,0,1,-a,-e)},rotate:function(d,b,h){d=Ext.draw.Draw.rad(d);var f=this,g=+Math.cos(d).toFixed(9),e=+Math.sin(d).toFixed(9);f.add(g,e,-e,g,b,h);f.add(1,0,0,1,-b,-h)},x:function(a,d){var b=this.matrix;return a*b[0][0]+d*b[0][1]+b[0][2]},y:function(a,d){var b=this.matrix;return a*b[1][0]+d*b[1][1]+b[1][2]},get:function(b,a){return +this.matrix[b][a].toFixed(4)},toString:function(){var a=this;return[a.get(0,0),a.get(0,1),a.get(1,0),a.get(1,1),0,0].join()},toSVG:function(){var a=this;return"matrix("+[a.get(0,0),a.get(1,0),a.get(0,1),a.get(1,1),a.get(0,2),a.get(1,2)].join()+")"},toFilter:function(){var a=this;return"progid:DXImageTransform.Microsoft.Matrix(M11="+a.get(0,0)+", M12="+a.get(0,1)+", M21="+a.get(1,0)+", M22="+a.get(1,1)+", Dx="+a.get(0,2)+", Dy="+a.get(1,2)+")"},offset:function(){var a=this.matrix;return[a[0][2].toFixed(4),a[1][2].toFixed(4)]}});Ext.define("Ext.draw.engine.SVG",{extend:"Ext.draw.Surface",requires:["Ext.draw.Draw","Ext.draw.Sprite","Ext.draw.Matrix","Ext.core.Element"],engine:"SVG",trimRe:/^\s+|\s+$/g,spacesRe:/\s+/,xlink:"http://www.w3.org/1999/xlink",translateAttrs:{radius:"r",radiusX:"rx",radiusY:"ry",path:"d",lineWidth:"stroke-width",fillOpacity:"fill-opacity",strokeOpacity:"stroke-opacity",strokeLinejoin:"stroke-linejoin"},minDefaults:{circle:{cx:0,cy:0,r:0,fill:"none",stroke:null,"stroke-width":null,opacity:null,"fill-opacity":null,"stroke-opacity":null},ellipse:{cx:0,cy:0,rx:0,ry:0,fill:"none",stroke:null,"stroke-width":null,opacity:null,"fill-opacity":null,"stroke-opacity":null},rect:{x:0,y:0,width:0,height:0,rx:0,ry:0,fill:"none",stroke:null,"stroke-width":null,opacity:null,"fill-opacity":null,"stroke-opacity":null},text:{x:0,y:0,"text-anchor":"start","font-family":null,"font-size":null,"font-weight":null,"font-style":null,fill:"#000",stroke:null,"stroke-width":null,opacity:null,"fill-opacity":null,"stroke-opacity":null},path:{d:"M0,0",fill:"none",stroke:null,"stroke-width":null,opacity:null,"fill-opacity":null,"stroke-opacity":null},image:{x:0,y:0,width:0,height:0,preserveAspectRatio:"none",opacity:null}},createSVGElement:function(e,a){var d=this.domRef.createElementNS("http://www.w3.org/2000/svg",e),b;if(a){for(b in a){d.setAttribute(b,String(a[b]))}}return d},createSprite:function(a){var b=this.createSVGElement(a.type);b.id=a.id;b.style.webkitTapHighlightColor="rgba(0,0,0,0)";a.el=Ext.get(b);this.applyZIndex(a);a.matrix=new Ext.draw.Matrix;a.bbox={plain:0,transform:0};a.fireEvent("render",a);return b},getBBox:function(a,b){var d=this["getPath"+a.type](a);if(b){a.bbox.plain=a.bbox.plain||Ext.draw.Draw.pathDimensions(d);return a.bbox.plain}a.bbox.transform=a.bbox.transform||Ext.draw.Draw.pathDimensions(Ext.draw.Draw.mapPath(d,a.matrix));return a.bbox.transform},getBBoxText:function(j){var k={},g,l,a,d,h,b;if(j&&j.el){b=j.el.dom;try{k=b.getBBox();return k}catch(f){}k={x:k.x,y:Infinity,width:0,height:0};h=b.getNumberOfChars();for(d=0;d<h;d++){g=b.getExtentOfChar(d);k.y=Math.min(g.y,k.y);l=g.y+g.height-k.y;k.height=Math.max(k.height,l);a=g.x+g.width-k.x;k.width=Math.max(k.width,a)}return k}},hide:function(){Ext.get(this.el).hide()},show:function(){Ext.get(this.el).show()},hidePrim:function(a){this.addCls(a,Ext.baseCSSPrefix+"hide-visibility")},showPrim:function(a){this.removeCls(a,Ext.baseCSSPrefix+"hide-visibility")},getDefs:function(){return this._defs||(this._defs=this.createSVGElement("defs"))},transform:function(e){var h=this,a=new Ext.draw.Matrix,g=e.transformations,j=g.length,d=0,b,f;for(;d<j;d++){b=g[d];f=b.type;if(f=="translate"){a.translate(b.x,b.y)}else{if(f=="rotate"){a.rotate(b.degrees,b.x,b.y)}else{if(f=="scale"){a.scale(b.x,b.y,b.centerX,b.centerY)}}}}e.matrix=a;e.el.set({transform:a.toSVG()})},setSize:function(a,d){a=+a||this.width;d=+d||this.height;this.width=a;this.height=d;var b=this.el;b.setSize(a,d);b.set({width:a,height:d});Ext.draw.engine.SVG.superclass.setSize.call(this,a,d)},getRegion:function(){var f=this.el.getXY(),d=this.bgRect.getXY(),b=Math.max,a=b(f[0],d[0]),e=b(f[1],d[1]);return{left:a,top:e,right:a+this.width,bottom:e+this.height}},onRemove:function(a){if(a.el){Ext.removeNode(a.el);delete a.el}Ext.draw.engine.SVG.superclass.onRemove.call(this)},setViewBox:function(b,e,d,a){Ext.draw.engine.SVG.superclass.setViewBox.call(this);this.el.dom.setAttribute("viewBox",[b,e,d,a].join(" "))},render:function(d){if(!this.el){var f=this.width||10,b=this.height||10,e=this.createSVGElement("svg",{xmlns:"http://www.w3.org/2000/svg",version:1.1,width:f,height:b}),a=this.getDefs(),g=this.createSVGElement("rect",{width:"100%",height:"100%",fill:"#000",stroke:"none",opacity:0});e.appendChild(a);e.appendChild(g);d.appendChild(e);this.el=Ext.get(e);this.bgRect=Ext.get(g);this.el.on({scope:this,mouseup:this.onMouseUp,mousedown:this.onMouseDown,mouseover:this.onMouseOver,mouseout:this.onMouseOut,mousemove:this.onMouseMove,mouseenter:this.onMouseEnter,mouseleave:this.onMouseLeave,click:this.onClick})}this.renderAll()},onMouseEnter:function(a){if(this.bgRect.getRegion().contains(a.getPoint())){this.fireEvent("mouseenter",a)}},onMouseLeave:function(a){if(this.bgRect.getRegion().contains(a.getPoint())){this.fireEvent("mouseleave",a)}},processEvent:function(b,g){var f=g.getTarget(),a=this.surface,d;this.fireEvent(b,g);if(f.nodeName=="tspan"){f=f.parentNode}d=this.items.get(f.id);if(d){d.fireEvent(b,d,g)}},tuneText:function(j,k){var a=j.el.dom,m,g,b=[],l,e,f,d,h=a.getAttribute("x");if(k.hasOwnProperty("text")){while(a.firstChild){a.removeChild(a.firstChild)}d=String(k.text).split("\n");for(e=0,f=d.length;e<f;e++){l=d[e];if(l){g=this.createSVGElement("tspan");g.appendChild(Ext.getDoc().dom.createTextNode(l));g.setAttribute("x",h);a.appendChild(g);b[e]=g}}}if(b.length){m=this.getBBoxText(j).height;for(e=0,f=b.length;e<f;e++){b[e].setAttribute("dy",e?m*1.2:m/4)}j.dirty=true}},renderAll:function(){this.items.each(this.renderItem,this)},renderItem:function(a){if(!this.el){return}if(!a.el){this.createSprite(a)}if(a.zIndexDirty){this.applyZIndex(a)}if(a.dirty){this.applyAttrs(a);this.applyTransformations(a)}},redraw:function(a){a.dirty=a.zIndexDirty=true;this.renderItem(a)},applyAttrs:function(o){var k=this,d=o.el,n=o.group,h=o.attr,f,g,j,m,e,l,b,a;if(n){f=[].concat(n);j=f.length;for(g=0;g<j;g++){n=f[g];k.getGroup(n).add(o)}delete o.group}m=k.scrubAttrs(o)||{};o.bbox.plain=0;o.bbox.transform=0;if(o.type=="circle"||o.type=="ellipse"){m.cx=m.cx||m.x;m.cy=m.cy||m.y}else{if(o.type=="rect"){m.rx=m.ry=m.r}else{if(o.type=="path"&&m.d){m.d=Ext.draw.Draw.pathToAbsolute(m.d)}}}o.dirtyPath=false;if(o.type=="text"&&m.font&&o.dirtyFont){d.set({style:"font: "+m.font});o.dirtyFont=false}if(o.type=="image"){d.dom.setAttributeNS(k.xlink,"href",m.src)}Ext.applyIf(m,k.minDefaults[o.type]);if(o.dirtyHidden){(h.hidden)?k.hidePrim(o):k.showPrim(o);o.dirtyHidden=false}for(l in m){if(m.hasOwnProperty(l)&&m[l]!=null){d.dom.setAttribute(l,String(m[l]))}}if(o.type=="text"){k.tuneText(o,m)}b=h.style;if(b){d.setStyle(b)}o.dirty=false},applyZIndex:function(d){var a=this.positionSpriteInList(d),e=d.el,b;if(this.el.dom.childNodes[a+2]!==e.dom){if(a>0){do{b=this.items.getAt(--a).el}while(!b&&a>0)}e.insertAfter(b||this.bgRect)}d.zIndexDirty=false},createItem:function(a){var b=new Ext.draw.Sprite(a);b.surface=this;return b},addGradient:function(h){h=Ext.draw.Draw.parseGradient(h);var f=h.stops.length,a=h.vector,b,e,g,d;if(h.type=="linear"){b=this.createSVGElement("linearGradient");b.setAttribute("x1",a[0]);b.setAttribute("y1",a[1]);b.setAttribute("x2",a[2]);b.setAttribute("y2",a[3])}else{b=this.createSVGElement("radialGradient");b.setAttribute("cx",h.centerX);b.setAttribute("cy",h.centerY);b.setAttribute("r",h.radius);if(Ext.isNumber(h.focalX)&&Ext.isNumber(h.focalY)){b.setAttribute("fx",h.focalX);b.setAttribute("fy",h.focalY)}}b.id=h.id;this.getDefs().appendChild(b);for(d=0;d<f;d++){e=h.stops[d];g=this.createSVGElement("stop");g.setAttribute("offset",e.offset+"%");g.setAttribute("stop-color",e.color);g.setAttribute("stop-opacity",e.opacity);b.appendChild(g)}},hasCls:function(a,b){return b&&(" "+(a.el.dom.getAttribute("class")||"")+" ").indexOf(" "+b+" ")!=-1},addCls:function(f,h){var g=f.el,e,a,d,b=[],j=g.getAttribute("class")||"";if(!Ext.isArray(h)){if(typeof h=="string"&&!this.hasCls(f,h)){g.set({"class":j+" "+h})}}else{for(e=0,a=h.length;e<a;e++){d=h[e];if(typeof d=="string"&&(" "+j+" ").indexOf(" "+d+" ")==-1){b.push(d)}}if(b.length){g.set({"class":" "+b.join(" ")})}}},removeCls:function(k,g){var h=this,b=k.el,e=b.getAttribute("class")||"",d,j,f,l,a;if(!Ext.isArray(g)){g=[g]}if(e){a=e.replace(h.trimRe," ").split(h.spacesRe);for(d=0,f=g.length;d<f;d++){l=g[d];if(typeof l=="string"){l=l.replace(h.trimRe,"");j=Ext.Array.indexOf(a,l);if(j!=-1){a.splice(j,1)}}}b.set({"class":a.join(" ")})}},destroy:function(){Ext.draw.engine.SVG.superclass.destroy.call(this);Ext.removeNode(this.el);delete this.el}});Ext.define("Ext.draw.engine.VML",{extend:"Ext.draw.Surface",requires:["Ext.draw.Draw","Ext.draw.Color","Ext.draw.Sprite","Ext.draw.Matrix","Ext.core.Element"],engine:"VML",map:{M:"m",L:"l",C:"c",Z:"x",m:"t",l:"r",c:"v",z:"x"},bitesRe:/([clmz]),?([^clmz]*)/gi,valRe:/-?[^,\s-]+/g,fillUrlRe:/^url\(\s*['"]?([^\)]+?)['"]?\s*\)$/i,pathlike:/^(path|rect)$/,NonVMLPathRe:/[ahqstv]/ig,partialPathRe:/[clmz]/g,fontFamilyRe:/^['"]+|['"]+$/g,separatorRe:/[, ]+/,baseVMLCls:Ext.baseCSSPrefix+"vml-base",vmlGroupCls:Ext.baseCSSPrefix+"vml-group",spriteCls:Ext.baseCSSPrefix+"vml-sprite",measureSpanCls:Ext.baseCSSPrefix+"vml-measure-span",zoom:21600,coordsize:1000+" "+1000,coordorigin:"0 0",path2vml:function(t){var n=this,u=n.NonVMLPathRe,b=n.map,f=n.valRe,s=n.zoom,e=n.bitesRe,g=Ext.Function.bind(Ext.draw.Draw.pathToAbsolute,Ext.draw.Draw),m,o,d,a,k,q,h,l;if(String(t).match(u)){g=Ext.Function.bind(Ext.draw.Draw.path2curve,Ext.draw.Draw)}else{if(!String(t).match(n.partialPathRe)){m=String(t).replace(e,function(r,w,j){var v=[],i=w.toLowerCase()=="m",p=b[w];j.replace(f,function(z){if(i&&v[length]==2){p+=v+b[w=="m"?"l":"L"];v=[]}v.push(Math.round(z*s))});return p+v});return m}}o=g(t);m=[];for(k=0,q=o.length;k<q;k++){d=o[k];a=o[k][0].toLowerCase();if(a=="z"){a="x"}for(h=1,l=d.length;h<l;h++){a+=Math.round(d[h]*n.zoom)+(h!=l-1?",":"")}m.push(a)}return m.join(" ")},translateAttrs:{radius:"r",radiusX:"rx",radiusY:"ry",lineWidth:"stroke-width",fillOpacity:"fill-opacity",strokeOpacity:"stroke-opacity",strokeLinejoin:"stroke-linejoin"},minDefaults:{circle:{fill:"none",stroke:null,"stroke-width":null,opacity:null,"fill-opacity":null,"stroke-opacity":null},ellipse:{cx:0,cy:0,rx:0,ry:0,fill:"none",stroke:null,"stroke-width":null,opacity:null,"fill-opacity":null,"stroke-opacity":null},rect:{x:0,y:0,width:0,height:0,rx:0,ry:0,fill:"none",stroke:null,"stroke-width":null,opacity:null,"fill-opacity":null,"stroke-opacity":null},text:{x:0,y:0,"text-anchor":"start",font:"10px Helvetica, Arial, sans-serif",fill:"#000",stroke:null,"stroke-width":null,opacity:null,"fill-opacity":null,"stroke-opacity":null},path:{d:"M0,0",fill:"none",stroke:null,"stroke-width":null,opacity:null,"fill-opacity":null,"stroke-opacity":null},image:{x:0,y:0,width:0,height:0,preserveAspectRatio:"none",opacity:null}},onMouseEnter:function(a){this.fireEvent("mouseenter",a)},onMouseLeave:function(a){this.fireEvent("mouseleave",a)},processEvent:function(b,g){var f=g.getTarget(),a=this.surface,d;this.fireEvent(b,g);d=this.items.get(f.id);if(d){d.fireEvent(b,d,g)}},createElement:function(h){var f=this,e=h.attr,g=h.type,j=f.zoom,b=h.vml||(h.vml={}),k=Math.round,d=f.createNode("shape"),i=f.createNode("skew"),l,a;d.coordsize=j+" "+j;d.coordorigin=e.coordorigin||"0 0";Ext.get(d).addCls(f.spriteCls);if(g=="text"){b.path=l=f.createNode("path");l.textpathok=true;b.textpath=a=f.createNode("textpath");a.on=true;d.appendChild(a);d.appendChild(l)}d.id=h.id;h.el=Ext.get(d);f.el.appendChild(d);i.on=true;d.appendChild(i);h.skew=i;h.matrix=new Ext.draw.Matrix;h.bbox={plain:0,transform:0};h.fireEvent("render",h);return h.el},getBBox:function(a,b){var d=this["getPath"+a.type](a);if(b){a.bbox.plain=a.bbox.plain||Ext.draw.Draw.pathDimensions(d);return a.bbox.plain}a.bbox.transform=a.bbox.transform||Ext.draw.Draw.pathDimensions(Ext.draw.Draw.mapPath(d,a.matrix));return a.bbox.transform},getBBoxText:function(b){var a=b.vml;return{x:a.X+(a.bbx||0)-a.W/2,y:a.Y-a.H/2,width:a.W,height:a.H}},applyAttrs:function(m){var s=this,d=m.vml,j=m.group,a=m.attr,b=m.el,o=b.dom,p,u,r,n,k,q,l,t;if(j){r=[].concat(j);k=r.length;for(n=0;n<k;n++){j=r[n];s.getGroup(j).add(m)}delete m.group}q=s.scrubAttrs(m)||{};if(m.zIndexDirty){s.setZIndex(m)}if(m.type=="image"){o.src=q.src}Ext.applyIf(q,s.minDefaults[m.type]);if(o.href){o.href=q.href}if(o.title){o.title=q.title}if(o.target){o.target=q.target}if(o.cursor){o.cursor=q.cursor}if(m.dirtyHidden){(q.hidden)?s.hidePrim(m):s.showPrim(m);m.dirtyHidden=false}if(m.dirtyPath){if(m.type=="circle"||m.type=="ellipse"){var f=q.x,e=q.y,h=q.rx||q.r||0,g=q.ry||q.r||0;o.path=Ext.String.format("ar{0},{1},{2},{3},{4},{1},{4},{1}",Math.round((f-h)*s.zoom),Math.round((e-g)*s.zoom),Math.round((f+h)*s.zoom),Math.round((e+g)*s.zoom),Math.round(f*s.zoom));m.dirtyPath=false}else{if(m.type!="text"){m.attr.path=q.path=s.setPaths(m,q)||q.path;o.path=s.path2vml(q.path);m.dirtyPath=false}}}if("clip-rect" in q){s.setClip(m,q)}if(m.type=="text"){s.setText(m,q)}if(q.opacity||q.fill){s.setFill(m,q)}if(q.stroke||q.fill){s.setStroke(m,q)}p=a.style;if(p){b.setStyle(p)}m.dirty=false},setZIndex:function(a){if(a.el){if(a.attr.zIndex!=undefined){a.el.setStyle("zIndex",a.attr.zIndex)}a.zIndexDirty=false}},setPaths:function(b,d){var a=b.attr;if(b.type=="circle"){a.rx=a.ry=d.r;return Ext.draw.Draw.ellipsePath(b)}else{if(b.type=="ellipse"){a.rx=d.rx;a.ry=d.ry;return Ext.draw.Draw.ellipsePath(b)}else{if(b.type=="rect"){a.rx=a.ry=d.r;return Ext.draw.Draw.rectPath(b)}else{if(b.type=="path"&&a.path){return Ext.draw.Draw.pathToAbsolute(a.path)}else{if(b.type=="image"){return Ext.draw.Draw.rectPath(b)}}}}}return false},setFill:function(j,e){var g=this,d=j.el.dom,i=d.fill,b=false,f,h,a;if(!i){i=d.fill=g.createNode("fill");newFill=true}if(Ext.isArray(e.fill)){e.fill=e.fill[0]}if(typeof e["fill-opacity"]=="number"||typeof e.opacity=="number"){i.opacity=e["fill-opacity"]||e.opacity}if(e.fill=="none"){i.on=false}else{i.on=true;if(i.on&&typeof e.fill=="string"){a=e.fill.match(g.fillUrlRe);if(a){a=a[1];if(a.charAt(0)=="#"){h=g.gradientsColl.getByKey(a.substring(1))}if(h){rotation=e.rotation;i.angle=-(h.angle+270+(rotation?rotation.degrees:0))%360;i.type="gradient";i.method="sigma";i.colors.value=h.colors}else{i.src=a;i.type="tile"}}else{i.color=Ext.draw.Color.toHex(e.fill);i.src="";i.type="solid"}}}if(b){d.appendChild(i)}},setStroke:function(b,h){var f=this,e=b.el.dom,i=b.strokeEl,g=false,d,a;if(!i){i=b.strokeEl=f.createNode("stroke");g=true}if(Ext.isArray(h.stroke)){h.stroke=h.stroke[0]}if(!h.stroke||h.stroke=="none"||h.stroke==0||h["stroke-width"]==0){i.on=false}else{i.on=true;if(h.stroke&&!h.stroke.match(f.fillUrlRe)){i.color=Ext.draw.Color.toHex(h.stroke)}i.joinstyle=h["stroke-linejoin"];i.endcap=h["stroke-linecap"]||"round";i.miterlimit=h["stroke-miterlimit"]||8;d=parseFloat(h["stroke-width"]||1)*0.75;a=h["stroke-opacity"]||1;if(Ext.isNumber(d)&&d<1){i.weight=1;i.opacity=a*d}else{i.weight=1;i.opacity=a}}if(g){e.appendChild(i)}},setClip:function(b,g){var f=this,d=b.el,a=b.clipEl,e=String(g["clip-rect"]).split(f.separatorRe);if(!a){a=b.clipEl=Ext.core.DomHelper.insertBefore(d,"div");a.addCls(Ext.baseCSSPrefix+"vml-sprite")}if(e.length==4){e[2]=+e[2]+(+e[0]);e[3]=+e[3]+(+e[1]);a.setStyle("clip",Ext.String.format("rect({1}px {2}px {3}px {0}px)",e));a.setSize(f.el.width,f.el.height)}else{a.setStyle("clip","")}},setText:function(i,d){var h=this,a=i.vml,f=a.textpath.style,g=h.span.style,j=h.zoom,k=Math.round,l={font:"font",fontSize:"font-size",fontWeight:"font-weight",fontStyle:"font-style"},b,e;if(i.dirtyFont){if(d["font-family"]){f.fontFamily='"'+d["font-family"].split(",")[0].replace(h.fontFamilyRe,"")+'"';g.fontFamily=d["font-family"]}for(b in l){e=d[l[b]];if(e){f[b]=g[b]=e}}a.textpath.string=d.text;if(a.textpath.string){h.span.innerHTML=String(a.textpath.string).replace(/</g,"&#60;").replace(/&/g,"&#38;").replace(/\n/g,"<br>")}a.W=d.w=h.span.offsetWidth;a.H=d.h=h.span.offsetHeight;if(d["text-anchor"]=="middle"){a.textpath.style["v-text-align"]="center"}else{if(d["text-anchor"]=="end"){a.textpath.style["v-text-align"]="right";a.bbx=-Math.round(a.W/2)}else{a.textpath.style["v-text-align"]="left";a.bbx=Math.round(a.W/2)}}}a.X=d.x;a.Y=d.y;a.path.v=Ext.String.format("m{0},{1}l{2},{1}",Math.round(a.X*j),Math.round(a.Y*j),Math.round(a.X*j)+1);i.bbox.plain=0;i.bbox.transform=0;i.dirtyFont=false},hide:function(){this.el.hide()},show:function(){this.el.show()},hidePrim:function(a){a.el.addCls(Ext.baseCSSPrefix+"hide-visibility")},showPrim:function(a){a.el.removeCls(Ext.baseCSSPrefix+"hide-visibility")},setSize:function(a,j){var e=this,n=e.viewBox,i,h;a=a||e.width;j=j||e.height;e.width=a;e.height=j;if(!e.div){return}if(a!=undefined){e.div.setWidth(a)}if(j!=undefined){e.div.setHeight(j)}if(n&&(a||j)){var g=n.x,f=n.y,l=n.width,b=n.height,k=j/b,d=a/l,m;if(l*k<a){g-=(a-l*k)/2/k}if(b*d<j){f-=(j-b*d)/2/d}m=1000*Math.max(l/a,b/j);this.el.coordsize=m+" "+m;this.el.coordorigin=g+" "+f}Ext.draw.engine.VML.superclass.setSize.call(this,a,j)},setViewBox:function(b,e,d,a){Ext.draw.engine.VML.superclass.setViewBox.call(this);this.viewBox={x:b,y:e,width:d,height:a}},onAdd:function(a){Ext.draw.engine.VML.superclass.onAdd.call(this,a);if(this.el){this.renderItem(a)}},onRemove:function(a){if(a.el){Ext.removeNode(a.el);delete a.el}Ext.draw.engine.VML.superclass.onRemove.call(this)},render:function(a){var d=this,h=Ext.getDoc().dom;if(!d.createNode){h.createStyleSheet().addRule(".rvml","behavior:url(#default#VML)");try{if(!h.namespaces.rvml){h.namespaces.add("rvml","urn:schemas-microsoft-com:vml")}d.createNode=function(e){return h.createElement("<rvml:"+e+' class="rvml">')}}catch(g){d.createNode=function(e){return h.createElement("<"+e+' xmlns="urn:schemas-microsoft.com:vml" class="rvml">')}}}if(!d.el){var b=h.createElement("div"),f=d.createNode("group");d.el=f;d.div=Ext.get(b);d.div.addCls(d.baseVMLCls);Ext.get(f).addCls(d.vmlGroupCls);f.coordsize="1000 1000";f.coordorigin="0 0";d.span=h.createElement("span");Ext.get(d.span).addCls(d.measureSpanCls);b.appendChild(d.span);b.appendChild(f);d.div.setSize(d.width||10,d.height||10);a.appendChild(b);d.div.on({scope:d,mouseup:d.onMouseUp,mousedown:d.onMouseDown,mouseover:d.onMouseOver,mouseout:d.onMouseOut,mousemove:d.onMouseMove,mouseenter:d.onMouseEnter,mouseleave:d.onMouseLeave,click:d.onClick})}d.renderAll()},renderAll:function(){this.items.each(this.renderItem,this)},redraw:function(a){a.dirty=true;this.renderItem(a)},renderItem:function(a){if(!this.el){return}if(!a.el){this.createElement(a)}if(a.dirty){this.applyAttrs(a);if(a.dirtyTransform){this.applyTransformations(a)}}},rotationCompensation:function(e,d,a){var b=new Ext.draw.Matrix;b.rotate(-e,0.5,0.5);return{x:b.x(d,a),y:b.y(d,a)}},transform:function(t){var D=this,w=new Ext.draw.Matrix,m=t.transformations,r=m.length,z=0,k=0,d=1,b=1,j="",e=t.el,A=e.dom,u=A.style,a=D.zoom,g=t.skew,f=t.vml,C,B,o,h,n,l,v,s,q,p;for(;z<r;z++){o=m[z];h=o.type;if(h=="translate"){w.translate(o.x,o.y)}else{if(h=="rotate"){w.rotate(o.degrees,o.x,o.y);k+=o.degrees}else{if(h=="scale"){w.scale(o.x,o.y,o.centerX,o.centerY);d*=o.x;b*=o.y}}}}t.matrix=w;if(D.type!="image"&&g){g.matrix=w.toString();g.offset=w.offset()}else{C=w.m[0][2];B=w.m[1][2];q=a/d;p=a/b;A.coordsize=Math.abs(q)+" "+Math.abs(p);s=k*(d*((b<0)?-1:1));if(s!=u.rotation&&!(s===0&&!u.rotation)){u.rotation=s}if(k){n=D.rotationCompensation(k,C,B);C=n.x;B=n.y}if(d<0){j+="x"}if(b<0){j+=" y";l=-1}if(j!=""&&!A.style.flip){u.flip=j}newOrigin=(C*-q)+" "+(B*-p);if(newOrigin!=A.coordorigin){A.coordorigin=(C*-q)+" "+(B*-p)}}},createItem:function(a){return new Ext.draw.Sprite(a)},getRegion:function(){return this.div.getRegion()},addCls:function(a,b){if(a&&a.el){a.el.addCls(b)}},removeCls:function(a,b){if(a&&a.el){a.el.removeCls(b)}},addGradient:function(e){var a=this.gradientsColl||(this.gradientsColl=new Ext.util.MixedCollection()),b=[],d=new Ext.util.MixedCollection();d.addAll(e.stops);d.sortByKey("ASC",function(g,f){g=parseInt(g,10);f=parseInt(f,10);return g>f?1:(g<f?-1:0)});d.eachKey(function(g,f){b.push(g+"% "+f.color)});a.add(e.id,{colors:b.join(","),angle:e.angle})},destroy:function(){Ext.draw.engine.VML.superclass.destroy.call(this);Ext.removeNode(this.el);delete this.el}});Ext.define("Ext.draw.engine.Canvas",{extend:"Ext.draw.Surface",requires:["Ext.draw.Draw","Ext.draw.Sprite","Ext.core.Element"],fontSizeRE:/(?:^|\s)(\d+)px(?:\s|$)/,fontWeightRE:/(?:^|\s)(normal|bold|bolder|lighter|[1-9]00)(?:\s|$)/,fontStyleRE:/(?:^|\s)(normal|italic)(?:\s|$)/,fontFamilyRE:/^\s+|\s+$/g,urlRE:/^url\(['"]?([^\)]+?)['"]?\)$/i,separatorRE:/[, ]+/,constructor:function(a){this.translateAttrs={rotate:"rotation",stroke:"strokeStyle",fill:"fillStyle","text-anchor":"textAlign","stroke-width":"lineWidth","stroke-linecap":"lineCap","stroke-linejoin":"lineJoin","stroke-miterlimit":"miterLimit",opacity:"globalAlpha"};this.attrDefaults={strokeStyle:"#000",fillStyle:"#000",lineWidth:1,lineCap:"square",lineJoin:"miter",miterLimit:1,shadowColor:"none",shadowOffsetX:0,shadowOffsetY:0,shadowBlur:0,rotate:null,font:"10px Helvetica, sans-serif",translation:null,"font-size":null,"font-family":null,"font-weight":null,"font-style":null,textAlign:"left",globalAlpha:1};Ext.draw.engine.Canvas.superclass.constructor.call(this,a)},updateMaxBoundingBox:function(d){if(d.type=="image"||d.type=="text"){delete d.realPath;Ext.draw.Draw.rectPath(this.getBBox(d));d.realPath=Ext.draw.Draw.rotateAndTranslatePath(d)}var b=this.getBBox(d),e=d.curBBox,a,f;if(!e){d.maxBBox=b}else{a=Math.min(b.x,e.x);f=Math.min(b.y,e.y);d.maxBBox={x:a,y:f,width:Math.max(b.x+b.width,e.x+e.width)-a,height:Math.max(b.y+b.height,e.y+e.height)-f}}d.curBBox=b},getBBox:function(j){var e,b;if(j.realPath){e=Ext.draw.Draw.pathDimensions(j.realPath)}else{switch(j.type){case"rect":case"image":e={x:j.x,y:j.y,width:j.width,height:j.height};break;case"circle":e={x:j.x-j.radius,y:j.y-j.radius,width:j.radius*2,height:j.radius*2};break;case"ellipse":e={x:j.x-j.radiusX,y:j.y-j.radiusY,width:j.radiusX*2,height:j.radiusY*2};break;case"path":e=Ext.draw.Draw.pathDimensions(j.path);break;case"text":var h=this.shadow;h.save();b=j["text-anchor"]||this.attrDefaults.textAlign;if(b=="middle"){b="center"}h.textAlign=b;h.font=j.font||this.attrDefaults.font;var a=0,m=(j.text+"").split("\n"),l=m.length,d=l,k=j["font-size"]*1.2,g=j.x,f=j.y-l*k/2;while(d--){a=Math.max(a,h.measureText(m[d]).width)}switch(h.textAlign){case"center":g-=a/2;break;case"end":g-=a;break}e={x:g,y:f,width:a,height:k*l};break}}e.x2=e.x+e.width;e.y2=e.y+e.height;return e},setSize:function(a,b){if(typeof a=="object"){b=a.height;a=a.width}this.el.width=this.shadow.width=a;this.el.height=this.shadow.height=b;this.width=a;this.height=b},render:function(a){var f=Ext.getDoc().dom,b,g,e=Ext.get(a).getHeight(),d=Ext.get(a).getWidth();this.container=Ext.get(a);b=f.createElement("canvas");b.id=this.id;g=f.createElement("canvas").getContext("2d");span=f.createElement("span");span.style.cssText="position:absolute;left:-9999em;top:-9999em;padding:0;margin:0;line-height:1;display:inline;";g.save();a.appendChild(b);a.appendChild(span);this.el=b;this.context=b.getContext("2d");this.shadow=g;this.span=span;this.renderAll()},createItem:function(a){a.context=Ext.getDoc().dom.createElement("canvas").getContext("2d");a.context.canvas.width=this.width;a.context.canvas.height=this.height;var b=Ext.apply(new Ext.draw.Sprite(a),{change:this.change});return b},renderItem:function(){this.renderAll()},renderAll:function(){var a=this.context;a.restore();a.save();a.clearRect(0,0,this.width,this.height);a.restore();a.save();this.items.each(this.renderItems,this)},updateSprite:function(a){this.applyChange(a);this.updateMaxBoundingBox(a)},applyChange:function(a){var b=a.path;this.cleanAttrs(a,this.scrubAttrs(a));switch(a.type){case"circle":a.radiusX=a.radiusY=a.radius;a.path=Ext.draw.Draw.path2curve(Ext.draw.Draw.ellipsePath(a));break;case"ellipse":a.path=Ext.draw.Draw.path2curve(Ext.draw.Draw.ellipsePath(a));break;case"path":a.path=Ext.draw.Draw.path2curve(a.path);break;case"rect":a.path=Ext.draw.Draw.path2curve(Ext.draw.Draw.rectPath(a));break;case"text":a.path=Ext.draw.Draw.path2curve(Ext.draw.Draw.rectPath(a));break}if(a.path&&a.path.length){a.realPath=Ext.draw.Draw.rotateAndTranslatePath(a)}if(b!=a.path){a.dirty=true}},drawPath:function(d,f){if(!f){return}var a,g,b,e=f.length;d.beginPath();for(b=0;b<e;b++){switch(f[b][0]){case"M":d.moveTo(f[b][1],f[b][2]);if(a==null){a=f[b][1]}if(g==null){g=f[b][2]}break;case"C":d.bezierCurveTo(f[b][1],f[b][2],f[b][3],f[b][4],f[b][5],f[b][6]);break;case"Z":d.lineTo(a,g);break}}},scrubAttrs:function(b){var a=Ext.draw.engine.Canvas.superclass.scrubAttrs.apply(this,[b]);if(a.hasOwnProperty("textAlign")&&a.textAlign=="middle"){a.textAlign="center"}return a},renderItems:function(z){this.updateSprite(z);var e=this.context,u=z.context,m,D;if(z.hidden||z.opacity==0){return}e.restore();e.save();if(m){e.beginPath();e.rect(m.x,m.y,m.width,m.height);e.clip()}if(z.dirty){u.restore();u.save();u.clearRect(-1000,-1000,this.width+2000,this.height+2000);var A=this.scrubAttrs(z);for(D in A){u[D]=A[D]}var E=z.rotation,K=E.degrees*Math.PI/180,I=z.translation.x,H=z.translation.y,L=this.scaling;if(E.degrees){u.translate(E.x,E.y);u.rotate(K);u.translate(-E.x,-E.y);if(I!==0||H!==0){var s=I,q=H,d=Math.cos(-K),a=Math.sin(-K);I=s*d-q*a;H=s*a+q*d;u.translate(I,H)}}else{u.translate(I,H)}if(this.type=="image"){if(!(this._imgdata&&this._imgdata[A.src])){var M=R.doc.createElement("img"),b=this,t=this.m;M.src=A.src;M.style.cssText="position:absolute;left:-9999em;top-9999em";M.onload=function(){var i=R.doc.createElement("canvas"),g=i.getContext("2d");i.width=M.offsetWidth;i.height=M.offsetHeight;g.drawImage(M,0,0,i.width,i.height);b._imgdata=b._imgdata||{};b._imgdatacount=b._imgdatacount||[];b._imgdatacount.push(b._imgdata[b.attrs.src]=i);b._imgdatacount[length]>1000&&delete b._imgdata[b._imgdatacount.shift()];M.parentNode.removeChild(M);t.refresh(this)};this.m.canvas.parentNode.appendChild(M)}else{if(sc.x||sc.y){c.scale(sc.x,sc.y);c.translate(sc.cx/sc.x-sc.cx,sc.cy/sc.y-sc.cy)}c.drawImage(this._imgdata[A.src],A.x,A.y,A.width,A.height);c.restore();return}}else{if(z.type=="text"){var C,p,B,G,v,r=(z.text+"").split("\n"),k;k=z["text-anchor"]||this.attrDefaults.textAlign;if(k=="middle"){k="center"}u.textAlign=k;u.font=z.font||this.attrDefaults.font;u.textBaseline="middle";C=z.fillStyle&&z.fillStyle!="none";p=z.strokeStyle&&z.strokeStyle!="none";v=z.y-(r.length-1)*z["font-size"]*1.2/2;for(B=0,G=r.length;B<G;B++){if(C){u.fillText(r[B],z.x,v+z["font-size"]*1.2*B)}if(p){u.strokeText(r[B],z.x,v+z["font-size"]*1.2*B)}}}else{this.drawPath(u,z.path)}}u.save();if(this.type!="text"){var o=A.gradient;if(o){var F;if(o.type=="linear"){var n=this.getBBox();F=u.createLinearGradient(n.x+o.vector[0]*n.width,n.y+o.vector[1]*n.height,n.x+o.vector[2]*n.width,n.y+o.vector[3]*n.height)}else{var l=A.rx||A.r,h=A.ry||A.r;F=u.createRadialGradient(A.cx-l+l*2*o.fx,A.cy-h+h*2*o.fy,0,A.cx,A.cy,mmax(l,h))}var f=(isNaN(A["fill-opacity"])?1:A["fill-opacity"])*(isNaN(A.opacity)?1:A.opacity),w=o.dots[o.dots[length]-1],J=w.color;w.color="rgba("+[J.r,J.g,J.b,f]+")";for(D=o.dots.length;D--;){w=o.dots[D];F.addColorStop(toFloat(w.offset)/100,w.color)}u.globalAlpha=1;u.fillStyle=F;u.fill()}else{if(A.fillStyle&&A.fillStyle!="none"){u.fill()}}if(A.strokeStyle&&A.strokeStyle!="none"){u.stroke()}}u.restore();u.translate(-I,-H);z.dirty=false}e.drawImage(u.canvas,0,0)},cleanAttrs:function(e,b){var f,a,g,d;for(d in b){f=b[d];switch(d){case"translate":g=(f+"").split(this.separatorRE);e.translation.x+=+g[0];e.translation.y+=+g[1];break;case"font-size":e["font-size"]=parseInt(f,10);case"font-family":case"font-weight":case"font-style":e.font=(e["font-weight"]||"")+" "+(e["font-style"]||"")+" "+(e["font-size"]?e["font-size"]+"px ":"")+(e["font-family"]||"");break;case"font":f=f.replace(this.fontSizeRE,function(i,h){e["font-size"]=h;return""});f=f.replace(this.fontWeightRE,function(h,i){e["font-weight"]=i;return""});f=f.replace(this.fontStyleRE,function(i,h){e["font-style"]=h;return""});e["font-family"]=f.replace(this.fontFamilyRE,"")||e["font-family"];case"stroke":case"strokeStyle":e.stroke=e.strokeStyle=f;break;case"fill":case"fillStyle":e.fill=e.fillStyle=f;break;case"rotate":case"rotation":this.rotate(e,f);break;case"scale":break}}},change:function(){var a=this.path;this.surface.cleanAttrs(this,this.surface.scrubAttrs(this));switch(this.type){case"circle":this.radiusX=this.radiusY=this.radius;this.path=Ext.draw.Draw.path2curve(Ext.draw.Draw.ellipsePath(this));break;case"ellipse":this.path=Ext.draw.Draw.path2curve(Ext.draw.Draw.ellipsePath(this));break;case"rect":this.path=Ext.draw.Draw.path2curve(Ext.draw.Draw.rectPath(this));break;case"text":this.path=Ext.draw.Draw.path2curve(Ext.draw.Draw.rectPath(this));break}if(this.path&&this.path.length){this.realPath=Ext.draw.Draw.rotateAndTranslatePath(this)}if(a!=this.path){this.dirty=true;return true}},rotate:function(b,a){if(typeof a.x=="number"){b.rotation={degrees:a.degrees,x:a.x,y:a.y}}else{if(typeof a.degrees=="number"){var d=this.getBBox(b);b.rotation={degrees:parseFloat(a.degrees),x:d.x+d.width/2,y:d.y+d.height/2}}}b.dirty=true},getRegion:function(){return Ext.fly(this.el).getRegion()}});Ext.define("Ext.resizer.ResizeTracker",{extend:"Ext.dd.DragTracker",dynamic:true,preserveRatio:false,constrainTo:null,constructor:function(a){if(!a.el){if(a.target.isComponent){this.el=a.target.getEl()}else{this.el=a.target}}Ext.resizer.ResizeTracker.superclass.constructor.apply(this,arguments);if(this.throttle){var b=this,d=Ext.Function.createThrottled(function(){Ext.resizer.ResizeTracker.prototype.resize.apply(b,arguments)},this.throttle);this.resize=function(f,g,e){if(e){Ext.resizer.ResizeTracker.prototype.resize.apply(this,arguments)}else{d.apply(null,arguments)}}}},onBeforeStart:function(a){this.startBox=this.el.getBox()},getDynamicTarget:function(){var a=this.target;if(this.dynamic){return a}else{if(!this.proxy){this.proxy=a.isComponent?a.getProxy().addCls(Ext.baseCSSPrefix+"resizable-proxy"):a.createProxy({tag:"div",cls:Ext.baseCSSPrefix+"resizable-proxy",id:a.id+"-rzproxy"},Ext.getBody())}}this.proxy.show();return this.proxy},onStart:function(a){this.activeResizeHandle=Ext.getCmp(this.getDragTarget().id);if(!this.dynamic){this.resize(this.startBox,{horizontal:"none",vertical:"none"})}},onDrag:function(a){if(this.dynamic||this.proxy){this.updateDimensions(a)}},updateDimensions:function(j,l){var n=this.activeResizeHandle.region,d=this.getOffset(this.constrainTo?"dragTarget":null),i=this.startBox,m=0,h=0,f=0,b=0,o=d[0]<0?"right":"left",a=d[1]<0?"down":"up";switch(n){case"south":h=d[1];break;case"north":h=-d[1];b=-h;break;case"east":m=d[0];break;case"west":m=-d[0];f=-m;break;case"northeast":h=-d[1];b=-h;m=d[0];break;case"southeast":h=d[1];m=d[0];break;case"southwest":m=-d[0];f=-m;h=d[1];break;case"northwest":h=-d[1];b=-h;m=-d[0];f=-m;break}var g={width:i.width+m,height:i.height+h,x:i.x+f,y:i.y+b};if(g.width<this.minWidth||g.width>this.maxWidth){g.width=Ext.Number.constrain(g.width,this.minWidth,this.maxWidth);g.x=this.lastX||g.x}else{this.lastX=g.x}if(g.height<this.minHeight||g.height>this.maxHeight){g.height=Ext.Number.constrain(g.height,this.minHeight,this.maxHeight);g.y=this.lastY||g.y}else{this.lastY=g.y}if(this.preserveRatio||j.shiftKey){var k=i.width/i.height;if(h){g.width=(g.height)*k;g.width=Ext.Number.constrain(g.width,this.minWidth,this.maxWidth)}else{g.height=(g.width)*(1/k);g.height=Ext.Number.constrain(g.height,this.minHeight,this.maxHeight)}}if(h===0){a="none"}if(m===0){o="none"}this.resize(g,{horizontal:o,vertical:a},l)},getResizeTarget:function(a){return a?this.target:this.getDynamicTarget()},resize:function(b,e,a){var d=this.getResizeTarget(a);if(d.isComponent){if(d.floating){d.setPagePosition(b.x,b.y)}d.setSize(b.width,b.height)}else{d.setBox(b);if(this.originalTarget){this.originalTarget.setBox(b)}}},onEnd:function(a){this.updateDimensions(a,true);if(this.proxy){this.proxy.hide()}}});Ext.define("Ext.layout.Layout",{extend:"Ext.layout.AbstractLayout",layoutItem:function(b,a){a=a||{};if(b.componentLayout.initialized!==true){b.doComponentLayout(a.width||b.width||undefined,a.height||b.height||undefined)}}});Ext.define("Ext.layout.AbstractContainer",{extend:"Ext.layout.Layout",type:"container",fixedLayout:true,bindToOwnerCtComponent:false,bindToOwnerCtContainer:false,getLayoutItems:function(){return this.owner&&this.owner.items&&this.owner.items.items||[]},afterLayout:function(){this.owner.afterLayout(this)},getTarget:function(){return this.owner.getTargetEl()},getRenderTarget:function(){return this.owner.getTargetEl()}});Ext.define("Ext.layout.Container",{extend:"Ext.layout.AbstractContainer",getLayoutTargetSize:function(){var b=this.getTarget(),a;if(b){a=b.getViewSize();if(Ext.isIE&&a.width==0){a=b.getStyleSize()}a.width-=b.getPadding("lr");a.height-=b.getPadding("tb")}return a},getRenderedItems:function(){var f=this,h=f.getTarget(),a=f.getLayoutItems(),e=a.length,g=[],b,d;for(b=0;b<e;b++){d=a[b];if(d.rendered&&f.isValidParent(d,h,b)){g.push(d)}}return g},getVisibleItems:function(){var g=this.getTarget(),b=this.getLayoutItems(),f=b.length,a=[],d,e;for(d=0;d<f;d++){e=b[d];if(e.rendered&&this.isValidParent(e,g,d)&&e.hidden!==true){a.push(e)}}return a}});Ext.define("Ext.layout.container.Auto",{alias:["layout.auto","layout.autocontainer"],extend:"Ext.layout.Container",type:"autocontainer",fixedLayout:false,bindToOwnerCtComponent:true,onLayout:function(a,g){var b=this.getLayoutItems(),f=b.length,d,e;for(d=0;d<f;d++){e=b[d];e.doComponentLayout()}}});Ext.define("Ext.AbstractContainer",{extend:"Ext.Component",requires:["Ext.util.MixedCollection","Ext.layout.Manager","Ext.layout.container.Auto","Ext.ComponentMgr","Ext.ComponentQuery","Ext.ZIndexManager"],suspendLayout:false,autoDestroy:true,defaultType:"panel",isContainer:true,baseCls:Ext.baseCSSPrefix+"container",bubbleEvents:["add","remove"],initComponent:function(){var a=this;a.addEvents("afterlayout","beforeadd","beforeremove","add","remove","beforecardswitch","cardswitch");a.layoutOnShow=new Ext.util.MixedCollection();Ext.AbstractContainer.superclass.initComponent.call(a);a.initItems()},initItems:function(){var b=this,a=this.items;b.items=Ext.create("Ext.util.MixedCollection",false,b.getComponentId);if(a){if(!Ext.isArray(a)){a=[a]}b.add(a)}},afterRender:function(){this.getLayout();Ext.AbstractContainer.superclass.afterRender.apply(this,arguments)},setLayout:function(b){var a=this.layout;if(a&&a.isLayout&&a!=b){a.setOwner(null)}this.layout=b;b.setOwner(this)},getLayout:function(){var a=this;if(!a.layout||!a.layout.isLayout){a.setLayout(Ext.layout.Manager.create(a.layout,"autocontainer"))}return a.layout},doLayout:function(){var b=this,a=b.getLayout();if(b.rendered&&a&&!b.suspendLayout){a.layout()}return b},afterLayout:function(a){this.fireEvent("afterlayout",this,a)},prepareItems:function(b,e){if(!Ext.isArray(b)){b=[b]}var d=0,a=b.length,f;for(;d<a;d++){f=b[d];if(e){f=this.applyDefaults(f)}b[d]=this.lookupComponent(f)}return b},applyDefaults:function(a){var b=this.defaults;if(b){if(Ext.isFunction(b)){b=b.call(this,a)}if(Ext.isString(a)){a=Ext.ComponentMgr.get(a);Ext.apply(a,b)}else{if(!a.isComponent){Ext.applyIf(a,b)}else{Ext.apply(a,b)}}}return a},lookupComponent:function(a){if(Ext.isString(a)){return Ext.ComponentMgr.get(a)}else{return this.createComponent(a)}return a},createComponent:function(a,b){return Ext.ComponentMgr.create(a,b||this.defaultType)},getComponentId:function(a){return a.getItemId()},add:function(){var j=this,g=Array.prototype.slice.call(arguments),a,h,b=[],d,f,l,e=-1,k;if(typeof g[0]=="number"){e=g.shift()}a=g.length>1;if(a||Ext.isArray(g[0])){h=a?g:g[0];j.suspendLayout=true;for(d=0,f=h.length;d<f;d++){l=h[d];if(!l){throw"Trying to add a null item as a child of Container with itemId/id: "+j.getItemId()}if(e!=-1){l=j.add(e+d,l)}else{l=j.add(l)}b.push(l)}j.suspendLayout=false;j.doLayout();return b}k=j.prepareItems(g[0],true)[0];if(k.floating){k.onAdded(j,e)}else{e=(e!==-1)?e:j.items.length;if(j.fireEvent("beforeadd",j,k,e)!==false&&j.onBeforeAdd(k)!==false){j.items.insert(e,k);k.onAdded(j,e);j.onAdd(k,e);j.fireEvent("add",j,k,e)}j.doLayout()}return k},registerFloatingItem:function(b){var a=this;if(!a.floatingItems){a.floatingItems=new Ext.ZIndexManager(a)}a.floatingItems.register(b)},onAdd:Ext.emptyFn,onRemove:Ext.emptyFn,insert:function(b,a){return this.add(b,a)},move:function(b,e){var a=this.items,d;d=a.removeAt(b);if(d===false){return false}a.insert(e,d);this.doLayout();return d},onBeforeAdd:function(a){if(a.ownerCt){a.ownerCt.remove(a,false)}if(this.hideBorders===true){a.border=(a.border===true)}},remove:function(a,b){var d=this,e=d.getComponent(a);if(!e){console.warn("Attempted to remove a component that does not exist. Ext.container.Container: remove takes an argument of the component to remove. cmp.remove() is incorrect usage.")}if(e&&d.fireEvent("beforeremove",d,e)!==false){d.doRemove(e,b);d.fireEvent("remove",d,e)}return e},doRemove:function(d,b){var f=this,e=f.layout,a=e&&f.rendered;f.items.remove(d);d.onRemoved();if(a){e.onRemove(d)}f.onRemove(d,b);if(b===true||(b!==false&&f.autoDestroy)){d.destroy()}if(a&&!b){e.afterRemove(d)}if(!f.destroying){f.doLayout()}},removeAll:function(d){var h=this,f=h.items.items.slice(),b=[],e=0,a=f.length,g;h.suspendLayout=true;for(;e<a;e++){g=f[e];h.remove(g,d);if(g.ownerCt!==h){b.push(g)}}h.suspendLayout=false;h.doLayout();return b},getRefItems:function(b){var d=this.items.items.slice(),a=d.length,e=0,f;if(this.floatingItems){d=d.concat(this.floatingItems.accessList);a=d.length}if(b){for(;e<a;e++){f=d[e];if(f.getRefItems){d=d.concat(f.getRefItems(true))}}}return d},getComponent:function(a){if(Ext.isObject(a)){a=a.getItemId()}return this.items.get(a)},query:function(a){return Ext.ComponentQuery.query(a,this)},child:function(a){return this.query("> "+a)[0]||null},down:function(a){return this.query(a)[0]||null},show:function(){Ext.AbstractContainer.superclass.show.apply(this,arguments);this.performDeferredLayouts()},performDeferredLayouts:function(){var f=this.layoutOnShow,e=f.getCount(),b=0,a,d;for(;b<e;b++){d=f.get(b);a=d.needsLayout;if(Ext.isObject(a)){d.doComponentLayout(a.width,a.height,a.isSetSize,a.ownerCt)}}f.clear()},beforeDestroy:function(){var b=this,a=b.items,d;if(a){while((d=a.first())){b.doRemove(d,true)}}Ext.destroy(b.layout,b.floatingItems);Ext.AbstractContainer.superclass.beforeDestroy.call(b)}});Ext.define("Ext.container.Container",{extend:"Ext.AbstractContainer",alias:"widget.container",alternateClassName:"Ext.Container",getChildByElement:function(e){var g,b,a=0,d=this.items.items,f=d.length;e=Ext.getDom(e);for(;a<f;a++){g=d[a];b=g.getEl();if((b.dom===e)||b.contains(e)){return g}}return null}});Ext.define("Ext.toolbar.Fill",{extend:"Ext.Component",alias:"widget.tbfill",isFill:true,flex:1});Ext.define("Ext.layout.container.boxOverflow.None",{constructor:function(b,a){this.layout=b;Ext.apply(this,a||{})},handleOverflow:Ext.emptyFn,clearOverflow:Ext.emptyFn});Ext.define("Ext.toolbar.Item",{extend:"Ext.Component",alias:"widget.tbitem",enable:Ext.emptyFn,disable:Ext.emptyFn,focus:Ext.emptyFn});Ext.define("Ext.toolbar.Separator",{extend:"Ext.toolbar.Item",alias:"widget.tbseparator",cls:"xtb-sep"});Ext.define("Ext.menu.MenuMgr",{singleton:true,requires:["Ext.util.MixedCollection"],menus:{},groups:{},attached:false,lastShow:new Date(),init:function(){this.active=new Ext.util.MixedCollection();Ext.getDoc().addKeyListener(27,function(){if(this.active.length>0){this.hideAll()}},this)},hideAll:function(){var a=this.active,b;if(a&&a.length>0){b=a.clone();b.each(function(d){d.hide()});return true}return false},onHide:function(a){var b=this.active;b.remove(a);if(b.length<1){Ext.getDoc().un("mousedown",this.onMouseDown,this);this.attached=false}},onShow:function(a){var f=this.active,e=f.last(),d=this.attached,b=a.getEl(),g;this.lastShow=new Date();f.add(a);if(!d){Ext.getDoc().on("mousedown",this.onMouseDown,this);this.attached=true}a.toFront()},onBeforeHide:function(a){if(a.activeChild){a.activeChild.hide()}if(a.autoHideTimer){clearTimeout(a.autoHideTimer);delete a.autoHideTimer}},onBeforeShow:function(a){var d=this.active,b=a.parentMenu;d.remove(a);if(!b&&!a.allowOtherMenus){this.hideAll()}else{if(b&&b.activeChild&&a!=b.activeChild){b.activeChild.hide()}}},onMouseDown:function(d){var b=this.active,a=this.lastShow;if(Ext.Date.getElapsed(a)>50&&b.length>0&&!d.getTarget("."+Ext.baseCSSPrefix+"menu")){this.hideAll()}},register:function(b){var a=this;if(!a.active){a.init()}a.menus[b.id]=b;b.on({beforehide:a.onBeforeHide,hide:a.onHide,beforeshow:a.onBeforeShow,show:a.onShow,scope:a})},get:function(a){if(typeof a=="string"){if(!menus){return null}return menus[a]}else{if(a.events){return a}else{if(typeof a.length=="number"){return new Ext.menu.Menu({items:a})}else{return Ext.ComponentMgr.create(a,"menu")}}}},unregister:function(d){var a=this.menus,b=this.active;delete a[d.id];b.remove(d);d.un("beforehide",this.onBeforeHide,this);d.un("hide",this.onHide,this);d.un("beforeshow",this.onBeforeShow,this);d.un("show",this.onShow,this)},registerCheckable:function(d){var a=this.groups,b=d.group;if(b){if(!a[b]){a[b]=[]}a[b].push(d)}},unregisterCheckable:function(d){var a=this.groups,b=d.group;if(b){a[b].remove(d)}},onCheckChange:function(e,g){var a=this.groups,d=e.group,b=0,j,f,h;if(d&&g){j=a[d];f=j.length;for(;b<f;b++){h=j[b];if(h!=e){h.setChecked(false)}}}}});Ext.define("Ext.menu.Item",{extend:"Ext.Component",alias:"widget.menuitem",activeCls:Ext.baseCSSPrefix+"menu-item-active",ariaRole:"menuitem",baseCls:Ext.baseCSSPrefix+"menu-item",canActivate:true,clickHideDelay:1,destroyMenu:true,disabledCls:Ext.baseCSSPrefix+"menu-item-disabled",hideOnClick:true,isMenuItem:true,menuAlign:"tl-tr?",menuExpandDelay:200,menuHideDelay:200,renderTpl:['<tpl if="plain">',"{text}","</tpl>",'<tpl if="!plain">','<a class="'+Ext.baseCSSPrefix+'menu-item-link" href="{href}" <tpl if="hrefTarget">target="{hrefTarget}"</tpl> hidefocus="true" unselectable="on">','<img src="{icon}" class="'+Ext.baseCSSPrefix+'menu-item-icon {iconCls}" />','<span class="'+Ext.baseCSSPrefix+'menu-item-text">{text}</span>','<tpl if="menu">','<div class="'+Ext.baseCSSPrefix+'menu-item-arrow">&#160;</div>',"</tpl>",'<div class="'+Ext.baseCSSPrefix+'clear">&#160;</div>',"</a>","</tpl>"],activate:function(){if(!this.activated&&this.canActivate&&this.rendered&&!this.disabled){this.el.addCls(this.activeCls);if(this.focus){this.focus()}this.expandMenu();this.activated=true;this.fireEvent("activate",this)}},deactivate:function(){if(this.activated){this.el.removeCls(this.activeCls);if(this.blur){this.blur()}this.hideMenu();this.activated=false;this.fireEvent("deactivate",this)}},deferExpandMenu:function(){if(!this.menu.rendered||!this.menu.isVisible()){this.menu.parentMenu=this.parentMenu;this.menu.showBy(this,this.menuAlign)}},deferHideMenu:function(){if(this.menu.isVisible()){this.menu.hide()}},deferHideParentMenus:function(){var a=this.parentMenu;while(a&&a.floating){a.hide();a=a.parentMenu}},expandMenu:function(){if(this.menu){if(this.hideMenuTimer){clearTimeout(this.hideMenuTimer)}this.expandMenuTimer=Ext.defer(this.deferExpandMenu,this.menuExpandDelay,this)}},hideMenu:function(){if(this.menu){if(this.expandMenuTimer){clearTimeout(this.expandMenuTimer)}this.hideMenuTimer=Ext.defer(this.deferHideMenu,this.menuHideDelay,this)}},initComponent:function(){this.addEvents("activate","click","deactivate");if(this.plain){this.baseCls+=" "+Ext.baseCSSPrefix+"menu-item-plain"}if(this.menu){this.menu=Ext.menu.MenuMgr.get(this.menu);this.menu.parentItem=this}Ext.menu.Item.superclass.initComponent.call(this);if(this.handler){this.on("click",this.handler,this.scope)}},onClick:function(a){if(!this.href){a.stopEvent()}if(this.disabled){return}if(this.hideOnClick){Ext.defer(this.deferHideParentMenus,this.clickHideDelay,this)}this.fireEvent("click",this,a)},onDestroy:function(){if(this.menu){delete this.menu.ownerCt;if(this.destroyMenu!==false){this.menu.destroy()}}Ext.menu.Item.superclass.onDestroy.call(this)},onDisable:function(a){this.onDisableChange(true)},onDisableChange:function(a){if(this.rendered){this.el[a?"addCls":"removeCls"](this.disabledCls)}},onEnable:function(){this.onDisableChange(false)},onRender:function(a,b){Ext.applyIf(this.renderData,{href:this.href||"#",hrefTarget:this.hrefTarget,icon:this.icon||Ext.BLANK_IMAGE_URL,iconCls:this.iconCls,menu:Ext.isDefined(this.menu),plain:this.plain,text:this.text});Ext.applyIf(this.renderSelectors,{itemEl:"."+Ext.baseCSSPrefix+"menu-item-link",iconEl:"."+Ext.baseCSSPrefix+"menu-item-icon",textEl:"."+Ext.baseCSSPrefix+"menu-item-text",arrowEl:"."+Ext.baseCSSPrefix+"menu-item-arrow"});Ext.menu.Item.superclass.onRender.call(this,a,b)},shouldDeactivate:function(a){var b=this.menu;if(b&&b.rendered&&b.isVisible()){return !a.within(b.el,true,true)}return true},setHandler:function(b,a){if(this.handler){this.un("click",this.handler,this.scope);delete this.handler;delete this.scope}if(b){this.on("click",this.handler=b,this.scope=a)}},setIconClass:function(a){if(this.iconEl){if(this.iconCls){this.iconEl.removeCls(this.iconCls)}if(a){this.iconEl.addCls(a)}}this.iconCls=a},setText:function(d){var a=this.textEl||this.el;if(d&&a){a.update(d);if(this.textEl){var b=this.textEl.getWidth()+this.iconEl.getWidth()+25+(this.arrowEl?this.arrowEl.getWidth():0);if(b>this.itemEl.getWidth()){this.parentMenu.setWidth(b)}}}else{if(a){a.update("")}}this.text=d}});Ext.define("Ext.menu.CheckItem",{extend:"Ext.menu.Item",alias:"widget.menucheckitem",checkedCls:Ext.baseCSSPrefix+"menu-item-checked",groupCls:Ext.baseCSSPrefix+"menu-group-item",uncheckedCls:Ext.baseCSSPrefix+"menu-item-unchecked",afterRender:function(){Ext.menu.CheckItem.superclass.afterRender.call(this);this.checked=!this.checked;this.setChecked(!this.checked,true)},initComponent:function(){this.addEvents("beforecheckchange","checkchange");Ext.menu.MenuMgr.registerCheckable(this);if(this.group){this.baseCls+=" "+this.groupCls}Ext.menu.CheckItem.superclass.initComponent.call(this);if(this.checkHandler){this.on("checkchange",this.checkHandler,this.scope)}},onClick:function(a){if(!this.disabled&&!(this.checked&&this.group)){this.setChecked(!this.checked)}Ext.menu.CheckItem.superclass.onClick.call(this,a)},onDestroy:function(){Ext.menu.MenuMgr.unregisterCheckable(this);Ext.menu.CheckItem.superclass.onDestroy.call(this)},setChecked:function(b,a){if(this.checked!=b&&(a||this.fireEvent("beforecheckchange",this,b)!==false)){this.setIconClass(this[(b?"":"un")+"checkedCls"]);this.checked=b;Ext.menu.MenuMgr.onCheckChange(this,b);if(!a){this.fireEvent("checkchange",this,b)}}}});Ext.define("Ext.menu.Menu",{extend:"Ext.container.Container",alias:"widget.menu",requires:["Ext.menu.MenuMgr","Ext.menu.Item","Ext.menu.CheckItem"],allowOtherMenus:false,ariaRole:"menu",autoRender:true,baseCls:Ext.baseCSSPrefix+"menu",defaultAlign:"tl-bl?",floating:true,ignoreParentClicks:false,isMenu:true,minWidth:120,hidden:true,renderTpl:['<div class="'+Ext.baseCSSPrefix+'menu-icon-separator">&#160;</div>'],afterRender:function(a){Ext.menu.Menu.superclass.afterRender.call(this,a);this.mon(this.el,{click:this.onClick,mouseout:this.onMouseOut,mouseover:this.onMouseOver,scope:this})},deactivateActiveItem:function(){if(this.activeItem){this.activeItem.deactivate();if(!this.activeItem.activated){delete this.activeItem}}},hide:function(){this.deactivateActiveItem();Ext.menu.Menu.superclass.hide.call(this)},initComponent:function(){this.addEvents("click","mouseout","mouseover");Ext.menu.MenuMgr.register(this);this.floatable=this.floating;if(this.floating){this.baseCls+=" "+Ext.baseCSSPrefix+"menu-floating"}if(this.plain){this.baseCls+=" "+Ext.baseCSSPrefix+"menu-plain"}this.layout={type:"vbox",align:"stretchmax",autoSize:true,overflowHandler:{type:"Scroller"}};Ext.menu.Menu.superclass.initComponent.call(this)},itemFromEvent:function(b){var a=b.getTarget("."+Ext.baseCSSPrefix+"menu-item");if(a){return this.child("[id="+a.id+"]")}},itemFromObject:function(b){if(!b.isComponent){if(!b.xtype){b=new Ext.menu[(Ext.isBoolean(b.checked)?"Check":"")+"Item"](b)}else{b=Ext.ComponentMgr.create(b,b.xtype)}}if(b.isMenuItem){b.parentMenu=this}if(!b.isMenuItem){var a=[Ext.baseCSSPrefix+"menu-item"];if(!this.plain&&b.indent===true){a.push(Ext.baseCSSPrefix+"menu-item-indent");if(b.ref){b.ref+="../"+b.ref}b=new Ext.container.Container({items:[b],layout:"fit"})}if(b.rendered){b.el.addCls(a)}else{b.cls=(b.cls?b.cls:"")+" "+a.join(" ")}b.isMenuItem=true}return b},itemFromString:function(a){return(a=="separator"||a=="-")?Ext.createWidget("menuseparator"):Ext.createWidget("menuitem",{canActivate:false,hideOnClick:false,plain:true,text:a})},lookupComponent:function(a){if(Ext.isString(a)){a=this.itemFromString(a)}else{if(Ext.isObject(a)){a=this.itemFromObject(a)}}return a},onClick:function(b){var a=this.itemFromEvent(b);if(a){if(a instanceof Ext.menu.Item){if(!a.menu||!this.ignoreParentClicks){a.onClick(b)}else{b.stopEvent()}}}this.fireEvent("click",this,a,b)},onDestroy:function(){Ext.menu.MenuMgr.unregister(this);Ext.menu.Menu.superclass.onDestroy.call(this)},onMouseOut:function(b){var a=this.itemFromEvent(b);if(a&&a==this.activeItem&&this.activeItem.shouldDeactivate(b)){this.deactivateActiveItem()}this.fireEvent("mouseout",this,a,b)},onMouseOver:function(b){var a=this.itemFromEvent(b);if(a){this.setActiveItem(a)}if(this.parentMenu){this.parentMenu.setActiveItem(this.parentItem)}this.fireEvent("mouseover",this,a,b)},onRender:function(a,b){Ext.applyIf(this.renderSelectors,{iconSepEl:"."+Ext.baseCSSPrefix+"menu-icon-separator"});Ext.menu.Menu.superclass.onRender.call(this,a,b)},setActiveItem:function(a){if(a&&a!=this.activeItem){this.deactivateActiveItem();if(a.activate){a.activate();if(a.activated){this.activeItem=a}}}},showBy:function(a,d,b){if(this.floating&&a){this.show();a=a.el||a;this.showAt(this.el.getAlignToXY(a,d||this.defaultAlign,b))}}});Ext.define("Ext.util.ClickRepeater",{extend:"Ext.util.Observable",constructor:function(b,a){this.el=Ext.get(b);this.el.unselectable();Ext.apply(this,a);this.addEvents("mousedown","click","mouseup");if(!this.disabled){this.disabled=true;this.enable()}if(this.handler){this.on("click",this.handler,this.scope||this)}Ext.util.ClickRepeater.superclass.constructor.call(this)},interval:20,delay:250,preventDefault:true,stopDefault:false,timer:0,enable:function(){if(this.disabled){this.el.on("mousedown",this.handleMouseDown,this);if(Ext.isIE){this.el.on("dblclick",this.handleDblClick,this)}if(this.preventDefault||this.stopDefault){this.el.on("click",this.eventOptions,this)}}this.disabled=false},disable:function(a){if(a||!this.disabled){clearTimeout(this.timer);if(this.pressClass){this.el.removeCls(this.pressClass)}Ext.getDoc().un("mouseup",this.handleMouseUp,this);this.el.removeAllListeners()}this.disabled=true},setDisabled:function(a){this[a?"disable":"enable"]()},eventOptions:function(a){if(this.preventDefault){a.preventDefault()}if(this.stopDefault){a.stopEvent()}},destroy:function(){this.disable(true);Ext.destroy(this.el);this.clearListeners()},handleDblClick:function(a){clearTimeout(this.timer);this.el.blur();this.fireEvent("mousedown",this,a);this.fireEvent("click",this,a)},handleMouseDown:function(a){clearTimeout(this.timer);this.el.blur();if(this.pressClass){this.el.addCls(this.pressClass)}this.mousedownTime=new Date();Ext.getDoc().on("mouseup",this.handleMouseUp,this);this.el.on("mouseout",this.handleMouseOut,this);this.fireEvent("mousedown",this,a);this.fireEvent("click",this,a);if(this.accelerate){this.delay=400}a=new Ext.EventObjectImpl(a);this.timer=Ext.defer(this.click,this.delay||this.interval,this,[a])},click:function(a){this.fireEvent("click",this,a);this.timer=Ext.defer(this.click,this.accelerate?this.easeOutExpo(Ext.Date.getElapsed(this.mousedownTime),400,-390,12000):this.interval,this,[a])},easeOutExpo:function(e,a,g,f){return(e==f)?a+g:g*(-Math.pow(2,-10*e/f)+1)+a},handleMouseOut:function(){clearTimeout(this.timer);if(this.pressClass){this.el.removeCls(this.pressClass)}this.el.on("mouseover",this.handleMouseReturn,this)},handleMouseReturn:function(){this.el.un("mouseover",this.handleMouseReturn,this);if(this.pressClass){this.el.addCls(this.pressClass)}this.click()},handleMouseUp:function(a){clearTimeout(this.timer);this.el.un("mouseover",this.handleMouseReturn,this);this.el.un("mouseout",this.handleMouseOut,this);Ext.getDoc().un("mouseup",this.handleMouseUp,this);this.el.removeCls(this.pressClass);this.fireEvent("mouseup",this,a)}});Ext.define("Ext.layout.component.Button",{alias:["layout.button"],extend:"Ext.layout.Component",type:"button",cellClsRE:/-btn-(tl|br)\b/,onLayout:function(b,l){var i=this,g=Ext.isNumber,d=this.owner,j=d.el,h=d.btnEl,a=d.minWidth,k,f,e=i.frameSize;i.parent(arguments);k=(g(b)?b-e.left-e.right:b);f=(g(l)?l-e.top-e.bottom:l);i.setElementSize(h,k,f);if(a&&!g(b)){h.setStyle("width","auto");if(j.getWidth()<a){i.setElementSize(h,a-e.left-e.right,f)}}}});Ext.define("Ext.button.Button",{alias:"widget.button",extend:"Ext.Component",requires:["Ext.menu.MenuMgr","Ext.util.ClickRepeater","Ext.layout.component.Button"],alternateClassName:"Ext.Button",isButton:true,componentLayout:"button",hidden:false,disabled:false,pressed:false,enableToggle:false,menuAlign:"tl-bl?",type:"button",menuClassTarget:"tr:nth(2)",clickEvent:"click",handleMouseEvents:true,tooltipType:"qtip",baseCls:Ext.baseCSSPrefix+"btn",ariaRole:"button",renderTpl:['<button type="{type}"<tpl if="tabIndex"> tabIndex="-1"</tpl> role="button">{text}</button>'],scale:"small",ui:"default",iconAlign:"left",arrowAlign:"right",frame:true,initComponent:function(){var a=this;a.parent(arguments);a.addEvents("click","toggle","mouseover","mouseout","menushow","menuhide","menutriggerover","menutriggerout");if(a.menu){a.menu=Ext.menu.MenuMgr.get(a.menu)}if(Ext.isString(a.toggleGroup)){a.enableToggle=true}a.cls=(a.cls||"")+" "+a.baseCls+"-"+a.ui;a.ui+="-"+a.scale;a.overCls=a.baseCls+"-"+a.ui+"-over";a.pressedCls=a.baseCls+"-"+a.ui+"-pressed";a.focusCls=a.baseCls+"-"+a.ui+"-focus"},initAria:function(){Ext.button.Button.superclass.initAria.call(this);var a=this.getActionEl();if(this.menu){a.dom.setAttribute("aria-haspopup",true)}},getActionEl:function(){return this.btnEl},setButtonCls:function(){var d=this,b=d.el,a=d.tableEl,e=d.tbodyEl;if(d.useSetClass){if(!Ext.isEmpty(d.oldCls)){b.removeCls([d.oldCls,d.baseCls+"-pressed",d.pressedCls])}d.oldCls=(d.iconCls||d.icon)?(d.text?d.baseCls+"-text-icon":d.baseCls+"-icon"):d.baseCls+"-noicon";b.addCls([d.oldCls,d.pressed?(d.baseCls+"-pressed "+d.pressedCls):null])}},onRender:function(f,b){var i=this,g=i.baseCls+"-"+i.scale,a=Ext.baseCSSPrefix+i.ui,h="",e,d;Ext.applyIf(i.renderData,{type:i.type,menuCls:i.menu?(i.arrowAlign!="bottom"?i.baseCls+"-arrow":i.baseCls+"-arrow-bottom"):"",cls:i.cls,text:i.text||"&#160;",tabIndex:i.tabIndex});Ext.applyIf(i.renderSelectors,{btnEl:"button"});Ext.button.Button.superclass.onRender.call(i,f,b);i.mon(i.btnEl,{scope:i,focus:i.onFocus,blur:i.onBlur});d=i.el;if(i.icon){i.setIcon(i.icon)}if(i.iconCls){i.setIconClass(i.iconCls)}if(i.tooltip){i.setTooltip(i.tooltip,true)}if(i.handleMouseEvents){i.mon(d,{scope:i,mouseover:i.onMouseOver,mousedown:i.onMouseDown})}if(i.menu){i.mon(i.menu,{scope:i,show:i.onMenuShow,hide:i.onMenuHide})}if(i.repeat){e=new Ext.util.ClickRepeater(d,Ext.isObject(i.repeat)?i.repeat:{});i.mon(e,"click",i.onRepeatClick,i)}else{i.mon(d,i.clickEvent,i.onClick,i)}Ext.ButtonToggleMgr.register(i)},afterRender:function(){var a=this;a.useSetClass=true;a.setButtonCls();a.doc=Ext.getDoc();this.parent(arguments)},setIconClass:function(a){var b=this;b.iconCls=a;if(b.el){b.btnEl.dom.className="";b.btnEl.addCls([b.baseCls+"-text",a||""]);b.setButtonCls()}return b},setTooltip:function(b,a){if(this.rendered){if(!a){this.clearTip()}if(Ext.isObject(b)){Ext.tip.QuickTips.register(Ext.apply({target:this.btnEl.id},b));this.tooltip=b}else{this.btnEl.dom[this.tooltipType]=b}}else{this.tooltip=b}return this},clearTip:function(){if(Ext.isObject(this.tooltip)){Ext.tip.QuickTips.unregister(this.btnEl)}},beforeDestroy:function(){if(this.rendered){this.clearTip()}if(this.menu&&this.destroyMenu!==false){Ext.destroy(this.btnEl,this.menu)}Ext.destroy(this.repeater)},onDestroy:function(){if(this.rendered){this.doc.un("mouseover",this.monitorMouseOver,this);this.doc.un("mouseup",this.onMouseUp,this);delete this.doc;delete this.btnEl;Ext.ButtonToggleMgr.unregister(this)}Ext.button.Button.superclass.onDestroy.call(this)},setHandler:function(b,a){this.handler=b;this.scope=a;return this},setText:function(a){this.text=a;if(this.el){this.btnEl.update(a||"&#160;");this.setButtonCls()}this.doComponentLayout();return this},setIcon:function(a){this.icon=a;if(this.el){this.btnEl.setStyle("background-image",a?"url("+a+")":"");this.setButtonCls()}return this},getText:function(){return this.text},toggle:function(b,a){b=b===undefined?!this.pressed:!!b;if(b!=this.pressed){if(this.rendered){this.el[b?"addCls":"removeCls"]([me.baseCls+"-pressed",me.pressedCls])}this.btnEl.dom.setAttribute("aria-pressed",b);this.pressed=b;if(!a){this.fireEvent("toggle",this,b);if(this.toggleHandler){this.toggleHandler.call(this.scope||this,this,b)}}}return this},onDisable:function(){this.onDisableChange(true)},onEnable:function(){this.onDisableChange(false)},onDisableChange:function(a){if(this.el){if(!Ext.isIE6||!this.text){this.el[a?"addCls":"removeCls"](this.disabledClass)}this.el.dom.disabled=a}this.disabled=a},showMenu:function(){if(this.rendered&&this.menu){if(this.tooltip){Ext.tip.QuickTips.getQuickTip().cancelShow(this.btnEl)}if(this.menu.isVisible()){this.menu.hide()}if(!this.menu.ownerCt){this.menu.ownerCt=this.ownerCt}this.menu.showBy(this.el,this.menuAlign)}return this},hideMenu:function(){if(this.hasVisibleMenu()){this.menu.hide()}return this},hasVisibleMenu:function(){return this.menu&&this.menu.rendered&&this.menu.isVisible()},onRepeatClick:function(a,b){this.onClick(b)},onClick:function(b){var a=this;if(b){b.preventDefault()}if(b.button!==0){return}if(!a.disabled){if(a.enableToggle&&(a.allowDepress!==false||!a.pressed)){a.toggle()}if(a.menu&&!a.hasVisibleMenu()&&!a.ignoreNextClick){a.showMenu()}a.fireEvent("click",a,b);if(a.handler){a.handler.call(a.scope||a,a,b)}}},isMenuTriggerOver:function(b,a){return this.menu&&!a},isMenuTriggerOut:function(b,a){return this.menu&&!a},onMouseOver:function(d){var b=this,a;if(!b.disabled){a=d.within(b.el,true);if(!a){b.el.addCls([b.baseCls+"-over",b.overCls]);if(!b.monitoringMouseOver){b.doc.on("mouseover",b.monitorMouseOver,b);b.monitoringMouseOver=true}b.fireEvent("mouseover",b,d)}if(b.isMenuTriggerOver(d,a)){b.fireEvent("menutriggerover",b,b.menu,d)}}},monitorMouseOver:function(b){var a=this;if(b.target!=a.el.dom&&!b.within(a.el)){if(a.monitoringMouseOver){a.doc.un("mouseover",a.monitorMouseOver,a);a.monitoringMouseOver=false}a.onMouseOut(b)}},onMouseOut:function(d){var b=this,a=d.within(b.el)&&d.target!=b.el.dom;b.el.removeCls([b.baseCls+"-over",b.overCls]);b.fireEvent("mouseout",b,d);if(b.isMenuTriggerOut(d,a)){b.fireEvent("menutriggerout",b,b.menu,d)}},focus:function(){this.btnEl.focus()},blur:function(){this.btnEl.blur()},onFocus:function(b){var a=this;if(!a.disabled){a.el.addCls([a.baseCls+"-focus",a.focusCls])}},onBlur:function(b){var a=this;a.el.removeCls([a.baseCls+"-focus",a.focusCls])},onMouseDown:function(b){var a=this;if(!a.disabled&&b.button===0){a.el.addCls([a.baseCls+"-pressed",a.pressedCls]);a.doc.on("mouseup",a.onMouseUp,a)}},onMouseUp:function(b){var a=this;if(b.button===0){a.el.removeCls([a.baseCls+"-pressed",a.pressedCls]);a.doc.un("mouseup",a.onMouseUp,a)}},onMenuShow:function(b){var a=this;a.ignoreNextClick=0;a.el.addCls(a.baseCls+"-menu-active");a.fireEvent("menushow",a,a.menu)},onMenuHide:function(b){var a=this;a.el.removeCls(a.baseCls+"-menu-active");a.ignoreNextClick=Ext.defer(a.restoreClick,250,a);a.fireEvent("menuhide",a,a.menu)},restoreClick:function(){this.ignoreNextClick=0}},function(){Ext.ButtonToggleMgr=function(){var a={},f,e,b;function d(g,h){if(h){f=a[g.toggleGroup];for(e=0,b=f.length;e<b;e++){if(f[e]!=g){f[e].toggle(false)}}}}return{register:function(h){if(!h.toggleGroup){return}var i=a[h.toggleGroup];if(!i){i=a[h.toggleGroup]=[]}i.push(h);h.on("toggle",d)},unregister:function(h){if(!h.toggleGroup){return}var i=a[h.toggleGroup];if(i){i.remove(h);h.un("toggle",d)}},getPressed:function(l){var k=a[l];if(k){for(var j=0,h=k.length;j<h;j++){if(k[j].pressed===true){return k[j]}}}return null}}}()});Ext.define("Ext.layout.container.boxOverflow.Menu",{extend:"Ext.layout.container.boxOverflow.None",requires:["Ext.toolbar.Separator","Ext.menu.Menu","Ext.button.Button"],afterCls:Ext.baseCSSPrefix+"strip-right",noItemsMenuText:'<div class="'+Ext.baseCSSPrefix+'toolbar-no-items">(None)</div>',constructor:function(a){Ext.layout.container.boxOverflow.Menu.superclass.constructor.apply(this,arguments);this.menuItems=[]},createInnerElements:function(){if(!this.afterCt){this.afterCt=this.layout.innerCt.insertSibling({cls:this.afterCls},"before")}},clearOverflow:function(a,g){var f=g.width+(this.afterCt?this.afterCt.getWidth():0),b=this.menuItems;this.hideTrigger();for(var d=0,e=b.length;d<e;d++){b.pop().component.show()}return{targetSize:{height:g.height,width:f}}},showTrigger:function(){this.createMenu();this.menuTrigger.show()},hideTrigger:function(){if(this.menuTrigger!=undefined){this.menuTrigger.hide()}},beforeMenuShow:function(h){var b=this.menuItems,a=b.length,g,f;var d=function(j,i){return j.isXType("buttongroup")&&!(i instanceof Ext.toolbar.Separator)};this.clearMenu();h.removeAll();for(var e=0;e<a;e++){g=b[e].component;if(f&&(d(g,f)||d(f,g))){h.add("-")}this.addComponentToMenu(h,g);f=g}if(h.items.length<1){h.add(this.noItemsMenuText)}},createMenuConfig:function(d,a){var b=Ext.apply({},d.initialConfig),e=d.toggleGroup;Ext.copyTo(b,d,["iconCls","icon","itemId","disabled","handler","scope","menu"]);Ext.apply(b,{text:d.overflowText||d.text,hideOnClick:a});if(e||d.enableToggle){Ext.apply(b,{group:e,checked:d.pressed,listeners:{checkchange:function(g,f){d.toggle(f)}}})}delete b.ownerCt;delete b.xtype;delete b.id;return b},addComponentToMenu:function(b,a){if(a instanceof Ext.toolbar.Separator){b.add("-")}else{if(Ext.isFunction(a.isXType)){if(a.isXType("splitbutton")){b.add(this.createMenuConfig(a,true))}else{if(a.isXType("button")){b.add(this.createMenuConfig(a,!a.menu))}else{if(a.isXType("buttongroup")){a.items.each(function(d){this.addComponentToMenu(b,d)},this)}}}}}},clearMenu:function(){var a=this.moreMenu;if(a&&a.items){a.items.each(function(b){delete b.menu})}},createMenu:function(){if(!this.menuTrigger){this.createInnerElements();this.menu=new Ext.menu.Menu({ownerCt:this.layout.container,listeners:{scope:this,beforeshow:this.beforeMenuShow}});this.menuTrigger=new Ext.button.Button({iconCls:Ext.baseCSSPrefix+"toolbar-more-icon",cls:Ext.baseCSSPrefix+"toolbar-more",menu:this.menu,renderTo:this.afterCt})}},destroy:function(){Ext.destroy(this.menu,this.menuTrigger)}});Ext.define("Ext.layout.container.boxOverflow.HorizontalMenu",{extend:"Ext.layout.container.boxOverflow.Menu",constructor:function(){Ext.layout.container.boxOverflow.HorizontalMenu.superclass.superclass.constructor.apply(this,arguments);var d=this,b=d.layout,a=b.calculateChildBoxes;b.calculateChildBoxes=function(e,i){var l=a.apply(b,arguments),k=l.meta,f=d.menuItems,g,h,j;j=0;for(g=0,h=f.length;g<h;g++){j+=f[g].width}k.minimumWidth+=j;k.tooNarrow=k.minimumWidth>i.width;return l}},handleOverflow:function(e,h){this.showTrigger();var k=h.width-this.afterCt.getWidth(),l=e.boxes,f=0,r=false,o,d,a,g,n,m,b,j,q,p;for(o=0,d=l.length;o<d;o++){f+=l[o].width}a=k-f;g=0;for(o=0,d=this.menuItems.length;o<d;o++){n=this.menuItems[o];m=n.component;b=n.width;if(b<a){m.show();a-=b;g++;r=true}else{break}}if(r){this.menuItems=this.menuItems.slice(g)}else{for(j=l.length-1;j>=0;j--){q=l[j].component;p=l[j].left+l[j].width;if(p>=k){this.menuItems.unshift({component:q,width:l[j].width});q.hide()}else{break}}}if(this.menuItems.length==0){this.hideTrigger()}return{targetSize:{height:h.height,width:k},recalculate:r}}});Ext.define("Ext.layout.container.boxOverflow.Scroller",{extend:"Ext.layout.container.boxOverflow.None",requires:["Ext.util.ClickRepeater","Ext.core.Element"],animateScroll:true,scrollIncrement:100,wheelIncrement:3,scrollRepeatInterval:400,scrollDuration:0.4,beforeCls:Ext.baseCSSPrefix+"strip-left",afterCls:Ext.baseCSSPrefix+"strip-right",scrollerCls:Ext.baseCSSPrefix+"strip-scroller",beforeScrollerCls:Ext.baseCSSPrefix+"strip-scroller-left",afterScrollerCls:Ext.baseCSSPrefix+"strip-scroller-right",createWheelListener:function(){this.layout.innerCt.on({scope:this,mousewheel:function(a){a.stopEvent();this.scrollBy(a.getWheelDelta()*this.wheelIncrement*-1,false)}})},handleOverflow:function(a,b){this.createInnerElements();this.showScrollers()},clearOverflow:function(){this.hideScrollers()},showScrollers:function(){this.createScrollers();this.beforeScroller.show();this.afterScroller.show();this.updateScrollButtons()},hideScrollers:function(){if(this.beforeScroller!=undefined){this.beforeScroller.hide();this.afterScroller.hide()}},createScrollers:function(){if(!this.beforeScroller&&!this.afterScroller){var a=this.beforeCt.createChild({cls:Ext.String.format("{0} {1} ",this.scrollerCls,this.beforeScrollerCls)});var b=this.afterCt.createChild({cls:Ext.String.format("{0} {1}",this.scrollerCls,this.afterScrollerCls)});a.addClsOnOver(this.beforeScrollerCls+"-hover");b.addClsOnOver(this.afterScrollerCls+"-hover");a.setVisibilityMode(Ext.core.Element.DISPLAY);b.setVisibilityMode(Ext.core.Element.DISPLAY);this.beforeRepeater=new Ext.util.ClickRepeater(a,{interval:this.scrollRepeatInterval,handler:this.scrollLeft,scope:this});this.afterRepeater=new Ext.util.ClickRepeater(b,{interval:this.scrollRepeatInterval,handler:this.scrollRight,scope:this});this.beforeScroller=a;this.afterScroller=b}},destroy:function(){Ext.destroy(this.beforeScroller,this.afterScroller,this.beforeRepeater,this.afterRepeater,this.beforeCt,this.afterCt)},scrollBy:function(b,a){this.scrollTo(this.getScrollPosition()+b,a)},getItem:function(a){if(Ext.isString(a)){a=Ext.getCmp(a)}else{if(Ext.isNumber(a)){a=this.items[a]}}return a},getScrollAnim:function(){return{duration:this.scrollDuration,callback:this.updateScrollButtons,scope:this}},updateScrollButtons:function(){if(this.beforeScroller==undefined||this.afterScroller==undefined){return}var e=this.atExtremeBefore()?"addCls":"removeCls",d=this.atExtremeAfter()?"addCls":"removeCls",a=this.beforeScrollerCls+"-disabled",b=this.afterScrollerCls+"-disabled";this.beforeScroller[e](a);this.afterScroller[d](b);this.scrolling=false},atExtremeBefore:function(){return this.getScrollPosition()===0},scrollLeft:function(a){this.scrollBy(-this.scrollIncrement,a)},scrollRight:function(a){this.scrollBy(this.scrollIncrement,a)},scrollToItem:function(e,b){e=this.getItem(e);if(e!=undefined){var a=this.getItemVisibility(e);if(!a.fullyVisible){var d=e.getBox(true,true),f=d.x;if(a.hiddenRight){f-=(this.layout.innerCt.getWidth()-d.width)}this.scrollTo(f,b)}}},getItemVisibility:function(f){var e=this.getItem(f).getBox(true,true),a=e.x,d=e.x+e.width,g=this.getScrollPosition(),b=this.layout.innerCt.getWidth()+g;return{hiddenLeft:a<g,hiddenRight:d>b,fullyVisible:a>g&&d<b}}});Ext.define("Ext.layout.container.boxOverflow.HorizontalScroller",{extend:"Ext.layout.container.boxOverflow.Scroller",handleOverflow:function(a,b){Ext.layout.container.boxOverflow.HorizontalScroller.superclass.superclass.handleOverflow.apply(this,arguments);return{targetSize:{height:b.height,width:b.width-(this.beforeCt.getWidth()+this.afterCt.getWidth())}}},createInnerElements:function(){var a=this.layout.innerCt;if(!this.beforeCt){this.afterCt=a.insertSibling({cls:this.afterCls},"before");this.beforeCt=a.insertSibling({cls:this.beforeCls},"before");this.createWheelListener()}},scrollTo:function(a,b){var e=this.getScrollPosition(),d=Ext.Number.constrain(a,0,this.getMaxScrollRight());if(d!=e&&!this.scrolling){if(b==undefined){b=this.animateScroll}this.layout.innerCt.scrollTo("left",d,b?this.getScrollAnim():false);if(b){this.scrolling=true}else{this.scrolling=false;this.updateScrollButtons()}}},getScrollPosition:function(){return parseInt(this.layout.innerCt.dom.scrollLeft,10)||0},getMaxScrollRight:function(){return this.layout.innerCt.dom.scrollWidth-this.layout.innerCt.getWidth()},atExtremeAfter:function(){return this.getScrollPosition()>=this.getMaxScrollRight()}});Ext.define("Ext.layout.container.boxOverflow.VerticalScroller",{extend:"Ext.layout.container.boxOverflow.Scroller",scrollIncrement:75,wheelIncrement:2,handleOverflow:function(a,b){Ext.layout.container.boxOverflow.VerticalScroller.superclass.superclass.handleOverflow.apply(this,arguments);return{targetSize:{height:b.height-(this.beforeCt.getHeight()+this.afterCt.getHeight()),width:b.width}}},createInnerElements:function(){var a=this.layout.innerCt;if(!this.beforeCt){this.beforeCt=a.insertSibling({cls:this.beforeCls},"before");this.afterCt=a.insertSibling({cls:this.afterCls},"after");this.createWheelListener()}},scrollTo:function(a,b){var e=this.getScrollPosition(),d=Ext.Number.constrain(a,0,this.getMaxScrollBottom());if(d!=e&&!this.scrolling){if(b==undefined){b=this.animateScroll}this.layout.innerCt.scrollTo("top",d,b?this.getScrollAnim():false);if(b){this.scrolling=true}else{this.scrolling=false;this.updateScrollButtons()}}},getScrollPosition:function(){return parseInt(this.layout.innerCt.dom.scrollTop,10)||0},getMaxScrollBottom:function(){return this.layout.innerCt.dom.scrollHeight-this.layout.innerCt.getHeight()},atExtremeAfter:function(){return this.getScrollPosition()>=this.getMaxScrollBottom()}});Ext.define("Ext.layout.container.Box",{alias:["layout.box"],extend:"Ext.layout.Container",requires:["Ext.layout.container.boxOverflow.HorizontalMenu","Ext.layout.container.boxOverflow.HorizontalScroller","Ext.layout.container.boxOverflow.Menu","Ext.layout.container.boxOverflow.None","Ext.layout.container.boxOverflow.Scroller","Ext.layout.container.boxOverflow.VerticalScroller","Ext.util.Format"],padding:"0",pack:"start",type:"box",scrollOffset:0,itemCls:Ext.baseCSSPrefix+"box-item",targetCls:Ext.baseCSSPrefix+"box-layout-ct",innerCls:Ext.baseCSSPrefix+"box-inner",bindToOwnerCtContainer:true,fixedLayout:false,availableSpaceOffset:0,clearInnerCtOnLayout:false,flexSortFn:function(e,d){var f="max"+this.parallelPrefixCap,g=Infinity;e=e.component[f]||g;d=d.component[f]||g;if(!isFinite(e)&&!isFinite(d)){return false}return e-d},minSizeSortFn:function(e,d){return e.available>d.available?1:-1},constructor:function(a){Ext.layout.container.Box.superclass.constructor.call(this,a);this.flexSortFn=Ext.Function.bind(this.flexSortFn,this);if(Ext.isString(this.defaultMargins)){this.defaultMargins=Ext.util.Format.parseBox(this.defaultMargins)}else{this.defaultMargins=this.defaultMargins||{}}Ext.applyIf(this.defaultMargins,{top:0,left:0,bottom:0,right:0});this.initOverflowHandler()},getChildBox:function(a){a=a.el||this.owner.getComponent(a).el;return Ext.apply(this.innerCt.translatePoints(a.getLeft(),a.getTop()),{width:a.getWidth(),height:a.getHeight()})},calculateChildBox:function(j){var g=this,f=g.getLayoutTargetSize(),a=g.getVisibleItems(),h=g.calculateChildBoxes(a,f),d=h.boxes,e=d.length,b=0;j=g.owner.getComponent(j);for(;b<e;b++){if(d[b].component===j){return d[b]}}},calculateChildBoxes:function(p,b){var A=this,L=Math,m=L.max,s=Infinity,r,u=A.parallelPrefix,o=A.parallelPrefixCap,O=A.perpendicularPrefix,v=A.perpendicularPrefixCap,al="min"+o,C="min"+v,d=b[u]-A.scrollOffset,ac=b[O],ah=A.padding,t=ah[A.parallelBefore],w=t+ah[A.parallelAfter],S=ah[A.perpendicularLeftTop],M=S+ah[A.perpendicularRightBottom],aj=m(0,ac-M),ae=A.pack=="start",ao=A.pack=="center",H=A.pack=="end",ag=Ext.Number.constrain,P=p.length,e=0,ak=0,am=0,z=0,I=0,T=[],N=[],ai,j,ad,E,F,an,ab,Z,aa,n,f,D,K,B,Q,k,U,af,g,G,W,a,q,l,J,V,Y,h,X;for(ai=0;ai<P;ai++){j=p[ai];E=j[O];A.layoutItem(j);if(j.flex){ak+=j.flex;ad=r}else{if(!(j[u]&&E)){an=j.getSize()}ad=j[u]||an[u];E=E||an[O]}F=j.margins;J=F[A.parallelBefore]+F[A.parallelAfter];e+=J+(ad||0);am+=J+(j.flex?j[al]||0:ad);z+=J+(j[al]||ad||0);if(typeof E!="number"){E=j["get"+v]()}I=m(I,E+F[A.perpendicularLeftTop]+F[A.perpendicularRightBottom]);Z={component:j,margins:F};Z[u]=ad||r;Z[O]=E||r;T.push(Z)}aa=am-d;n=z>d;f=m(0,d-e-w-this.availableSpaceOffset);if(n){for(ai=0;ai<P;ai++){T[ai][u]=p[ai][al]||p[ai][u]||T[ai][u]}}else{if(aa>0){for(ai=0;ai<P;ai++){K=p[ai];D=K[al]||0;if(K.flex){T[ai][u]=D}else{N.push({minSize:D,available:T[ai][u]-D,index:ai})}}N.sort(A.minSizeSortFn);for(ai=0,B=N.length;ai<B;ai++){Q=N[ai].index;if(Q==r){continue}K=p[Q];D=K.minSize;k=T[Q];U=k[u];af=m(D,U-L.ceil(aa/(B-ai)));g=U-af;T[Q][u]=af;aa-=g}}else{a=f;q=ak;W=[];for(ai=0;ai<P;ai++){j=p[ai];if(ae&&j.flex){W.push(T[Ext.Array.indexOf(p,j)])}}W.sort(A.flexSortFn);for(ai=0;ai<W.length;ai++){V=W[ai];j=V.component;F=V.margins;J=F[A.parallelBefore]+F[A.parallelAfter];l=L.ceil((j.flex/q)*a);l=L.min(j["max"+o]||s,l);a-=l;q-=j.flex;V[u]=l;V.dirtySize=true}}}if(ao){t+=f/2}else{if(H){t+=f}}for(ai=0;ai<P;ai++){j=p[ai];V=T[ai];F=V.margins;h=F[A.perpendicularLeftTop]+F[A.perpendicularRightBottom];V[A.parallelBefore]=t;V[A.perpendicularLeftTop]=S;if(A.align=="stretch"){X=aj-h;V[O]=ag(X,j[C]||0,j[C]||s);V.dirtySize=true}else{if(A.align=="stretchmax"){X=I-h;V[O]=ag(X,j[C]||0,j[C]||s);V.dirtySize=true}else{if(A.align==A.alignCenteringString){G=m(aj,I)-V[O]-h;if(G>0){V[A.perpendicularLeftTop]=S+h+(G/2)}}}}t+=(V[u]||0)+F[A.parallelBefore]+F[A.parallelAfter]}return{boxes:T,meta:{maxSize:I,nonFlexSize:e,desiredSize:am,minimumSize:z,shortfall:am-d,tooNarrow:n}}},initOverflowHandler:function(){var d=this.overflowHandler;if(typeof d=="string"){d={type:d}}var b="None";if(d&&d.type!=undefined){b=Ext.String.capitalize(d.type)}var a=Ext.layout.container.boxOverflow[b];if(a[this.type]){a=a[this.type]}this.overflowHandler=new a(this,d)},onLayout:function(){Ext.layout.container.Box.superclass.onLayout.call(this);if(this.clearInnerCtOnLayout===true&&this.adjustmentPass!==true){this.innerCt.setSize(null,null)}var h=this,d=h.getLayoutTargetSize(),g=h.getVisibleItems(),b=h.calculateChildBoxes(g,d),f=b.boxes,i=b.meta,j,a,e;if(h.autoSize&&b.meta.desiredSize){d[h.parallelPrefix]=b.meta.desiredSize}if(d.shortfall>0){j=h.overflowHandler;a=i.tooNarrow?"handleOverflow":"clearOverflow";e=j[a](b,d);if(e){if(e.targetSize){d=e.targetSize}if(e.recalculate){g=h.getVisibleItems(owner);b=h.calculateChildBoxes(g,d);f=b.boxes}}}h.layoutTargetLastSize=d;h.childBoxCache=b;h.updateInnerCtSize(d,b);if(!h.handleTargetOverflow(d)){h.updateChildBoxes(f)}},updateChildBoxes:function(h){var m=this,f=0,d=h.length,a,g,e,j,k,b,p=[],o=Ext.dd.DDM.getDDById(this.innerCt.id);for(;f<d;f++){g=h[f];j=g.component;if(o&&(o.getDragEl()===j.el.dom)){continue}e=false;if(j.boxAnim&&j.boxAnim.running){j.boxAnim.end()}if(m.animate){a=m.getChildBox(j);b=m.animate.callback||m.animate;k={target:j,from:{},to:{}};if(!isNaN(g.width)&&(g.width!=a.width)){e=true;k.from.width=a.width;k.to.width=g.width}else{j.width=a.width}if(!isNaN(g.height)&&(g.height!=a.height)){e=true;k.from.height=a.height;k.to.height=g.height}else{j.height=a.height}if(!isNaN(g.left)&&(g.left!=a.left)){e=true;k.from.left=a.left;k.to.left=g.left}if(!isNaN(g.top)&&(g.top!=a.top)){e=true;k.from.top=a.top;k.to.top=g.top}if(e){p.push(k)}}else{if(g.dirtySize){j.setCalculatedSize(g.width,g.height,m.owner)}if(isNaN(g.left)||isNaN(g.top)){continue}j.setPosition(g.left,g.top)}}d=p.length;if(d){var n=function(i){j=i.target.target;delete j.boxAnim;if(j.flex){delete j[m.parallelPrefix]}if((m.align=="stretch")||(m.align=="stretchmax")){delete j[m.perpendicularPrefix]}d-=1;if(!d){delete m.layoutBusy;if(Ext.isFunction(b)){b()}}};var l=function(){m.layoutBusy=true};for(f=0,d=p.length;f<d;f++){k=p[f];k.listeners={afteranimate:n};if(!f){k.listeners.beforeanimate=l}if(m.animate.duration){k.duration=m.animate.duration}j.boxAnim=new Ext.fx.Anim(k)}}},updateInnerCtSize:function(d,a){var h=this,f=Math.max,g=h.align,i=h.padding,b=d.width,k=d.height,e,j;if(h.direction=="horizontal"){e=b;j=a.meta.maxSize+i.top+i.bottom;if(g=="stretch"){j=k}else{if(g=="middle"){j=f(k,j)}}}else{j=k;e=a.meta.maxSize+i.left+i.right;if(g=="stretch"){e=b}else{if(g=="center"){e=f(b,e)}}}h.getRenderTarget().setSize(e||undefined,j||undefined)},handleTargetOverflow:function(d){var b=this.getTarget(),e=b.getStyle("overflow"),a;if(e&&e!="hidden"&&!this.adjustmentPass){a=this.getLayoutTargetSize();if(a.width!=d.width||a.height!=d.height){this.adjustmentPass=true;this.onLayout()}return true}delete this.adjustmentPass},isValidParent:function(d,e,a){var b=d.el?d.el.dom:Ext.getDom(d);return(b&&this.innerCt&&b.parentNode===this.innerCt.dom)||false},getRenderTarget:function(){if(!this.innerCt){this.innerCt=this.getTarget().createChild({cls:this.innerCls,role:"presentation"});this.padding=Ext.util.Format.parseBox(this.padding)}return this.innerCt},renderItem:function(b,d){var a;Ext.layout.container.Box.superclass.renderItem.apply(this,arguments);if(Ext.isString(b.margins)){b.margins=Ext.util.Format.parseBox(b.margins)}else{if(!b.margins){a=b.getEl();b.margins={top:a.getMargin("t")||this.defaultMargins.top,right:a.getMargin("r")||this.defaultMargins.right,bottom:a.getMargin("b")||this.defaultMargins.bottom,left:a.getMargin("l")||this.defaultMargins.left}}}},destroy:function(){Ext.destroy(this.overflowHandler);Ext.layout.container.Box.superclass.destroy.apply(this,arguments)}});Ext.define("Ext.layout.container.HBox",{alias:["layout.hbox"],extend:"Ext.layout.container.Box",align:"top",alignCenteringString:"middle",type:"hbox",direction:"horizontal",parallelPrefix:"width",parallelPrefixCap:"Width",parallelLT:"l",parallelRB:"r",parallelBefore:"left",parallelAfter:"right",perpendicularPrefix:"height",perpendicularPrefixCap:"Height",perpendicularLT:"t",perpendicularRB:"b",perpendicularLeftTop:"top",perpendicularRightBottom:"bottom"});Ext.define("Ext.layout.container.VBox",{alias:["layout.vbox"],extend:"Ext.layout.container.Box",align:"left",alignCenteringString:"center",type:"vbox",direction:"vertical",parallelPrefix:"height",parallelPrefixCap:"Height",parallelLT:"t",parallelRB:"b",parallelBefore:"top",parallelAfter:"bottom",perpendicularPrefix:"width",perpendicularPrefixCap:"Width",perpendicularLT:"l",perpendicularRB:"r",perpendicularLeftTop:"left",perpendicularRightBottom:"right"});Ext.define("Ext.toolbar.Toolbar",{extend:"Ext.container.Container",requires:["Ext.toolbar.Fill","Ext.layout.container.HBox","Ext.layout.container.VBox"],alias:"widget.toolbar",alternateClassName:"Ext.Toolbar",isToolbar:true,layout:"hbox",vertical:false,defaultType:"button",enableOverflow:false,trackMenus:true,internalDefaults:{removeMode:"container",hideParent:true},baseCls:"x-toolbar",ariaRole:"toolbar",ui:"default",initComponent:function(){var a=this;if(a.vertical){a.layout={type:"vbox",align:"stretchmax"}}Ext.toolbar.Toolbar.superclass.initComponent.call(a);a.addEvents("overflowchange")},initAria:function(){Ext.toolbar.Toolbar.superclass.initAria.call(this)},lookupComponent:function(b){if(Ext.isString(b)){var a=Ext.toolbar.Toolbar.shortcuts[b];if(a){b={xtype:a}}else{b={xtype:"tbtext",text:b}}this.applyDefaults(b)}return Ext.toolbar.Toolbar.superclass.lookupComponent.call(this,b)},applyDefaults:function(b){if(!Ext.isString(b)){b=Ext.toolbar.Toolbar.superclass.applyDefaults.call(this,b);var a=this.internalDefaults;if(b.events){Ext.applyIf(b.initialConfig,a);Ext.apply(b,a)}else{Ext.applyIf(b,a)}}return b},trackMenu:function(d,a){if(this.trackMenus&&d.menu){var e=a?"mun":"mon",b=this;b[e](d,"menutriggerover",b.onButtonTriggerOver,b);b[e](d,"menushow",b.onButtonMenuShow,b);b[e](d,"menuhide",b.onButtonMenuHide,b)}},constructButton:function(a){return a.events?a:this.createComponent(a,a.split?"splitbutton":this.defaultType)},onAdd:function(a){Ext.toolbar.Toolbar.superclass.onAdd.call(this);this.trackMenu(a);if(this.disabled){a.disable()}},onRemove:function(a){Ext.toolbar.Toolbar.superclass.onRemove.call(this);this.trackMenu(a,true)},onDisable:function(){this.items.each(function(a){if(a.disable){a.disable()}})},onEnable:function(){this.items.each(function(a){if(a.enable){a.enable()}})},onButtonTriggerOver:function(a){if(this.activeMenuBtn&&this.activeMenuBtn!=a){this.activeMenuBtn.hideMenu();a.showMenu();this.activeMenuBtn=a}},onButtonMenuShow:function(a){this.activeMenuBtn=a},onButtonMenuHide:function(a){delete this.activeMenuBtn}},function(){this.shortcuts={"-":"tbseparator"," ":"tbspacer","->":"tbfill"}});Ext.define("Ext.AbstractPanel",{extend:"Ext.container.Container",requires:["Ext.util.MixedCollection","Ext.core.Element","Ext.toolbar.Toolbar"],baseCls:Ext.baseCSSPrefix+"panel",isPanel:true,componentLayout:"dock",renderTpl:['<div class="{baseCls}-body<tpl if="bodyCls"> {bodyCls}</tpl>"<tpl if="bodyStyle"> style="{bodyStyle}"</tpl>></div>'],initComponent:function(){this.addEvents("bodyresize");Ext.applyIf(this.renderSelectors,{body:"."+this.baseCls+"-body"});Ext.AbstractPanel.superclass.initComponent.call(this)},initItems:function(){Ext.AbstractPanel.superclass.initItems.call(this);var a=this.dockedItems;this.dockedItems=new Ext.util.MixedCollection(false,this.getComponentId);if(a){this.addDocked(a)}},getDockedComponent:function(a){if(Ext.isObject(a)){a=a.getItemId()}return this.dockedItems.get(a)},getComponent:function(a){var b=Ext.AbstractPanel.superclass.getComponent.call(this,a);if(b==undefined&&!Ext.isNumber(a)){b=this.getDockedComponent(a)}return b},initBodyStyles:function(){var a=Ext.isString(this.bodyStyle)?this.bodyStyle.split(";"):[],b=Ext.core.Element;if(this.bodyPadding!=undefined){a.push("padding: "+b.unitizeBox((this.bodyPadding===true)?5:this.bodyPadding))}if(this.bodyMargin!=undefined){a.push("margin: "+b.unitizeBox((this.bodyMargin===true)?5:this.bodyMargin))}if(this.bodyBorder!=undefined){a.push("border-width: "+b.unitizeBox((this.bodyBorder===true)?1:this.bodyBorder))}delete this.bodyStyle;return a.length?a.join(";"):undefined},initRenderData:function(){return Ext.applyIf(Ext.AbstractPanel.superclass.initRenderData.call(this),{bodyStyle:this.initBodyStyles(),bodyCls:this.bodyCls})},addDocked:function(a,g){var f=this,e,b,d;a=f.prepareItems(a);for(b=0,d=a.length;b<d;b++){e=a[b];e.dock=e.dock||"top";if(f.border===false){e.cls=e.cls||" "+f.baseCls+"-noborder-docked-"+e.dock}if(g!==undefined){f.dockedItems.insert(g+b,e)}else{f.dockedItems.add(e)}e.onAdded(f,b);f.onDockedAdd(e)}if(f.rendered){f.doComponentLayout()}return a},onDockedAdd:Ext.emptyFn,onDockedRemove:Ext.emptyFn,insertDocked:function(b,a){this.addDocked(a,b)},removeDocked:function(e,b){if(!this.dockedItems.contains(e)){return e}var d=this.componentLayout,a=d&&this.rendered;if(a){d.onRemove(e)}this.dockedItems.remove(e);e.onRemoved();this.onDockedRemove(e);if(b===true||(b!==false&&this.autoDestroy)){e.destroy()}if(a&&!b){d.afterRemove(e)}this.doComponentLayout();return e},getDockedItems:function(){if(this.dockedItems&&this.dockedItems.items.length){return this.dockedItems.items.slice()}return[]},getTargetEl:function(){return this.body},getRefItems:function(a){var g=Ext.AbstractPanel.superclass.getRefItems.call(this,a),d=this.getDockedItems(),f=d.length,b=0,e;g=g.concat(d);if(a){for(;b<f;b++){e=d[b];if(e.getRefItems){g=g.concat(e.getRefItems(true))}}}return g},beforeDestroy:function(){var b=this.dockedItems,a;if(b){while((a=b.first())){this.removeDocked(a,true)}}Ext.AbstractPanel.superclass.beforeDestroy.call(this)}});Ext.define("Ext.panel.Header",{extend:"Ext.container.Container",requires:["Ext.Component"],uses:["Ext.panel.Tool","Ext.draw.Component"],alias:"widget.header",isHeader:true,defaultType:"tool",indicateDrag:false,indicateDragCls:Ext.baseCSSPrefix+"window-draggable",renderTpl:['<div class="{baseCls}-body<tpl if="ui"> {baseCls}-body-{ui}</tpl>"<tpl if="bodyStyle"> style="{bodyStyle}"</tpl>></div>'],altRenderTpl:['<div class="{baseCls}-wrapper">','<div class="{baseCls}-tl">','<div class="{baseCls}-tr">','<div class="{baseCls}-tc"></div>',"</div>","</div>",'<div class="{baseCls}-ml">','<div class="{baseCls}-mr">','<div class="{baseCls}-mc"></div>',"</div>","</div>",'<div class="{baseCls}-bl">','<div class="{baseCls}-br">','<div class="{baseCls}-bc"></div>',"</div>","</div>","</div>"],initComponent:function(){var a=this;a.title=a.title||"&#160;";a.tools=a.tools||[];a.items=a.items||[];a.renderData.orientation=a.orientation;if(!Ext.supports.CSS3BorderRadius){a.renderTpl=a.altRenderTpl;Ext.applyIf(a.renderSelectors,{body:"."+a.baseCls+"-mc"})}else{Ext.applyIf(a.renderSelectors,{body:"."+a.baseCls+"-body"})}if(!Ext.isEmpty(a.iconCls)){a.initIconCmp();a.items.push(a.iconCmp)}if(a.orientation=="vertical"){a.layout={type:"vbox",align:"center",clearInnerCtOnLayout:true};a.titleCmp=new Ext.draw.Component({ariaRole:"heading",items:[{cls:a.cls+"-text",type:"text",text:a.title,rotate:{degrees:270}}],renderSelectors:{textEl:"."+a.baseCls+"-text"}})}else{a.layout={type:"hbox",align:"middle",clearInnerCtOnLayout:true};a.titleCmp=new Ext.Component({xtype:"component",ariaRole:"heading",renderTpl:['<span class="{cls}-text">{title}</span>'],renderData:{title:a.title,cls:a.baseCls},renderSelectors:{textEl:"."+a.baseCls+"-text"}})}a.items.push(a.titleCmp);a.items.push({xtype:"component",html:"&nbsp;",flex:1});a.items=a.items.concat(a.tools);Ext.panel.Header.superclass.initComponent.call(a)},initIconCmp:function(){this.iconCmp=new Ext.Component({renderTpl:['<img alt="" src="{blank}" class="{cls}-icon {iconCls}"/>'],renderData:{blank:Ext.BLANK_IMAGE_URL,cls:this.baseCls,iconCls:this.iconCls,orientation:this.orientation},renderSelectors:{iconEl:"."+this.baseCls+"-icon"},iconCls:this.iconCls})},afterRender:function(){this.el.unselectable();if(this.indicateDrag){this.el.addCls(this.indicateDragCls)}Ext.panel.Header.superclass.afterRender.call(this)},getTargetEl:function(){return this.body||this.frameBody||this.el},setTitle:function(a){this.title=a||"";this.titleCmp.textEl.update(this.title)},setIconClass:function(a){this.iconCls=a;if(!this.iconCmp){this.initIconCmp();this.insert(0,this.iconCmp)}else{if(!a||a==""){this.iconCmp.destroy()}else{var d=this.iconCmp,b=d.iconEl;b.removeCls(d.iconCls);b.addCls(a);d.iconCls=a}}},addTool:function(a){this.tools.push(a);this.add(a)}});Ext.define("Ext.util.KeyMap",{alternateClassName:"Ext.KeyMap",constructor:function(b,e,a){var d=this;Ext.apply(d,{el:Ext.get(b),eventName:a||d.eventName,bindings:[]});if(e){d.addBinding(e)}d.enable()},eventName:"keydown",addBinding:function(h){if(Ext.isArray(h)){Ext.each(h,this.addBinding,this);return}var g=h.key,j=false,e,f,b,d,a;if(Ext.isString(g)){f=[];b=g.toLowerCase();for(d=0,a=b.length;d<a;++d){f.push(b.charCodeAt(d))}g=f;j=true}if(!Ext.isArray(g)){g=[g]}if(!j){for(d=0,a=g.length;d<a;++d){e=g[d];if(Ext.isString(e)){g[d]=e.toLowerCase().charCodeAt(0)}}}this.bindings.push(Ext.apply({keyCode:g},h))},handleKeyDown:function(d){if(this.enabled){var e=this.bindings,b=0,a=e.length;d=this.processEvent(d);for(;b<a;++b){this.processBinding(e[b],d)}}},processEvent:function(a){return a},processBinding:function(f,a){if(this.checkModifiers(f,a)){var g=a.getKey(),j=f.fn||f.handler,k=f.scope||this,h=f.keyCode,b=f.defaultEventAction,d,e;for(d=0,e=h.length;d<e;++d){if(g===h[d]){if(b){a[b]()}j.call(k,g,a);break}}}},checkModifiers:function(j,g){var f=["shift","ctrl","alt"],d=0,a=f.length,h,b;for(;d<a;++d){b=f[d];h=j[b];if(!(h===undefined||(h===g[b+"Key"]))){return false}}return true},on:function(b,e,d){var h,a,f,g;if(Ext.isObject(b)&&!Ext.isArray(b)){h=b.key;a=b.shift;f=b.ctrl;g=b.alt}else{h=b}this.addBinding({key:h,shift:a,ctrl:f,alt:g,fn:e,scope:d})},isEnabled:function(){return this.enabled},enable:function(){if(!this.enabled){this.el.on(this.eventName,this.handleKeyDown,this);this.enabled=true}},disable:function(){if(this.enabled){this.el.removeListener(this.eventName,this.handleKeyDown,this);this.enabled=false}},setDisabled:function(a){if(a){this.disable()}else{this.enable()}},destroy:function(b){var a=this;a.bindings=[];a.disable();if(b===true){a.el.remove()}delete a.el}});Ext.define("Ext.dd.DragDropMgr",{singleton:true,requires:["Ext.util.Region"],uses:["Ext.tip.QuickTips"],alternateClassName:"Ext.dd.DDM",ids:{},handleIds:{},dragCurrent:null,dragOvers:{},deltaX:0,deltaY:0,preventDefault:true,stopPropagation:true,initialized:false,locked:false,init:function(){this.initialized=true},POINT:0,INTERSECT:1,mode:0,_execOnAll:function(d,b){for(var e in this.ids){for(var a in this.ids[e]){var f=this.ids[e][a];if(!this.isTypeOfDD(f)){continue}f[d].apply(f,b)}}},_onLoad:function(){this.init();var a=Ext.EventManager;a.on(document,"mouseup",this.handleMouseUp,this,true);a.on(document,"mousemove",this.handleMouseMove,this,true);a.on(window,"unload",this._onUnload,this,true);a.on(window,"resize",this._onResize,this,true)},_onResize:function(a){this._execOnAll("resetConstraints",[])},lock:function(){this.locked=true},unlock:function(){this.locked=false},isLocked:function(){return this.locked},locationCache:{},useCache:true,clickPixelThresh:3,clickTimeThresh:350,dragThreshMet:false,clickTimeout:null,startX:0,startY:0,regDragDrop:function(b,a){if(!this.initialized){this.init()}if(!this.ids[a]){this.ids[a]={}}this.ids[a][b.id]=b},removeDDFromGroup:function(d,a){if(!this.ids[a]){this.ids[a]={}}var b=this.ids[a];if(b&&b[d.id]){delete b[d.id]}},_remove:function(b){for(var a in b.groups){if(a&&this.ids[a]&&this.ids[a][b.id]){delete this.ids[a][b.id]}}delete this.handleIds[b.id]},regHandle:function(b,a){if(!this.handleIds[b]){this.handleIds[b]={}}this.handleIds[b][a]=a},isDragDrop:function(a){return(this.getDDById(a))?true:false},getRelated:function(g,b){var f=[];for(var e in g.groups){for(var d in this.ids[e]){var a=this.ids[e][d];if(!this.isTypeOfDD(a)){continue}if(!b||a.isTarget){f[f.length]=a}}}return f},isLegalTarget:function(f,e){var b=this.getRelated(f,true);for(var d=0,a=b.length;d<a;++d){if(b[d].id==e.id){return true}}return false},isTypeOfDD:function(a){return(a&&a.__ygDragDrop)},isHandle:function(b,a){return(this.handleIds[b]&&this.handleIds[b][a])},getDDById:function(b){for(var a in this.ids){if(this.ids[a][b]){return this.ids[a][b]}}return null},handleMouseDown:function(d,b){if(Ext.tip.QuickTips){Ext.tip.QuickTips.ddDisable()}if(this.dragCurrent){this.handleMouseUp(d)}this.currentTarget=d.getTarget();this.dragCurrent=b;var a=b.getEl();this.startX=d.getPageX();this.startY=d.getPageY();this.deltaX=this.startX-a.offsetLeft;this.deltaY=this.startY-a.offsetTop;this.dragThreshMet=false;this.clickTimeout=setTimeout(function(){var e=Ext.dd.DDM;e.startDrag(e.startX,e.startY)},this.clickTimeThresh)},startDrag:function(a,b){clearTimeout(this.clickTimeout);if(this.dragCurrent){this.dragCurrent.b4StartDrag(a,b);this.dragCurrent.startDrag(a,b)}this.dragThreshMet=true},handleMouseUp:function(a){if(Ext.tip.QuickTips){Ext.tip.QuickTips.ddEnable()}if(!this.dragCurrent){return}clearTimeout(this.clickTimeout);if(this.dragThreshMet){this.fireEvents(a,true)}else{}this.stopDrag(a);this.stopEvent(a)},stopEvent:function(a){if(this.stopPropagation){a.stopPropagation()}if(this.preventDefault){a.preventDefault()}},stopDrag:function(a){if(this.dragCurrent){if(this.dragThreshMet){this.dragCurrent.b4EndDrag(a);this.dragCurrent.endDrag(a)}this.dragCurrent.onMouseUp(a)}this.dragCurrent=null;this.dragOvers={}},handleMouseMove:function(d){if(!this.dragCurrent){return true}if(Ext.isIE&&(d.button!==0&&d.button!==1&&d.button!==2)){this.stopEvent(d);return this.handleMouseUp(d)}if(!this.dragThreshMet){var b=Math.abs(this.startX-d.getPageX());var a=Math.abs(this.startY-d.getPageY());if(b>this.clickPixelThresh||a>this.clickPixelThresh){this.startDrag(this.startX,this.startY)}}if(this.dragThreshMet){this.dragCurrent.b4Drag(d);this.dragCurrent.onDrag(d);if(!this.dragCurrent.moveOnly){this.fireEvents(d,false)}}this.stopEvent(d);return true},fireEvents:function(m,n){var p=this.dragCurrent;if(!p||p.isLocked()){return}var q=m.getPoint();var a=[];var f=[];var k=[];var h=[];var d=[];for(var g in this.dragOvers){var b=this.dragOvers[g];if(!this.isTypeOfDD(b)){continue}if(!this.isOverTarget(q,b,this.mode)){f.push(b)}a[g]=true;delete this.dragOvers[g]}for(var o in p.groups){if("string"!=typeof o){continue}for(g in this.ids[o]){var j=this.ids[o][g];if(!this.isTypeOfDD(j)){continue}if(j.isTarget&&!j.isLocked()&&((j!=p)||(p.ignoreSelf===false))){if(this.isOverTarget(q,j,this.mode)){if(n){h.push(j)}else{if(!a[j.id]){d.push(j)}else{k.push(j)}this.dragOvers[j.id]=j}}}}}if(this.mode){if(f.length){p.b4DragOut(m,f);p.onDragOut(m,f)}if(d.length){p.onDragEnter(m,d)}if(k.length){p.b4DragOver(m,k);p.onDragOver(m,k)}if(h.length){p.b4DragDrop(m,h);p.onDragDrop(m,h)}}else{var l=0;for(g=0,l=f.length;g<l;++g){p.b4DragOut(m,f[g].id);p.onDragOut(m,f[g].id)}for(g=0,l=d.length;g<l;++g){p.onDragEnter(m,d[g].id)}for(g=0,l=k.length;g<l;++g){p.b4DragOver(m,k[g].id);p.onDragOver(m,k[g].id)}for(g=0,l=h.length;g<l;++g){p.b4DragDrop(m,h[g].id);p.onDragDrop(m,h[g].id)}}if(n&&!h.length){p.onInvalidDrop(m)}},getBestMatch:function(d){var f=null;var b=d.length;if(b==1){f=d[0]}else{for(var e=0;e<b;++e){var a=d[e];if(a.cursorIsOver){f=a;break}else{if(!f||f.overlap.getArea()<a.overlap.getArea()){f=a}}}}return f},refreshCache:function(b){for(var a in b){if("string"!=typeof a){continue}for(var d in this.ids[a]){var e=this.ids[a][d];if(this.isTypeOfDD(e)){var f=this.getLocation(e);if(f){this.locationCache[e.id]=f}else{delete this.locationCache[e.id]}}}}},verifyEl:function(b){if(b){var a;if(Ext.isIE){try{a=b.offsetParent}catch(d){}}else{a=b.offsetParent}if(a){return true}}return false},getLocation:function(i){if(!this.isTypeOfDD(i)){return null}var g=i.getEl(),m,f,d,o,n,p,a,k,h;try{m=Ext.core.Element.getXY(g)}catch(j){}if(!m){return null}f=m[0];d=f+g.offsetWidth;o=m[1];n=o+g.offsetHeight;p=o-i.padding[0];a=d+i.padding[1];k=n+i.padding[2];h=f-i.padding[3];return new Ext.util.Region(p,a,k,h)},isOverTarget:function(j,a,d){var f=this.locationCache[a.id];if(!f||!this.useCache){f=this.getLocation(a);this.locationCache[a.id]=f}if(!f){return false}a.cursorIsOver=f.contains(j);var i=this.dragCurrent;if(!i||!i.getTargetCoord||(!d&&!i.constrainX&&!i.constrainY)){return a.cursorIsOver}a.overlap=null;var g=i.getTargetCoord(j.x,j.y);var b=i.getDragEl();var e=new Ext.util.Region(g.y,g.x+b.offsetWidth,g.y+b.offsetHeight,g.x);var h=e.intersect(f);if(h){a.overlap=h;return(d)?true:a.cursorIsOver}else{return false}},_onUnload:function(b,a){Ext.dd.DragDropMgr.unregAll()},unregAll:function(){if(this.dragCurrent){this.stopDrag();this.dragCurrent=null}this._execOnAll("unreg",[]);for(var a in this.elementCache){delete this.elementCache[a]}this.elementCache={};this.ids={}},elementCache:{},getElWrapper:function(b){var a=this.elementCache[b];if(!a||!a.el){a=this.elementCache[b]=new this.ElementWrapper(Ext.getDom(b))}return a},getElement:function(a){return Ext.getDom(a)},getCss:function(b){var a=Ext.getDom(b);return(a)?a.style:null},ElementWrapper:function(a){this.el=a||null;this.id=this.el&&a.id;this.css=this.el&&a.style},getPosX:function(a){return Ext.core.Element.getX(a)},getPosY:function(a){return Ext.core.Element.getY(a)},swapNode:function(d,a){if(d.swapNode){d.swapNode(a)}else{var e=a.parentNode;var b=a.nextSibling;if(b==d){e.insertBefore(d,a)}else{if(a==d.nextSibling){e.insertBefore(a,d)}else{d.parentNode.replaceChild(a,d);e.insertBefore(d,b)}}}},getScroll:function(){var d,a,e=document.documentElement,b=document.body;if(e&&(e.scrollTop||e.scrollLeft)){d=e.scrollTop;a=e.scrollLeft}else{if(b){d=b.scrollTop;a=b.scrollLeft}else{}}return{top:d,left:a}},getStyle:function(b,a){return Ext.fly(b).getStyle(a)},getScrollTop:function(){return this.getScroll().top},getScrollLeft:function(){return this.getScroll().left},moveToEl:function(a,d){var b=Ext.core.Element.getXY(d);Ext.core.Element.setXY(a,b)},numericSort:function(e,d){return(e-d)},_timeoutCount:0,_addListeners:function(){if(document){this._onLoad()}else{if(this._timeoutCount>2000){}else{setTimeout(this._addListeners,10);if(document&&document.body){this._timeoutCount+=1}}}},handleWasClicked:function(a,d){if(this.isHandle(d,a.id)){return true}else{var b=a.parentNode;while(b){if(this.isHandle(d,b.id)){return true}else{b=b.parentNode}}}return false}},function(){this._addListeners()});Ext.define("Ext.dd.DragDrop",{requires:["Ext.dd.DragDropMgr"],constructor:function(d,a,b){if(d){this.init(d,a,b)}},id:null,config:null,dragElId:null,handleElId:null,invalidHandleTypes:null,invalidHandleIds:null,invalidHandleClasses:null,startPageX:0,startPageY:0,groups:null,locked:false,lock:function(){this.locked=true},moveOnly:false,unlock:function(){this.locked=false},isTarget:true,padding:null,_domRef:null,__ygDragDrop:true,constrainX:false,constrainY:false,minX:0,maxX:0,minY:0,maxY:0,maintainOffset:false,xTicks:null,yTicks:null,primaryButtonOnly:true,available:false,hasOuterHandles:false,b4StartDrag:function(a,b){},startDrag:function(a,b){},b4Drag:function(a){},onDrag:function(a){},onDragEnter:function(a,b){},b4DragOver:function(a){},onDragOver:function(a,b){},b4DragOut:function(a){},onDragOut:function(a,b){},b4DragDrop:function(a){},onDragDrop:function(a,b){},onInvalidDrop:function(a){},b4EndDrag:function(a){},endDrag:function(a){},b4MouseDown:function(a){},onMouseDown:function(a){},onMouseUp:function(a){},onAvailable:function(){},defaultPadding:{left:0,right:0,top:0,bottom:0},constrainTo:function(h,f,m){if(Ext.isNumber(f)){f={left:f,right:f,top:f,bottom:f}}f=f||this.defaultPadding;var j=Ext.get(this.getEl()).getBox(),a=Ext.get(h),l=a.getScroll(),i,d=a.dom;if(d==document.body){i={x:l.left,y:l.top,width:Ext.core.Element.getViewWidth(),height:Ext.core.Element.getViewHeight()}}else{var k=a.getXY();i={x:k[0],y:k[1],width:d.clientWidth,height:d.clientHeight}}var g=j.y-i.y,e=j.x-i.x;this.resetConstraints();this.setXConstraint(e-(f.left||0),i.width-e-j.width-(f.right||0),this.xTickSize);this.setYConstraint(g-(f.top||0),i.height-g-j.height-(f.bottom||0),this.yTickSize)},getEl:function(){if(!this._domRef){this._domRef=Ext.getDom(this.id)}return this._domRef},getDragEl:function(){return Ext.getDom(this.dragElId)},init:function(d,a,b){this.initTarget(d,a,b);Ext.EventManager.on(this.id,"mousedown",this.handleMouseDown,this)},initTarget:function(d,a,b){this.config=b||{};this.DDMInstance=Ext.dd.DragDropMgr;this.groups={};if(typeof d!=="string"){d=Ext.id(d)}this.id=d;this.addToGroup((a)?a:"default");this.handleElId=d;this.setDragElId(d);this.invalidHandleTypes={A:"A"};this.invalidHandleIds={};this.invalidHandleClasses=[];this.applyConfig();this.handleOnAvailable()},applyConfig:function(){this.padding=this.config.padding||[0,0,0,0];this.isTarget=(this.config.isTarget!==false);this.maintainOffset=(this.config.maintainOffset);this.primaryButtonOnly=(this.config.primaryButtonOnly!==false)},handleOnAvailable:function(){this.available=true;this.resetConstraints();this.onAvailable()},setPadding:function(d,a,e,b){if(!a&&0!==a){this.padding=[d,d,d,d]}else{if(!e&&0!==e){this.padding=[d,a,d,a]}else{this.padding=[d,a,e,b]}}},setInitPosition:function(e,d){var f=this.getEl();if(!this.DDMInstance.verifyEl(f)){return}var b=e||0;var a=d||0;var g=Ext.core.Element.getXY(f);this.initPageX=g[0]-b;this.initPageY=g[1]-a;this.lastPageX=g[0];this.lastPageY=g[1];this.setStartPosition(g)},setStartPosition:function(b){var a=b||Ext.core.Element.getXY(this.getEl());this.deltaSetXY=null;this.startPageX=a[0];this.startPageY=a[1]},addToGroup:function(a){this.groups[a]=true;this.DDMInstance.regDragDrop(this,a)},removeFromGroup:function(a){if(this.groups[a]){delete this.groups[a]}this.DDMInstance.removeDDFromGroup(this,a)},setDragElId:function(a){this.dragElId=a},setHandleElId:function(a){if(typeof a!=="string"){a=Ext.id(a)}this.handleElId=a;this.DDMInstance.regHandle(this.id,a)},setOuterHandleElId:function(a){if(typeof a!=="string"){a=Ext.id(a)}Ext.EventManager.on(a,"mousedown",this.handleMouseDown,this);this.setHandleElId(a);this.hasOuterHandles=true},unreg:function(){Ext.EventManager.un(this.id,"mousedown",this.handleMouseDown,this);this._domRef=null;this.DDMInstance._remove(this)},destroy:function(){this.unreg()},isLocked:function(){return(this.DDMInstance.isLocked()||this.locked)},handleMouseDown:function(d,b){if(this.primaryButtonOnly&&d.button!=0){return}if(this.isLocked()){return}this.DDMInstance.refreshCache(this.groups);var a=d.getPoint();if(!this.hasOuterHandles&&!this.DDMInstance.isOverTarget(a,this)){}else{if(this.clickValidator(d)){this.setStartPosition();this.b4MouseDown(d);this.onMouseDown(d);this.DDMInstance.handleMouseDown(d,this);this.DDMInstance.stopEvent(d)}else{}}},clickValidator:function(b){var a=b.getTarget();return(this.isValidHandleChild(a)&&(this.id==this.handleElId||this.DDMInstance.handleWasClicked(a,this.id)))},addInvalidHandleType:function(a){var b=a.toUpperCase();this.invalidHandleTypes[b]=b},addInvalidHandleId:function(a){if(typeof a!=="string"){a=Ext.id(a)}this.invalidHandleIds[a]=a},addInvalidHandleClass:function(a){this.invalidHandleClasses.push(a)},removeInvalidHandleType:function(a){var b=a.toUpperCase();delete this.invalidHandleTypes[b]},removeInvalidHandleId:function(a){if(typeof a!=="string"){a=Ext.id(a)}delete this.invalidHandleIds[a]},removeInvalidHandleClass:function(b){for(var d=0,a=this.invalidHandleClasses.length;d<a;++d){if(this.invalidHandleClasses[d]==b){delete this.invalidHandleClasses[d]}}},isValidHandleChild:function(f){var d=true;var h;try{h=f.nodeName.toUpperCase()}catch(g){h=f.nodeName}d=d&&!this.invalidHandleTypes[h];d=d&&!this.invalidHandleIds[f.id];for(var b=0,a=this.invalidHandleClasses.length;d&&b<a;++b){d=!Ext.fly(f).hasCls(this.invalidHandleClasses[b])}return d},setXTicks:function(e,a){this.xTicks=[];this.xTickSize=a;var d={};for(var b=this.initPageX;b>=this.minX;b=b-a){if(!d[b]){this.xTicks[this.xTicks.length]=b;d[b]=true}}for(b=this.initPageX;b<=this.maxX;b=b+a){if(!d[b]){this.xTicks[this.xTicks.length]=b;d[b]=true}}this.xTicks.sort(this.DDMInstance.numericSort)},setYTicks:function(e,a){this.yTicks=[];this.yTickSize=a;var d={};for(var b=this.initPageY;b>=this.minY;b=b-a){if(!d[b]){this.yTicks[this.yTicks.length]=b;d[b]=true}}for(b=this.initPageY;b<=this.maxY;b=b+a){if(!d[b]){this.yTicks[this.yTicks.length]=b;d[b]=true}}this.yTicks.sort(this.DDMInstance.numericSort)},setXConstraint:function(d,b,a){this.leftConstraint=d;this.rightConstraint=b;this.minX=this.initPageX-d;this.maxX=this.initPageX+b;if(a){this.setXTicks(this.initPageX,a)}this.constrainX=true},clearConstraints:function(){this.constrainX=false;this.constrainY=false;this.clearTicks()},clearTicks:function(){this.xTicks=null;this.yTicks=null;this.xTickSize=0;this.yTickSize=0},setYConstraint:function(a,d,b){this.topConstraint=a;this.bottomConstraint=d;this.minY=this.initPageY-a;this.maxY=this.initPageY+d;if(b){this.setYTicks(this.initPageY,b)}this.constrainY=true},resetConstraints:function(){if(this.initPageX||this.initPageX===0){var b=(this.maintainOffset)?this.lastPageX-this.initPageX:0;var a=(this.maintainOffset)?this.lastPageY-this.initPageY:0;this.setInitPosition(b,a)}else{this.setInitPosition()}if(this.constrainX){this.setXConstraint(this.leftConstraint,this.rightConstraint,this.xTickSize)}if(this.constrainY){this.setYConstraint(this.topConstraint,this.bottomConstraint,this.yTickSize)}},getTick:function(h,e){if(!e){return h}else{if(e[0]>=h){return e[0]}else{for(var b=0,a=e.length;b<a;++b){var d=b+1;if(e[d]&&e[d]>=h){var g=h-e[b];var f=e[d]-h;return(f>g)?e[b]:e[d]}}return e[e.length-1]}}},toString:function(){return("DragDrop "+this.id)}});Ext.define("Ext.dd.DD",{extend:"Ext.dd.DragDrop",requires:["Ext.dd.DragDropMgr"],constructor:function(d,a,b){if(d){this.init(d,a,b)}},scroll:true,autoOffset:function(d,b){var a=d-this.startPageX;var e=b-this.startPageY;this.setDelta(a,e)},setDelta:function(b,a){this.deltaX=b;this.deltaY=a},setDragElPos:function(d,b){var a=this.getDragEl();this.alignElWithMouse(a,d,b)},alignElWithMouse:function(d,h,g){var f=this.getTargetCoord(h,g);var b=d.dom?d:Ext.fly(d,"_dd");if(!this.deltaSetXY){var i=[f.x,f.y];b.setXY(i);var e=b.getLeft(true);var a=b.getTop(true);this.deltaSetXY=[e-f.x,a-f.y]}else{b.setLeftTop(f.x+this.deltaSetXY[0],f.y+this.deltaSetXY[1])}this.cachePosition(f.x,f.y);this.autoScroll(f.x,f.y,d.offsetHeight,d.offsetWidth);return f},cachePosition:function(b,a){if(b){this.lastPageX=b;this.lastPageY=a}else{var d=Ext.core.Element.getXY(this.getEl());this.lastPageX=d[0];this.lastPageY=d[1]}},autoScroll:function(l,k,f,m){if(this.scroll){var n=Ext.core.Element.getViewHeight();var b=Ext.core.Element.getViewWidth();var p=this.DDMInstance.getScrollTop();var e=this.DDMInstance.getScrollLeft();var j=f+k;var o=m+l;var i=(n+p-k-this.deltaY);var g=(b+e-l-this.deltaX);var d=40;var a=(document.all)?80:30;if(j>n&&i<d){window.scrollTo(e,p+a)}if(k<p&&p>0&&k-p<d){window.scrollTo(e,p-a)}if(o>b&&g<d){window.scrollTo(e+a,p)}if(l<e&&e>0&&l-e<d){window.scrollTo(e-a,p)}}},getTargetCoord:function(d,b){var a=d-this.deltaX;var e=b-this.deltaY;if(this.constrainX){if(a<this.minX){a=this.minX}if(a>this.maxX){a=this.maxX}}if(this.constrainY){if(e<this.minY){e=this.minY}if(e>this.maxY){e=this.maxY}}a=this.getTick(a,this.xTicks);e=this.getTick(e,this.yTicks);return{x:a,y:e}},applyConfig:function(){Ext.dd.DD.superclass.applyConfig.call(this);this.scroll=(this.config.scroll!==false)},b4MouseDown:function(a){this.autoOffset(a.getPageX(),a.getPageY())},b4Drag:function(a){this.setDragElPos(a.getPageX(),a.getPageY())},toString:function(){return("DD "+this.id)}});Ext.define("Ext.dd.DDProxy",{extend:"Ext.dd.DD",statics:{dragElId:"ygddfdiv"},constructor:function(d,a,b){if(d){this.init(d,a,b);this.initFrame()}},resizeFrame:true,centerFrame:false,createFrame:function(){var b=this;var a=document.body;if(!a||!a.firstChild){setTimeout(function(){b.createFrame()},50);return}var e=this.getDragEl();if(!e){e=document.createElement("div");e.id=this.dragElId;var d=e.style;d.position="absolute";d.visibility="hidden";d.cursor="move";d.border="2px solid #aaa";d.zIndex=999;a.insertBefore(e,a.firstChild)}},initFrame:function(){this.createFrame()},applyConfig:function(){Ext.dd.DDProxy.superclass.applyConfig.call(this);this.resizeFrame=(this.config.resizeFrame!==false);this.centerFrame=(this.config.centerFrame);this.setDragElId(this.config.dragElId||Ext.dd.DDProxy.dragElId)},showFrame:function(f,e){var d=this.getEl();var a=this.getDragEl();var b=a.style;this._resizeProxy();if(this.centerFrame){this.setDelta(Math.round(parseInt(b.width,10)/2),Math.round(parseInt(b.height,10)/2))}this.setDragElPos(f,e);Ext.fly(a).show()},_resizeProxy:function(){if(this.resizeFrame){var a=this.getEl();Ext.fly(this.getDragEl()).setSize(a.offsetWidth,a.offsetHeight)}},b4MouseDown:function(b){var a=b.getPageX();var d=b.getPageY();this.autoOffset(a,d);this.setDragElPos(a,d)},b4StartDrag:function(a,b){this.showFrame(a,b)},b4EndDrag:function(a){Ext.fly(this.getDragEl()).hide()},endDrag:function(d){var b=this.getEl();var a=this.getDragEl();a.style.visibility="";this.beforeMove();b.style.visibility="hidden";Ext.dd.DDM.moveToEl(b,a);a.style.visibility="hidden";b.style.visibility="";this.afterDrag()},beforeMove:function(){},afterDrag:function(){},toString:function(){return("DDProxy "+this.id)}});Ext.define("Ext.dd.StatusProxy",{animRepair:false,constructor:function(a){Ext.apply(this,a);this.id=this.id||Ext.id();this.el=new Ext.Layer({dh:{id:this.id,tag:"div",cls:Ext.baseCSSPrefix+"dd-drag-proxy "+this.dropNotAllowed,children:[{tag:"div",cls:Ext.baseCSSPrefix+"dd-drop-icon"},{tag:"div",cls:Ext.baseCSSPrefix+"dd-drag-ghost"}]},shadow:!a||a.shadow!==false});this.ghost=Ext.get(this.el.dom.childNodes[1]);this.dropStatus=this.dropNotAllowed},dropAllowed:Ext.baseCSSPrefix+"dd-drop-ok",dropNotAllowed:Ext.baseCSSPrefix+"dd-drop-nodrop",setStatus:function(a){a=a||this.dropNotAllowed;if(this.dropStatus!=a){this.el.replaceCls(this.dropStatus,a);this.dropStatus=a}},reset:function(a){this.el.dom.className=Ext.baseCSSPrefix+"dd-drag-proxy "+this.dropNotAllowed;this.dropStatus=this.dropNotAllowed;if(a){this.ghost.update("")}},update:function(a){if(typeof a=="string"){this.ghost.update(a)}else{this.ghost.update("");a.style.margin="0";this.ghost.dom.appendChild(a)}var b=this.ghost.dom.firstChild;if(b){Ext.fly(b).setStyle("float","none")}},getEl:function(){return this.el},getGhost:function(){return this.ghost},hide:function(a){this.el.hide();if(a){this.reset(true)}},stop:function(){if(this.anim&&this.anim.isAnimated&&this.anim.isAnimated()){this.anim.stop()}},show:function(){this.el.show()},sync:function(){this.el.sync()},repair:function(b,d,a){this.callback=d;this.scope=a;if(b&&this.animRepair!==false){this.el.addCls(Ext.baseCSSPrefix+"dd-drag-repair");this.el.hideUnders(true);this.anim=this.el.shift({duration:this.repairDuration||0.5,easing:"easeOut",xy:b,stopFx:true,callback:this.afterRepair,scope:this})}else{this.afterRepair()}},afterRepair:function(){this.hide(true);if(typeof this.callback=="function"){this.callback.call(this.scope||this)}this.callback=null;this.scope=null},destroy:function(){Ext.destroy(this.ghost,this.el)}});Ext.define("Ext.dd.DragSource",{extend:"Ext.dd.DDProxy",requires:["Ext.dd.StatusProxy","Ext.dd.DragDropMgr"],constructor:function(b,a){this.el=Ext.get(b);if(!this.dragData){this.dragData={}}Ext.apply(this,a);if(!this.proxy){this.proxy=new Ext.dd.StatusProxy()}Ext.dd.DragSource.superclass.constructor.call(this,this.el.dom,this.ddGroup||this.group,{dragElId:this.proxy.id,resizeFrame:false,isTarget:false,scroll:this.scroll===true});this.dragging=false},dropAllowed:Ext.baseCSSPrefix+"dd-drop-ok",dropNotAllowed:Ext.baseCSSPrefix+"dd-drop-nodrop",getDragData:function(a){return this.dragData},onDragEnter:function(d,f){var b=Ext.dd.DragDropMgr.getDDById(f);this.cachedTarget=b;if(this.beforeDragEnter(b,d,f)!==false){if(b.isNotifyTarget){var a=b.notifyEnter(this,d,this.dragData);this.proxy.setStatus(a)}else{this.proxy.setStatus(this.dropAllowed)}if(this.afterDragEnter){this.afterDragEnter(b,d,f)}}},beforeDragEnter:function(b,a,d){return true},alignElWithMouse:function(){Ext.dd.DragSource.superclass.alignElWithMouse.apply(this,arguments);this.proxy.sync()},onDragOver:function(d,f){var b=this.cachedTarget||Ext.dd.DragDropMgr.getDDById(f);if(this.beforeDragOver(b,d,f)!==false){if(b.isNotifyTarget){var a=b.notifyOver(this,d,this.dragData);this.proxy.setStatus(a)}if(this.afterDragOver){this.afterDragOver(b,d,f)}}},beforeDragOver:function(b,a,d){return true},onDragOut:function(b,d){var a=this.cachedTarget||Ext.dd.DragDropMgr.getDDById(d);if(this.beforeDragOut(a,b,d)!==false){if(a.isNotifyTarget){a.notifyOut(this,b,this.dragData)}this.proxy.reset();if(this.afterDragOut){this.afterDragOut(a,b,d)}}this.cachedTarget=null},beforeDragOut:function(b,a,d){return true},onDragDrop:function(b,d){var a=this.cachedTarget||Ext.dd.DragDropMgr.getDDById(d);if(this.beforeDragDrop(a,b,d)!==false){if(a.isNotifyTarget){if(a.notifyDrop(this,b,this.dragData)){this.onValidDrop(a,b,d)}else{this.onInvalidDrop(a,b,d)}}else{this.onValidDrop(a,b,d)}if(this.afterDragDrop){this.afterDragDrop(a,b,d)}}delete this.cachedTarget},beforeDragDrop:function(b,a,d){return true},onValidDrop:function(b,a,d){this.hideProxy();if(this.afterValidDrop){this.afterValidDrop(b,a,d)}},getRepairXY:function(b,a){return this.el.getXY()},onInvalidDrop:function(b,a,d){this.beforeInvalidDrop(b,a,d);if(this.cachedTarget){if(this.cachedTarget.isNotifyTarget){this.cachedTarget.notifyOut(this,a,this.dragData)}this.cacheTarget=null}this.proxy.repair(this.getRepairXY(a,this.dragData),this.afterRepair,this);if(this.afterInvalidDrop){this.afterInvalidDrop(a,d)}},afterRepair:function(){if(Ext.enableFx){this.el.highlight(this.hlColor||"c3daf9")}this.dragging=false},beforeInvalidDrop:function(b,a,d){return true},handleMouseDown:function(b){if(this.dragging){return}var a=this.getDragData(b);if(a&&this.onBeforeDrag(a,b)!==false){this.dragData=a;this.proxy.stop();Ext.dd.DragSource.superclass.handleMouseDown.apply(this,arguments)}},onBeforeDrag:function(a,b){return true},onStartDrag:Ext.emptyFn,startDrag:function(a,b){this.proxy.reset();this.dragging=true;this.proxy.update("");this.onInitDrag(a,b);this.proxy.show()},onInitDrag:function(a,d){var b=this.el.dom.cloneNode(true);b.id=Ext.id();this.proxy.update(b);this.onStartDrag(a,d);return true},getProxy:function(){return this.proxy},hideProxy:function(){this.proxy.hide();this.proxy.reset(true);this.dragging=false},triggerCacheRefresh:function(){Ext.dd.DDM.refreshCache(this.groups)},b4EndDrag:function(a){},endDrag:function(a){this.onEndDrag(this.dragData,a)},onEndDrag:function(a,b){},autoOffset:function(a,b){this.setDelta(-12,-20)},destroy:function(){Ext.dd.DragSource.superclass.destroy.call(this);Ext.destroy(this.proxy)}});Ext.define("Ext.panel.Proxy",{constructor:function(a,b){this.panel=a;this.id=this.panel.id+"-ddproxy";Ext.apply(this,b)},insertProxy:true,setStatus:Ext.emptyFn,reset:Ext.emptyFn,update:Ext.emptyFn,stop:Ext.emptyFn,sync:Ext.emptyFn,getEl:function(){return this.ghost.el},getGhost:function(){return this.ghost},getProxy:function(){return this.proxy},hide:function(){if(this.ghost){if(this.proxy){this.proxy.remove();delete this.proxy}this.panel.unghost(null,false);delete this.ghost}},show:function(){if(!this.ghost){var a=this.panel.getSize();this.panel.el.setVisibilityMode(Ext.core.Element.DISPLAY);this.ghost=this.panel.ghost();if(this.insertProxy){this.proxy=this.panel.el.insertSibling({cls:Ext.baseCSSPrefix+"panel-dd-spacer"});this.proxy.setSize(a)}}},repair:function(b,d,a){this.hide();if(typeof d=="function"){d.call(a||this)}},moveProxy:function(a,b){if(this.proxy){a.insertBefore(this.proxy.dom,b)}}});Ext.define("Ext.panel.DD",{extend:"Ext.dd.DragSource",requires:["Ext.panel.Proxy"],constructor:function(b,a){this.panel=b;this.dragData={panel:b};this.proxy=new Ext.panel.Proxy(b,a);Ext.panel.DD.superclass.constructor.call(this,b.el,a);Ext.defer(function(){var e=b.header,d=b.body;if(e){this.setHandleElId(e.id);d=e.el}d.setStyle("cursor","move");this.scroll=false},200,this)},showFrame:Ext.emptyFn,startDrag:Ext.emptyFn,b4StartDrag:function(a,b){this.proxy.show()},b4MouseDown:function(b){var a=b.getPageX(),d=b.getPageY();this.autoOffset(a,d)},onInitDrag:function(a,b){this.onStartDrag(a,b);return true},createFrame:Ext.emptyFn,getDragEl:function(a){return this.proxy.ghost.el.dom},endDrag:function(a){this.proxy.hide();this.panel.saveState()},autoOffset:function(a,b){a-=this.startPageX;b-=this.startPageY;this.setDelta(a,b)}});Ext.define("Ext.layout.component.AbstractDock",{extend:"Ext.layout.Component",type:"dock",itemCls:Ext.baseCSSPrefix+"docked",onLayout:function(a,l){var i=this,b=i.owner,g=b.body,f=b.layout,h=i.getTarget(),j=false,k=false,e;var d=i.info={boxes:[],size:{width:a,height:l},bodyBox:{}};Ext.applyIf(d,i.getTargetInfo());if(l===undefined||l===null||a===undefined||a===null){if((l===undefined||l===null)&&(a===undefined||a===null)){k=true;j=true;i.setTargetSize(null,null);i.setBodyBox({width:undefined,height:undefined})}else{if(l===undefined||l===null){k=true;i.setTargetSize(a,null);i.setBodyBox({width:a,height:undefined})}else{j=true;i.setTargetSize(null,l);i.setBodyBox({width:undefined,height:l})}}if(f&&f.isLayout){f.bindToOwnerCtComponent=true;f.layout()}i.dockItems(j,k);i.setTargetSize(d.size.width,d.size.height)}else{i.setTargetSize(a,l);i.dockItems()}i.parent(arguments)},dockItems:function(h,a){this.calculateDockBoxes(h,a);var g=this.info,d=g.boxes,f=d.length,e,b;for(b=0;b<f;b++){e=d[b];e.item.setPosition(e.x,e.y);if((h||a)&&e.layout&&e.layout.isLayout){e.layout.bindToOwnerCtComponent=true}}if(h){g.bodyBox.width=null}if(a){g.bodyBox.height=null}this.setBodyBox(g.bodyBox)},calculateDockBoxes:function(n,r){var A=this,B=A.getTarget(),m=A.getLayoutItems(),a=A.owner,b=a.contracted,p=a.expanded,g=a.body,u=A.info,l=u.size,d=m.length,j=u.padding,o=u.border,q=A.frameSize,v,s,e,f,t,z,k;if(r){l.height=g.getHeight()+j.top+o.top+j.bottom+o.bottom}else{l.height=B.getHeight()}if(n){l.width=g.getWidth()+j.left+o.left+j.right+o.right}else{l.width=B.getWidth()}u.bodyBox={x:j.left+q.left,y:j.top+q.top,width:l.width-j.left-o.left-j.right-o.right-q.left-q.right,height:l.height-o.top-j.top-o.bottom-j.bottom-q.top-q.bottom};for(s=0;s<d;s++){v=m[s];e=A.initBox(v);if(r===true){e=A.adjustAutoBox(e,s)}else{e=A.adjustSizedBox(e,s)}u.boxes.push(e)}},adjustSizedBox:function(d,b){var a=this.info.bodyBox;switch(d.type){case"top":d.y=a.y;break;case"left":d.x=a.x;break;case"bottom":d.y=(a.y+a.height)-d.height;break;case"right":d.x=(a.x+a.width)-d.width;break}if(!d.overlay){switch(d.type){case"top":a.y+=d.height;a.height-=d.height;break;case"left":a.x+=d.width;a.width-=d.width;break;case"bottom":a.height-=d.height;break;case"right":a.width-=d.width;break}}return d},adjustAutoBox:function(d,g){var a=this.info,h=a.bodyBox,k=a.size,e=a.boxes,j=d.type,b,f;if(j=="top"||j=="bottom"){for(b=0;b<g;b++){f=e[b];if(f.stretched&&f.type=="left"||f.type=="right"){f.height+=d.height}else{if(f.type=="bottom"){f.y+=d.height}}}}switch(j){case"top":d.y=h.y;if(!d.overlay){h.y+=d.height}k.height+=d.height;break;case"bottom":d.y=(h.y+h.height);k.height+=d.height;break;case"left":d.x=h.x;if(!d.overlay){h.x+=d.width;h.width-=d.width}break;case"right":if(!d.overlay){h.width-=d.width}d.x=(h.x+h.width);break}return d},initBox:function(e){var b=this.info.bodyBox,a=(e.dock=="top"||e.dock=="bottom"),d={item:e,overlay:e.overlay,type:e.dock,offsets:Ext.core.Element.parseBox(e.offsets||{})};if(e.stretch!==false){d.stretched=true;if(a){d.x=b.x+d.offsets.left;d.width=b.width-(d.offsets.left+d.offsets.right);e.setCalculatedSize(d.width-e.el.getMargin("lr"),undefined,this.owner)}else{d.y=b.y+d.offsets.top;d.height=b.height-(d.offsets.bottom+d.offsets.top);e.setCalculatedSize(undefined,d.height-e.el.getMargin("tb"),this.owner);if(!Ext.supports.ComputedStyle){e.el.repaint()}}}else{e.doComponentLayout();d.width=e.getWidth()-(d.offsets.left+d.offsets.right);d.height=e.getHeight()-(d.offsets.bottom+d.offsets.top);d.y+=d.offsets.top;if(a){d.x=(e.align=="right")?b.width-d.width:b.x;d.x+=d.offsets.left}}if(d.width==undefined){d.width=e.getWidth()+e.el.getMargin("lr")}if(d.height==undefined){d.height=e.getHeight()+e.el.getMargin("tb")}return d},getLayoutItems:function(){var d=this.owner.getDockedItems(),e=d.length,b=0,a=[];for(;b<e;b++){if(d[b].isVisible()){a.push(d[b])}}return a},setBodyBox:function(g){var i=this,a=i.owner,h=a.body,b=i.info,f=b.bodyMargin,j=b.padding,e=b.border,d=i.frameSize;if(a.collapsed){return}if(Ext.isNumber(g.width)){g.width-=f.left+f.right}if(Ext.isNumber(g.height)){g.height-=f.top+f.bottom}i.setElementSize(h,g.width,g.height);if(Ext.isNumber(g.x)){h.setLeft(g.x-j.left-d.left)}if(Ext.isNumber(g.y)){h.setTop(g.y-j.top-d.top)}},configureItem:function(b,d){this.parent(arguments);var a=b.el||Ext.get(b);if(this.itemCls){a.addCls(this.itemCls+"-"+b.dock)}},afterRemove:function(a){this.parent(arguments);if(this.itemCls){a.el.removeCls(this.itemCls+"-"+a.dock)}var b=a.el.dom;if(b){b.parentNode.removeChild(b)}this.childrenChanged=true}});Ext.define("Ext.layout.component.Dock",{alias:["layout.dock"],extend:"Ext.layout.component.AbstractDock"});Ext.define("Ext.panel.Panel",{extend:"Ext.AbstractPanel",requires:["Ext.panel.Header","Ext.fx.Anim","Ext.util.KeyMap","Ext.panel.DD","Ext.XTemplate","Ext.layout.component.Dock"],alias:"widget.panel",alternateClassName:"Ext.Panel",animCollapse:Ext.enableFx,collapsed:false,collapseFirst:true,hideCollapseTool:false,titleCollapse:true,floatable:true,collapsible:false,preventHeader:false,frame:false,renderTpl:['<div class="{baseCls}-body<tpl if="bodyCls"> {bodyCls}</tpl><tpl if="frame"> {baseCls}-body-framed</tpl><tpl if="ui"> {baseCls}-body-{ui}</tpl>"<tpl if="bodyStyle"> style="{bodyStyle}"</tpl>></div>'],initComponent:function(){var b=this,a;b.parent();if(b.unstyled){b.baseCls=b.baseCSSPrefix+"plain"}b.collapsedCls=b.collapsedCls||b.baseCls+"-collapsed";b.tools=b.tools||[];b.bridgeToolbars();if(b.border===false){b.hideBorders()}},hideBorders:function(){var b=this,a=b.baseCls+"-noborder";b.addCls(a);if(b.rendered){b.body.addCls(a+"-body")}else{b.renderData.bodyCls=b.renderData.bodyCls||""+(" "+a+"-body")}},showBorders:function(){var b=this,a=b.baseCls+"-noborder";b.removeCls(a);if(b.rendered){b.body.removeCls(a+"-body")}else{b.renderData.bodyCls=b.renderData.bodyCls.replace(a+"-body","")}},beforeDestroy:function(){Ext.destroy(this.ghostPanel);this.parent()},initAria:function(){Ext.panel.Panel.superclass.initAria.call(this);this.initHeaderAria()},initHeaderAria:function(){var b=this,a=b.el,d=b.header;if(a&&d){a.dom.setAttribute("aria-labelledby",d.titleCmp.id)}},setTitle:function(a){this.title=a;if(this.header){this.header.setTitle(a)}this.updateHeader()},setIconClass:function(a){this.iconCls=a;var b=this.header;if(b){b.setIconClass(a)}},bridgeToolbars:function(){var a=this,b,d=function(e,f){if(Ext.isArray(e)){e={xtype:"toolbar",items:e}}else{if(!e.xtype){e.xtype="toolbar"}}e.dock=f;return e};if(a.tbar){a.addDocked(d(a.tbar,"top"));a.tbar=null}if(a.bbar){a.addDocked(d(a.bbar,"bottom"));a.bbar=null}if(a.buttons){a.fbar=a.buttons;a.buttons=null}if(a.fbar){b=d(a.fbar,"bottom");b.ui="footer";b=a.addDocked(b)[0];b.insert(0,{flex:1,xtype:"component"});a.fbar=null}},onRender:function(b,a){var d=this;if(d.collapsible&&!(d.hideCollapseTool||this.header===false)){this.collapseTool=this.expandTool=d.createComponent({xtype:"tool",type:"collapse-"+this.collapseDirection,expandType:this.getOppositeDirection(this.collapseDirection),handler:d.toggleCollapse,scope:d});if(d.tools.length&&d.collapseFirst){d.tools.unshift(this.collapseTool)}else{d.tools.push(this.collapseTool)}}d.updateHeader();d.parent(arguments)},updateHeader:function(){var a=this,e=a.header,d=a.title,b=a.tools;if(!a.preventHeader&&(d||b.length)){if(!e){e=a.header=new Ext.panel.Header({title:d,dock:"top",textCls:a.headerTextCls,iconCls:a.iconCls,baseCls:a.baseCls+"-header",tools:b,ui:a.ui,indicateDrag:a.draggable});a.addDocked(e,0)}e.show();this.initHeaderAria()}else{if(e){e.hide()}}},getContentTarget:function(){return this.body},getTargetEl:function(){return this.body||this.frameBody||this.el},addTool:function(a){this.tools.push(a);var b=this.header;if(b){b.addTool(a)}this.updateHeader()},getOppositeDirection:function(a){var b=Ext.Component;switch(a){case b.DIRECTION_UP:return b.DIRECTION_DOWN;case b.DIRECTION_RIGHT:return b.DIRECTION_LEFT;case b.DIRECTION_DOWN:return b.DIRECTION_UP;case b.DIRECTION_LEFT:return b.DIRECTION_RIGHT}},collapse:function(s,e){var t=this,r=Ext.Component,h=t.getHeight(),j=t.getWidth(),a=0,o=t.dockedItems.items,p=o.length,n=0,q,f,m={target:t,from:{height:h,width:j},to:{height:h,width:j},listeners:{afteranimate:t.afterCollapse,scope:t},duration:Ext.num(e,Ext.fx.Anim.prototype.duration)},d,b,k,g=t.collapseMode=="mini";if(!s){s=t.collapseDirection}switch(s){case r.DIRECTION_UP:t.expandedSize=t.getHeight();t.expandDirection=r.DIRECTION_DOWN;b="horizontal";k="top";break;case r.DIRECTION_RIGHT:t.expandedSize=t.getWidth();t.expandDirection=r.DIRECTION_LEFT;b="vertical";k="right";break;case r.DIRECTION_DOWN:t.expandedSize=t.getHeight();t.expandDirection=r.DIRECTION_UP;b="horizontal";k="bottom";break;case r.DIRECTION_LEFT:t.expandedSize=t.getWidth();b="vertical";k="left";t.expandDirection=r.DIRECTION_RIGHT;break;default:throw ("Panel collapse must be passed a valid Component collapse direction")}t.expandDirection=this.getOppositeDirection(s);t.hiddenDocked=[];if((s==Ext.Component.DIRECTION_UP)||(s==Ext.Component.DIRECTION_DOWN)){for(;n<p;n++){q=o[n];if(q.isVisible()||q.isHeader){if(!g&&(!q.dock||q.dock=="top"||q.dock=="bottom")){a+=q.getHeight();if(q.isHeader){d=q}}else{t.hiddenDocked.push(q)}}}if(!a&&!g){a=30}m.to.height=a;if(s==Ext.Component.DIRECTION_DOWN){f=t.getPosition()[1]-Ext.fly(t.el.dom.offsetParent).getRegion().top;m.from.top=f;m.to.top=f+(h-a)}}else{if((s==Ext.Component.DIRECTION_LEFT)||(s==Ext.Component.DIRECTION_RIGHT)){for(;n<p;n++){q=o[n];if(q.isVisible()||q.isHeader){if(!g&&(q.dock=="left"||q.dock=="right")){a+=q.getWidth();if(q.isHeader){d=q}}else{t.hiddenDocked.push(q)}}}if(!a&&!g){a=30}m.to.width=a;if(s==Ext.Component.DIRECTION_RIGHT){f=t.getPosition()[0]-Ext.fly(t.el.dom.offsetParent).getRegion().left;m.from.left=f;m.to.left=f+(j-a)}}}if(t.collapsed||t.fireEvent("beforecollapse",t,s,e,a)===false){return false}e&&t.collapseTool&&t.collapseTool.disable();if(!d&&!g){d={title:t.title,orientation:b,hidden:true,dock:k,textCls:t.headerTextCls,iconCls:t.iconCls,baseCls:t.baseCls+"-header",cls:t.baseCls+"-collapsed-placeholder "+t.baseCls+"-collapsed-"+s+"-placeholder"};d[(d.orientation=="horizontal")?"height":"width"]=30;d[(d.orientation=="horizontal")?"tools":"items"]=[{xtype:"tool",type:"expand-"+t.expandDirection,handler:t.toggleCollapse,scope:t}];d=t.reExpander=new Ext.panel.Header(d);t.insertDocked(0,d)}t.savedFlex=t.flex;delete t.flex;t.setAutoScroll(false);t.layout.onLayout=Ext.emptyFn;t.body.setVisibilityMode(Ext.core.Element.DISPLAY);if(e){var l=new Ext.fx.Anim(m)}else{t.setSize(m.to.width,m.to.height);m.to.x&&t.setLeft(m.to.x);m.to.y&&t.setTop(m.to.y);t.afterCollapse(false)}return t},afterCollapse:function(e){var d=this,b=0,a=d.hiddenDocked.length,f=d.collapseMode=="mini";if(f){d.el.hide();d.hiddenDocked.length=0}else{d.body.hide();for(;b<a;b++){d.hiddenDocked[b].hide()}}d.reExpander&&d.reExpander.show();d.collapsed=true;d.el.addCls(d.collapsedCls);if(e&&d.ownerCt){d.ownerCt.layout.onLayout()}if(d.collapseTool){d.collapseTool.setType("expand-"+d.expandDirection)}d.fireEvent("collapse",d);e&&d.collapseTool&&d.collapseTool.enable()},expand:function(b){if(!this.collapsed||this.fireEvent("beforeexpand",this,b)===false){return false}var h=this,g=0,e=h.hiddenDocked.length,k=h.expandDirection,m=h.getHeight(),a=h.getWidth(),d=h.collapseMode=="mini";b&&h.collapseTool&&h.collapseTool.disable();for(;g<e;g++){h.hiddenDocked[g].show()}h.reExpander&&h.reExpander.hide();if(h.collapseTool){h.collapseTool.setType("collapse-"+h.collapseDirection)}var f={target:h,to:{},from:{height:m,width:a},listeners:{afteranimate:h.afterExpand,scope:h}};h.collapsed=false;if((k==Ext.Component.DIRECTION_UP)||(k==Ext.Component.DIRECTION_DOWN)){if(h.savedFlex){h.flex=h.savedFlex;f.to.height=h.ownerCt.layout.calculateChildBox(h).height;delete h.flex}else{f.to.height=h.expandedSize}if(k==Ext.Component.DIRECTION_UP){pos=h.getPosition()[1]-Ext.fly(h.el.dom.offsetParent).getRegion().top;f.from.top=pos;f.to.top=pos-(f.to.height-m)}}else{if((k==Ext.Component.DIRECTION_LEFT)||(k==Ext.Component.DIRECTION_RIGHT)){if(h.savedFlex){h.flex=h.savedFlex;f.to.width=h.ownerCt.layout.calculateChildBox(h).width;delete h.flex}else{f.to.width=h.expandedSize}if(k==Ext.Component.DIRECTION_LEFT){pos=h.getPosition()[0]-Ext.fly(h.el.dom.offsetParent).getRegion().left;f.from.left=pos;f.to.left=pos-(f.to.width-a)}}}if(d){h.el.show()}else{h.body.show()}h.el.removeCls(h.collapsedCls);if(b){var j=new Ext.fx.Anim(f)}else{h.setSize(f.to.width,f.to.height);f.to.x&&h.setLeft(f.to.x);f.to.y&&h.setTop(f.to.y);h.afterExpand(false)}return h},afterExpand:function(b){var a=this;a.setAutoScroll(a.initialConfig.autoScroll);if(a.savedFlex){a.flex=a.savedFlex;delete a.savedFlex;delete a.width;delete a.height}delete a.layout.onLayout;if(b&&a.ownerCt){a.ownerCt.doLayout()}a.fireEvent("expand",a);b&&a.collapseTool&&a.collapseTool.enable()},toggleCollapse:function(){this.collapsed?this.expand(this.animCollapse):this.collapse(this.collapseDirection,this.animCollapse);return this},getKeyMap:function(){if(!this.keyMap){this.keyMap=new Ext.util.KeyMap(this.el,this.keys)}return this.keyMap},initDraggable:function(){this.dd=new Ext.panel.DD(this,Ext.isBoolean(this.draggable)?null:this.draggable)},ghost:function(a){var d=this,b=d.getBox();if(!d.ghostPanel){d.ghostPanel=new Ext.panel.Panel({renderTo:document.body,floating:true,frame:d.frame,title:d.title,width:d.getWidth(),height:d.getHeight(),baseCls:d.baseCls,cls:d.baseCls+"-ghost "+(a||"")})}d.ghostPanel.floatParent=d.floatParent,d.ghostPanel.setZIndex(d.el.getStyle("zIndex"));d.ghostPanel.el.show();d.ghostPanel.setPosition(b.x,b.y);d.ghostPanel.setSize(b.width,b.height);d.header&&d.ghostPanel.header.setHeight(d.header.getHeight());d.el.hide();d.floatingItems&&d.floatingItems.hide();return d.ghostPanel},unghost:function(b,a){var d=this;if(!d.ghostPanel){return}if(b!==false){d.el.show();if(a!==false){d.setPosition(d.ghostPanel.getPosition())}d.floatingItems&&d.floatingItems.show();Ext.defer(d.focus,10,d)}d.ghostPanel.el.hide()},doAutoLoad:function(){}},function(){this.implement({collapseDirection:Ext.Component.DIRECTION_UP})});Ext.define("Ext.tip.TipDD",{extend:"Ext.dd.DD",moveOnly:true,scroll:false,headerOffsets:[100,25],constructor:function(b,a){Ext.apply(this,a);this.tip=b;Ext.tip.TipDD.superclass.constructor.call(this,b.el.id,"WindowDD-"+b.id);this.setHandleElId(b.header.id);this.scroll=false},startDrag:function(){this.tip.el.disableShadow()},endDrag:function(a){this.tip.el.enableShadow(true)}});Ext.define("Ext.layout.component.Tip",{alias:["layout.tip"],extend:"Ext.layout.component.Dock",type:"tip",onLayout:function(f,b){var h=Ext.isNumber,a=this.owner,e=a.el,d,i,g=e.getXY();e.setXY([-9999,-9999]);Ext.layout.component.Tip.superclass.onLayout.call(this,f,b);if(!h(f)){d=e.getWidth()+1;i=Ext.Number.constrain(d,a.minWidth,a.maxWidth);Ext.layout.component.Tip.superclass.onLayout.call(this,i,b)}e.setXY(g)}});Ext.define("Ext.tip.Tip",{extend:"Ext.panel.Panel",requires:["Ext.tip.TipDD","Ext.layout.component.Tip"],alias:"widget.tip",minWidth:40,maxWidth:300,shadow:"sides",defaultAlign:"tl-bl?",constrainPosition:false,autoRender:true,frame:true,hidden:true,baseCls:Ext.baseCSSPrefix+"tip",floating:{shadow:true,shim:true,constrain:false},componentLayout:"tip",closeAction:"hide",ariaRole:"tooltip",initComponent:function(){Ext.tip.Tip.superclass.initComponent.call(this);if(this.closable){this.addCls(this.baseCls+"-closable");this.addTool({type:"close",handler:this[this.closeAction],scope:this})}},showAt:function(a){Ext.tip.Tip.superclass.show.call(this);if(this.isVisible()){if(this.constrainPosition){a=this.el.adjustForConstraints(a,this.el.dom.parentNode)}this.setPagePosition(a[0],a[1])}},showBy:function(a,b){if(!this.rendered){this.render(Ext.getBody())}this.showAt(this.el.getAlignToXY(a,b||this.defaultAlign))},initDraggable:function(){this.dd=new Ext.tip.TipDD(this,typeof this.draggable=="boolean"?null:this.draggable);this.header.addCls(this.baseCls+"-draggable")}});Ext.define("Ext.tip.ToolTip",{extend:"Ext.tip.Tip",alias:"widget.tooltip",showDelay:500,hideDelay:200,dismissDelay:5000,trackMouse:false,anchorToTarget:true,anchorOffset:0,targetCounter:0,quickShowInterval:250,initComponent:function(){var a=this;Ext.tip.ToolTip.superclass.superclass.initComponent.call(a);a.lastActive=new Date();a.initTarget(a.target);a.origAnchor=a.anchor},onRender:function(b,a){var d=this;Ext.tip.ToolTip.superclass.superclass.onRender.call(d,b,a);d.anchorCls=Ext.baseCSSPrefix+"tip-anchor-"+d.getAnchorPosition();d.anchorEl=d.el.createChild({cls:Ext.baseCSSPrefix+"tip-anchor "+d.anchorCls})},afterRender:function(){var a=this;Ext.tip.ToolTip.superclass.superclass.afterRender.call(a);a.anchorEl.setStyle("z-index",a.el.getZIndex()+1).setVisibilityMode(Ext.core.Element.DISPLAY)},initTarget:function(e){var b=this,a=Ext.get(e),d;if(a){if(b.target){d=Ext.get(b.target);b.mun(d,"mouseover",b.onTargetOver,b);b.mun(d,"mouseout",b.onTargetOut,b);b.mun(d,"mousemove",b.onMouseMove,b)}b.mon(a,{mouseover:b.onTargetOver,mouseout:b.onTargetOut,mousemove:b.onMouseMove,scope:b});b.target=a}if(b.anchor){b.anchorTarget=b.target}},onMouseMove:function(f){var b=this,a=b.delegate?f.getTarget(b.delegate):b.triggerElement=true,d;if(a){b.targetXY=f.getXY();if(a===b.triggerElement){if(!b.hidden&&b.trackMouse){d=b.getTargetXY();if(b.constrainPosition){d=b.el.adjustForConstraints(d,b.el.dom.parentNode)}this.setPagePosition(d)}}else{b.hide();b.lastActive=new Date(0);b.onTargetOver(f)}}else{if(!b.closable&&b.isVisible()){b.hide()}}},getTargetXY:function(){var j=this,e;if(j.delegate){j.anchorTarget=j.triggerElement}if(j.anchor){j.targetCounter++;var d=j.getOffsets(),n=(j.anchorToTarget&&!j.trackMouse)?j.el.getAlignToXY(j.anchorTarget,j.getAnchorAlign()):j.targetXY,a=Ext.core.Element.getViewWidth()-5,i=Ext.core.Element.getViewHeight()-5,l=document.documentElement,f=document.body,m=(l.scrollLeft||f.scrollLeft||0)+5,k=(l.scrollTop||f.scrollTop||0)+5,b=[n[0]+d[0],n[1]+d[1]],h=j.getSize(),g=j.constrainPosition;j.anchorEl.removeCls(j.anchorCls);if(j.targetCounter<2&&g){if(b[0]<m){if(j.anchorToTarget){j.defaultAlign="l-r";if(j.mouseOffset){j.mouseOffset[0]*=-1}}j.anchor="left";return j.getTargetXY()}if(b[0]+h.width>a){if(j.anchorToTarget){j.defaultAlign="r-l";if(j.mouseOffset){j.mouseOffset[0]*=-1}}j.anchor="right";return j.getTargetXY()}if(b[1]<k){if(j.anchorToTarget){j.defaultAlign="t-b";if(j.mouseOffset){j.mouseOffset[1]*=-1}}j.anchor="top";return j.getTargetXY()}if(b[1]+h.height>i){if(j.anchorToTarget){j.defaultAlign="b-t";if(j.mouseOffset){j.mouseOffset[1]*=-1}}j.anchor="bottom";return j.getTargetXY()}}j.anchorCls=Ext.baseCSSPrefix+"tip-anchor-"+j.getAnchorPosition();j.anchorEl.addCls(j.anchorCls);j.targetCounter=0;return b}else{e=j.getMouseOffset();return(j.targetXY)?[j.targetXY[0]+e[0],j.targetXY[1]+e[1]]:e}},getMouseOffset:function(){var a=this,b=a.anchor?[0,0]:[15,18];if(a.mouseOffset){b[0]+=a.mouseOffset[0];b[1]+=a.mouseOffset[1]}return b},getAnchorPosition:function(){var b=this,a;if(b.anchor){b.tipAnchor=b.anchor.charAt(0)}else{a=b.defaultAlign.match(/^([a-z]+)-([a-z]+)(\?)?$/);if(!a){throw"AnchorTip.defaultAlign is invalid"}b.tipAnchor=a[1].charAt(0)}switch(b.tipAnchor){case"t":return"top";case"b":return"bottom";case"r":return"right"}return"left"},getAnchorAlign:function(){switch(this.anchor){case"top":return"tl-bl";case"left":return"tl-tr";case"right":return"tr-tl";default:return"bl-tl"}},getOffsets:function(){var d=this,e,b,a=d.getAnchorPosition().charAt(0);if(d.anchorToTarget&&!d.trackMouse){switch(a){case"t":b=[0,9];break;case"b":b=[0,-13];break;case"r":b=[-13,0];break;default:b=[9,0];break}}else{switch(a){case"t":b=[-15-d.anchorOffset,30];break;case"b":b=[-19-d.anchorOffset,-13-d.el.dom.offsetHeight];break;case"r":b=[-15-d.el.dom.offsetWidth,-13-d.anchorOffset];break;default:b=[25,-13-d.anchorOffset];break}}e=d.getMouseOffset();b[0]+=e[0];b[1]+=e[1];return b},onTargetOver:function(d){var b=this,a;if(b.disabled||d.within(b.target.dom,true)){return}a=d.getTarget(b.delegate);if(a){b.triggerElement=a;b.clearTimer("hide");b.targetXY=d.getXY();b.delayShow()}},delayShow:function(){var a=this;if(a.hidden&&!a.showTimer){if(Ext.Date.getElapsed(a.lastActive)<a.quickShowInterval){a.show()}else{a.showTimer=Ext.defer(a.show,a.showDelay,a)}}else{if(!a.hidden&&a.autoHide!==a){a.show()}}},onTargetOut:function(b){var a=this;if(a.disabled||b.within(a.target.dom,true)){return}a.clearTimer("show");if(a.autoHide!==false){a.delayHide()}},delayHide:function(){var a=this;if(!a.hidden&&!a.hideTimer){a.hideTimer=Ext.defer(a.hide,a.hideDelay,a)}},hide:function(){var a=this;a.clearTimer("dismiss");a.lastActive=new Date();if(a.anchorEl){a.anchorEl.hide()}Ext.tip.ToolTip.superclass.superclass.hide.call(a);delete a.triggerElement},show:function(){var a=this;if(a.anchor){a.showAt([-1000,-1000]);a.anchor=a.origAnchor}a.showAt(a.getTargetXY());if(a.anchor){a.syncAnchor();a.anchorEl.show()}else{a.anchorEl.hide()}},showAt:function(b){var a=this;a.lastActive=new Date();a.clearTimers();Ext.tip.Tip.superclass.show.call(a);if(a.isVisible()){a.setPagePosition(b[0],b[1])}if(a.dismissDelay&&a.autoHide!==false){a.dismissTimer=Ext.defer(a.hide,a.dismissDelay,a)}if(a.anchor){a.syncAnchor();if(!a.anchorEl.isVisible()){a.anchorEl.show()}}else{a.anchorEl.hide()}},syncAnchor:function(){var d=this,a,b,e;switch(d.tipAnchor.charAt(0)){case"t":a="b";b="tl";e=[20+d.anchorOffset,1];break;case"r":a="l";b="tr";e=[-1,12+d.anchorOffset];break;case"b":a="t";b="bl";e=[20+d.anchorOffset,-1];break;default:a="r";b="tl";e=[1,12+d.anchorOffset];break}d.anchorEl.alignTo(d.el,a+"-"+b,e)},setPagePosition:function(a,d){var b=this;Ext.tip.ToolTip.superclass.superclass.setPagePosition.call(b,a,d);if(b.anchor){b.syncAnchor()}},clearTimer:function(a){a=a+"Timer";clearTimeout(this[a]);delete this[a]},clearTimers:function(){var a=this;a.clearTimer("show");a.clearTimer("dismiss");a.clearTimer("hide")},onShow:function(){var a=this;Ext.tip.ToolTip.superclass.superclass.onShow.call(a);a.mon(Ext.getDoc(),"mousedown",a.onDocMouseDown,a)},onHide:function(){var a=this;Ext.tip.ToolTip.superclass.superclass.onHide.call(a);a.mun(Ext.getDoc(),"mousedown",a.onDocMouseDown,a)},onDocMouseDown:function(b){var a=this;if(a.autoHide!==true&&!a.closable&&!b.within(a.el.dom)){a.disable();Ext.defer(a.doEnable,100,a)}},doEnable:function(){if(!this.isDestroyed){this.enable()}},onDisable:function(){this.clearTimers();this.hide()},beforeDestroy:function(){var a=this;a.clearTimers();Ext.destroy(a.anchorEl);delete a.anchorEl;delete a.target;delete a.anchorTarget;delete a.triggerElement;Ext.tip.ToolTip.superclass.superclass.beforeDestroy.call(a)},onDestroy:function(){Ext.getDoc().un("mousedown",this.onDocMouseDown,this);Ext.tip.ToolTip.superclass.superclass.onDestroy.call(this)}});Ext.define("Ext.tip.QuickTip",{extend:"Ext.tip.ToolTip",alias:"widget.quicktip",interceptTitles:false,tagConfig:{namespace:"ext",attribute:"qtip",width:"qwidth",target:"target",title:"qtitle",hide:"hide",cls:"qclass",align:"qalign",anchor:"anchor"},initComponent:function(){this.target=this.target||Ext.getDoc();this.targets=this.targets||{};Ext.tip.QuickTip.superclass.initComponent.call(this)},register:function(e){var g=Ext.isArray(e)?e:arguments;for(var f=0,a=g.length;f<a;f++){var k=g[f];var h=k.target;if(h){if(Ext.isArray(h)){for(var d=0,b=h.length;d<b;d++){this.targets[Ext.id(h[d])]=k}}else{this.targets[Ext.id(h)]=k}}}},unregister:function(a){delete this.targets[Ext.id(a)]},cancelShow:function(b){var a=this.activeTarget;b=Ext.get(b).dom;if(this.isVisible()){if(a&&a.el==b){this.hide()}}else{if(a&&a.el==b){this.clearTimer("show")}}},getTipCfg:function(f){var b=f.getTarget(),d,a;if(this.interceptTitles&&b.title&&Ext.isString(b.title)){d=b.title;b.qtip=d;b.removeAttribute("title");f.preventDefault()}else{a=this.tagConfig;d=b.qtip||Ext.fly(b).getAttribute(a.attribute,a.namespace)}return d},onTargetOver:function(i){if(this.disabled){return}this.targetXY=i.getXY();var d=i.getTarget();if(!d||d.nodeType!==1||d==document||d==document.body){return}if(this.activeTarget&&((d==this.activeTarget.el)||Ext.fly(this.activeTarget.el).contains(d))){this.clearTimer("hide");this.show();return}if(d&&this.targets[d.id]){this.activeTarget=this.targets[d.id];this.activeTarget.el=d;this.anchor=this.activeTarget.anchor;if(this.anchor){this.anchorTarget=d}this.delayShow();return}var g,h=Ext.fly(d),b=this.tagConfig,f=b.namespace;if(g=this.getTipCfg(i)){var a=h.getAttribute(b.hide,f);this.activeTarget={el:d,text:g,width:+h.getAttribute(b.width,f),autoHide:a!="user"&&a!=="false",title:h.getAttribute(b.title,f),cls:h.getAttribute(b.cls,f),align:h.getAttribute(b.align,f)};this.anchor=h.getAttribute(b.anchor,f);if(this.anchor){this.anchorTarget=d}this.delayShow()}},onTargetOut:function(a){if(this.activeTarget&&a.within(this.activeTarget.el)&&!this.getTipCfg(a)){return}this.clearTimer("show");if(this.autoHide!==false){this.delayHide()}},showAt:function(b){var a=this.activeTarget;if(a){if(!this.rendered){this.render(Ext.getBody());this.activeTarget=a}this.setTitle(a.title||"");this.body.update(a.text);this.autoHide=a.autoHide;this.dismissDelay=a.dismissDelay||this.dismissDelay;if(this.lastCls){this.el.removeCls(this.lastCls);delete this.lastCls}if(a.cls){this.el.addCls(a.cls);this.lastCls=a.cls}this.setWidth(a.width||null);if(this.anchor){this.constrainPosition=false}else{if(a.align){b=this.el.getAlignToXY(a.el,a.align);this.constrainPosition=false}else{this.constrainPosition=true}}}Ext.tip.QuickTip.superclass.showAt.call(this,b)},hide:function(){delete this.activeTarget;Ext.tip.QuickTip.superclass.hide.call(this)}});Ext.define("Ext.tip.QuickTips",function(){var b,a=false;return{requires:["Ext.tip.QuickTip"],singleton:true,init:function(d){if(!b){if(!Ext.isReady){Ext.onReady(function(){Ext.tip.QuickTips.init(d)});return}b=new Ext.tip.QuickTip({elements:"header,body",disabled:a,autoRender:d!==false})}},destroy:function(){if(b){var d;b.destroy();b=d}},ddDisable:function(){if(b&&!a){b.disable()}},ddEnable:function(){if(b&&!a){b.enable()}},enable:function(){if(b){b.enable()}a=false},disable:function(){if(b){b.disable()}a=true},isEnabled:function(){return b!==undefined&&!b.disabled},getQuickTip:function(){return b},register:function(){b.register.apply(b,arguments)},unregister:function(){b.unregister.apply(b,arguments)},tips:function(){b.register.apply(b,arguments)}}}(),function(){Ext.QuickTips=this});Ext.define("Ext.layout.component.form.Field",{alias:["layout.field"],extend:"Ext.layout.Component",requires:["Ext.tip.QuickTips"],type:"field",beforeLayout:function(b,a){var d=this;return d.isShowingError!==d.owner.hasError()||d.parent(arguments)},onLayout:function(a,j){var h=this,b=h.owner,e=this.getLabelStrategy(),i=this.getErrorStrategy(),d,f,g;h.setTargetSize(a,j);f=h.totalWidth=Ext.isNumber(a)?a:b.el.getWidth();g=h.totalHeight=j;d=h.insets={top:0,right:0,bottom:0,left:0};e.prepare(b);i.prepare(b);e.adjustHorizInsets(b,d);i.adjustHorizInsets(b,d);e.layoutHoriz(b,d,f);i.layoutHoriz(b,d,f);e.adjustVertInsets(b,d);i.adjustVertInsets(b,d);e.layoutVert(b,d,g);i.layoutVert(b,d,g);h.layoutFormEl();h.isShowingError=b.hasError()},layoutFormEl:function(){var h=this,b=h.owner,f=b.formEl,d=h.insets,e=h.totalHeight,g=h.totalWidth-d.left-d.right,a=Ext.isNumber(e)?e-d.top-d.bottom:e;f.setStyle("marginLeft",d.left+"px");if(b.inputEl){h.sizeInputEl(g,a)}},sizeInputEl:function(b,a){this.setElementSize(this.owner.inputEl,b,a)},getLabelStrategy:function(){var b=this,d=b.labelStrategies,a=b.owner.labelAlign;return d[a]||d.base},getErrorStrategy:function(){var d=this,a=d.owner,e=d.errorStrategies,b=a.msgTarget;return !a.preventMark&&Ext.isString(b)?(e[b]||e.elementId):e.base},labelStrategies:(function(){var b=Ext.applyIf,a=Ext.emptyFn,d={prepare:function(e){var f=Ext.baseCSSPrefix+"form-label-"+e.labelAlign,g=e.el;if(!g.hasCls(f)){g.addCls(f)}},adjustHorizInsets:a,adjustVertInsets:a,layoutHoriz:a,layoutVert:a};return{base:d,top:b({adjustVertInsets:function(e,f){if(!e.hideLabel){f.top+=e.labelEl.getHeight()+e.labelPad}},layoutHoriz:function(f,g,e){if(!f.hideLabel){f.labelEl.setWidth(e)}},layoutVert:function(e,f,g){if(!e.hideLabel){e.labelEl.setStyle("marginBottom",e.labelPad+"px")}}},d),left:b({adjustHorizInsets:function(e,f){if(!e.hideLabel){f.left+=e.labelWidth+e.labelPad}},layoutHoriz:function(f,g,e){if(!f.hideLabel){f.labelEl.setWidth(f.labelWidth)}}},d),right:b({adjustHorizInsets:function(e,f){if(!e.hideLabel){f.right+=e.labelWidth+e.labelPad}},layoutHoriz:function(f,g,e){if(!f.hideLabel){f.labelEl.setWidth(f.labelWidth)}}},d)}})(),errorStrategies:(function(){var b=Ext.applyIf,a=Ext.emptyFn,d={prepare:a,adjustHorizInsets:a,adjustVertInsets:a,layoutHoriz:a,layoutVert:a};return{base:d,side:b({prepare:function(e){var f=e.errorEl;f.addCls(Ext.baseCSSPrefix+"form-invalid-icon");f.dom.qtip=e.activeError||"";f.dom.qclass=Ext.baseCSSPrefix+"form-invalid-tip";Ext.tip.QuickTips.init();f.setDisplayed(e.hasError())},adjustHorizInsets:function(e,f){if(e.autoFitErrors){f.right+=e.errorEl.getWidth()}},layoutHoriz:function(f,g,e){f.errorEl.setLeft(e-g.right)},layoutVert:function(e,f,g){e.errorEl.setTop(f.top)}},d),under:b({prepare:function(e){var g=e.errorEl,f=Ext.baseCSSPrefix+"form-invalid-under";if(!g.hasCls(f)){g.addCls(f)}g.setDisplayed(e.hasError())},adjustVertInsets:function(e,f){if(e.autoFitErrors){f.bottom+=e.errorEl.getHeight()}},layoutHoriz:function(f,g,e){var h=f.errorEl;h.setWidth(e-g.right-g.left);h.setStyle("marginLeft",g.left+"px")}},d),qtip:b({prepare:function(e){var f=e.getActionEl().dom;e.errorEl.setDisplayed(false);f.qtip=e.activeError||"";f.qclass=Ext.baseCSSPrefix+"form-invalid-tip";Ext.tip.QuickTips.init()}},d),title:b({prepare:function(e){e.errorEl.setDisplayed(false);e.el.dom.title=e.activeError||""}},d),elementId:b({prepare:function(e){e.errorEl.setDisplayed(false);var f=Ext.getDom(e.msgTarget);if(f){f.innerHTML=e.activeError;f.style.display=e.hasError()?"":"none"}}},d)}})()});Ext.define("Ext.form.Field",{extend:"Ext.Component",alias:"widget.field",requires:["Ext.util.DelayedTask","Ext.XTemplate","Ext.layout.component.form.Field"],inputType:"text",invalidCls:Ext.baseCSSPrefix+"form-invalid",invalidText:"The value in this field is invalid",focusCls:Ext.baseCSSPrefix+"form-focus",clearCls:Ext.baseCSSPrefix+"clear",validateOnChange:true,checkChangeEvents:Ext.isIE?["change","propertychange"]:["change","input","textInput","keyup","dragdrop"],checkChangeBuffer:50,componentLayout:"field",fieldCls:Ext.baseCSSPrefix+"form-field",baseCls:Ext.baseCSSPrefix+"form-item",msgTarget:"qtip",msgFx:"normal",readOnly:false,disabled:false,submitValue:true,isFormField:true,hasFocus:false,labelAlign:"left",labelWidth:100,labelPad:5,labelSeparator:":",hideLabel:false,autoFitErrors:true,renderTpl:['<tpl if="!hideLabel">','<label for="{inputId}" class="{baseCls}-label"<tpl if="labelStyle"> style="{labelStyle}"</tpl>>','<tpl if="label">{label}{labelSeparator}</tpl>',"</label>","</tpl>","{subTplMarkup}",'<div class="'+Ext.baseCSSPrefix+'form-error-msg"></div>','<div class="{clearCls}" role="presentation"></div>'],initComponent:function(){var a=this;if(!a.inputId){a.inputId=Ext.id()}a.subTplData=a.subTplData||{};Ext.form.Field.superclass.initComponent.call(a);a.addEvents("focus","blur","specialkey","change","invalid","valid","validitychange","dirtychange");a.initValue()},initValue:function(){var a=this;a.originalValue=a._lastValue=a.value;a.setValue(a.value);a.clearInvalid()},getTemplateArgs:function(){var d=this,b=d.inputType,a=d.inputId;Ext.applyIf(d.subTplData,{id:a,name:d.name||a,type:b,size:d.size||20,cls:d.cls,fieldCls:d.fieldCls,tabIdx:d.tabIndex,typeCls:Ext.baseCSSPrefix+"form-"+(b==="password"?"text":b)});return{inputId:a,hideLabel:d.hideLabel,label:d.fieldLabel,itemCls:(d.itemCls||"")+(d.hideLabel?" "+Ext.baseCSSPrefix+"hide-label":""),clearCls:d.clearCls,labelStyle:d.labelStyle||"",labelSeparator:d.labelSeparator,subTplMarkup:d.fieldSubTpl.apply(d.subTplData)}},getName:function(){return this.name},onRender:function(b,a){var d=this;Ext.applyIf(d.renderData,d.getTemplateArgs());Ext.applyIf(d.renderSelectors,{inputEl:"."+Ext.baseCSSPrefix+"form-element>:first-child",labelEl:"label."+Ext.baseCSSPrefix+"form-item-label",formEl:"."+Ext.baseCSSPrefix+"form-element",errorEl:"."+Ext.baseCSSPrefix+"form-error-msg"});Ext.form.Field.superclass.onRender.call(d,b,a);d.setRawValue(d.rawValue);if(d.readOnly){d.setReadOnly(true)}if(d.disabled){d.disable()}d.updateError()},initAria:function(){var a=this;Ext.form.Field.superclass.initAria.call(a);a.getActionEl().dom.setAttribute("aria-describedby",Ext.id(a.errorEl))},getResizeEl:function(){return this.el},getPositionEl:function(){return this.el},getFocusEl:function(){return this.inputEl},getItemCt:function(){return this.itemCt},getRawValue:function(){var b=this,a=(b.inputEl?b.inputEl.getValue():Ext.value(b.rawValue,""));b.rawValue=a;return a},getValue:function(){var a=this,b=a.rawToValue(a.processRawValue(a.getRawValue()));a.value=b;return b},getSubmitValue:function(){var a=this;return(a.disabled||!a.submitValue||a.inputType==="file")?null:a.processRawValue(a.getRawValue())},setRawValue:function(b){var a=this;b=Ext.value(b,"");a.rawValue=b;if(a.inputEl){a.inputEl.dom.value=b}return b},setValue:function(b){var a=this;a.value=b;a.setRawValue(this.valueToRaw(b));a.checkChange();return a},valueToRaw:function(a){return""+Ext.value(a,"")},rawToValue:function(a){return a},processRawValue:function(a){return a},onDisable:function(){var a=this,b=a.inputEl;Ext.form.Field.superclass.onDisable.call(a);if(b){b.dom.disabled=true}},onEnable:function(){var a=this,b=a.inputEl;Ext.form.Field.superclass.onEnable.call(a);if(b){b.dom.disabled=false}},isDirty:function(){return !this.disabled&&String(this.getValue())!==String(this.originalValue)},checkDirtyChange:function(){var a=this,b=a.isDirty;if(b!==a.wasDirty){a.fireEvent("dirtychange",a,b);a.wasDirty=b}},setReadOnly:function(a){if(this.inputEl){this.inputEl.dom.readOnly=a}this.readOnly=a},fireKey:function(a){if(a.isSpecialKey()){this.fireEvent("specialkey",this,a)}},reset:function(){this.setValue(this.originalValue);this.clearInvalid()},initEvents:function(){var b=this,d=b.inputEl,a,e;if(d){b.mon(d,Ext.EventManager.getKeyEvent(),b.fireKey,b);b.mon(d,"focus",b.onFocus,b);b.mon(d,"blur",b.onBlur,b,b.inEditor?{buffer:10}:null);a=new Ext.util.DelayedTask(b.checkChange,b);e=function(){a.delay(b.checkChangeBuffer)};Ext.each(b.checkChangeEvents,function(f){b.mon(d,f,e)},b)}},preFocus:Ext.emptyFn,onFocus:function(){var b=this,a=b.focusCls,d=b.inputEl;b.preFocus();if(a&&d){d.addCls(a)}if(!b.hasFocus){b.hasFocus=true;b.fireEvent("focus",b)}},beforeBlur:Ext.emptyFn,onBlur:function(){var b=this,a=b.focusCls,d=b.inputEl;b.beforeBlur();if(a&&d){d.removeCls(a)}b.hasFocus=false;b.fireEvent("blur",b);b.postBlur()},postBlur:Ext.emptyFn,checkChange:function(){var d=this,b=d.getRawValue(),a=d._lastValue;if(String(b)!==String(a)&&!d.isDestroyed){d._lastValue=b;d.fireEvent("change",d,b,a);d.onChange(b,a)}},onChange:function(b,a){if(this.validateOnChange){this.checkValidityChange()}this.checkDirtyChange()},isValid:function(a){var d=true,b;if(!this.disabled){b=this.preventMark;this.preventMark=a===true;d=this.validateValue(this.processRawValue(this.getRawValue()));this.preventMark=b}return d},validate:function(){if(this.disabled||this.validateValue(this.processRawValue(this.getRawValue()))){this.clearInvalid();return true}return false},checkValidityChange:function(){var a=this,d=false,b=a.validate();if(b!==a.wasValid){a.fireEvent("validitychange",a,b);a.wasValid=b;d=true}return d},validateValue:function(d){var a=this.getErrors(d)[0],b,e=true;if(a!==b){this.markInvalid(a);e=false}return e},getErrors:function(){return[]},getActiveError:function(){return this.activeError||""},markInvalid:function(d){var b=this,a=b.hasError();b.setActiveError(d);if(!a){b.updateError();b.doComponentLayout()}},clearInvalid:function(){var b=this,a=b.hasError();b.unsetActiveError();if(a){b.updateError();b.doComponentLayout()}},setActiveError:function(d,a){var b=this;b.activeError=d;if(a!==true){b.fireEvent("invalid",b,d)}},unsetActiveError:function(a){var b=this;delete b.activeError;if(a!==true){b.fireEvent("valid",b)}},hasError:function(){return !!this.activeError},updateError:function(){var b=this,a=b.hasError();if(b.rendered&&!b.isDestroyed&&!b.preventMark){b.el[a?"addCls":"removeCls"](b.invalidCls);b.getActionEl().dom.setAttribute("aria-invalid",a);b.errorEl.dom.innerHTML=b.getActiveError()}},getActionEl:function(){return this.inputEl||this.el}},function(){this.prototype.fieldSubTpl=new Ext.XTemplate('<div class="'+Ext.baseCSSPrefix+'form-element" id="'+Ext.baseCSSPrefix+'form-el-{id}" style="{elementStyle}" role="presentation">','<input id="{id}" type="{type}" ','<tpl if="name">name="{name}" </tpl>','<tpl if="size">size="{size}" </tpl>','<tpl if="tabIdx">tabIndex="{tabIdx}" </tpl>','class="{cls} {fieldCls} {typeCls}" autocomplete="off" />',"</div>",{compiled:true,disableFormats:true})});Ext.define("Ext.slider.Thumb",{requires:["Ext.dd.DragTracker","Ext.util.Format"],topZIndex:10000,constructor:function(a){Ext.apply(this,a||{},{cls:Ext.baseCSSPrefix+"slider-thumb",constrain:false});Ext.slider.Thumb.superclass.constructor.call(this,a);if(this.slider.vertical){Ext.apply(this,Ext.slider.Thumb.Vertical)}},render:function(){this.el=this.slider.innerEl.insertFirst({cls:this.cls});this.initEvents()},move:function(b,a){if(!a){this.el.setLeft(b)}else{new Ext.fx.Anim({target:this.el,duration:0.35,to:{left:b}})}},bringToFront:function(){this.el.setStyle("zIndex",this.topZIndex)},sendToBack:function(){this.el.setStyle("zIndex","")},enable:function(){this.disabled=false;this.el.removeCls(this.slider.disabledCls)},disable:function(){this.disabled=true;this.el.addCls(this.slider.disabledCls)},initEvents:function(){var a=this.el;this.tracker=new Ext.dd.DragTracker({onBeforeStart:Ext.Function.bind(this.onBeforeDragStart,this),onStart:Ext.Function.bind(this.onDragStart,this),onDrag:Ext.Function.bind(this.onDrag,this),onEnd:Ext.Function.bind(this.onDragEnd,this),tolerance:3,autoStart:300,overCls:Ext.baseCSSPrefix+"slider-thumb-over"});this.tracker.initEl(a)},onBeforeDragStart:function(a){if(this.disabled){return false}else{this.slider.promoteThumb(this);return true}},onDragStart:function(a){this.el.addCls(Ext.baseCSSPrefix+"slider-thumb-drag");this.dragging=true;this.dragStartValue=this.value;this.slider.fireEvent("dragstart",this.slider,a,this)},onDrag:function(g){var d=this.slider,b=this.index,f=this.getNewValue();if(this.constrain){var a=d.thumbs[b+1],h=d.thumbs[b-1];if(h!==undefined&&f<=h.value){f=h.value}if(a!==undefined&&f>=a.value){f=a.value}}d.setValue(b,f,false);d.fireEvent("drag",d,g,this)},getNewValue:function(){var a=this.slider,b=a.innerEl.translatePoints(this.tracker.getXY());return Ext.util.Format.round(a.reverseValue(b.left),a.decimalPrecision)},onDragEnd:function(d){var a=this.slider,b=this.value;this.el.removeCls(Ext.baseCSSPrefix+"slider-thumb-drag");this.dragging=false;a.fireEvent("dragend",a,d);if(this.dragStartValue!=b){a.fireEvent("changecomplete",a,b,this)}},beforeDestroy:function(){Ext.destroy(this.tracker)},statics:{Vertical:{getNewValue:function(){var b=this.slider,d=b.innerEl,e=d.translatePoints(this.tracker.getXY()),a=d.getHeight()-e.top;return b.minValue+Ext.util.Format.round(b.reverseValue(a),b.decimalPrecision)},move:function(b,a){if(!a){this.el.setBottom(b)}else{new Ext.fx.Anim({target:this.el,duration:0.35,to:{bottom:b}})}}}}});Ext.define("Ext.slider.Tip",{extend:"Ext.tip.Tip",alias:"widget.slidertip",offsets:[0,-10],init:function(a){a.on({scope:this,dragstart:this.onSlide,drag:this.onSlide,dragend:this.hide,destroy:this.destroy})},onSlide:function(b,d,a){this.show();this.update(this.getText(a));this.doComponentLayout();this.el.alignTo(a.el,"b-t?",this.offsets)},getText:function(a){return String(a.value)}});Ext.define("Ext.slider.Multi",{extend:"Ext.form.Field",alias:"widget.multislider",requires:["Ext.slider.Thumb","Ext.slider.Tip","Ext.Number","Ext.util.Format","Ext.Template"],vertical:false,minValue:0,maxValue:100,decimalPrecision:0,keyIncrement:1,increment:0,clickRange:[5,15],clickToChange:true,animate:true,dragging:false,constrainThumbs:true,componentLayout:"sliderfield",useTips:true,tipText:null,ariaRole:"slider",constructor:function(){this.fieldSubTpl=new Ext.Template('<div class="'+Ext.baseCSSPrefix+"form-element "+Ext.baseCSSPrefix+'slider-element" id="'+Ext.baseCSSPrefix+'form-el-{id}" style="{elementStyle}" role="presentation">','<div class="'+Ext.baseCSSPrefix+'slider {vertical}" aria-valuemin="{minValue}" aria-valuemax="{maxValue}" aria-valuenow="{value}" aria-valuetext="{value}">','<div class="'+Ext.baseCSSPrefix+'slider-end" role="presentation">','<div class="'+Ext.baseCSSPrefix+'slider-inner" role="presentation">','<a class="'+Ext.baseCSSPrefix+'slider-focus" href="#" tabIndex="-1" hidefocus="on" role="presentation"></a>',"</div>","</div>","</div>","</div>",{disableFormats:true,compiled:true});Ext.slider.Multi.superclass.constructor.apply(this,arguments)},initValue:function(){var a=this;a.originalValue=a._lastValue=a.value;if(a.value){a.setValue(a.value);a.clearInvalid()}},initComponent:function(d){if(!Ext.isDefined(this.value)){this.value=this.minValue}this.thumbs=[];this.keyIncrement=Math.max(this.increment,this.keyIncrement);this.addEvents("beforechange","change","changecomplete","dragstart","drag","dragend");if(this.values===undefined||Ext.isEmpty(this.values)){this.values=[0]}var b=this.values,a=b.length,e;for(e=0;e<a;e++){this.addThumb(b[e])}if(this.vertical){Ext.apply(this,Ext.slider.Multi.Vertical)}Ext.slider.Multi.superclass.initComponent.call(this)},addThumb:function(b){var a=new Ext.slider.Thumb({value:b,slider:this,index:this.thumbs.length,constrain:this.constrainThumbs});this.thumbs.push(a);if(this.rendered){a.render()}return a},promoteThumb:function(d){var a=this.thumbs,f=a.length,g,b,e;for(e=0;e<f;e++){b=a[e];if(b==d){b.bringToFront()}else{b.sendToBack()}}},onRender:function(){var d,a=this.thumbs,e=a.length,b;Ext.applyIf(this.subTplData,{vertical:this.vertical?Ext.baseCSSPrefix+"slider-vert":Ext.baseCSSPrefix+"slider-horz",minValue:this.minValue,maxValue:this.maxValue,value:this.value});Ext.applyIf(this.renderSelectors,{endEl:"."+Ext.baseCSSPrefix+"slider-end",innerEl:"."+Ext.baseCSSPrefix+"slider-inner",focusEl:"."+Ext.baseCSSPrefix+"slider-focus"});Ext.slider.Multi.superclass.onRender.apply(this,arguments);for(d=0;d<e;d++){a[d].render()}b=this.innerEl.down("."+Ext.baseCSSPrefix+"slider-thumb");this.halfThumb=(this.vertical?b.getHeight():b.getWidth())/2},onChange:function(b,a){this.setValue(a,undefined,true)},alignErrorIcon:function(){this.errorIcon.alignTo(this.el,"tl-tr",[2,0])},initEvents:function(){this.mon(this.el,{scope:this,mousedown:this.onMouseDown,keydown:this.onKeyDown,change:this.onChange});this.focusEl.swallowEvent("click",true)},onMouseDown:function(f){if(this.disabled){return}var d=false;for(var b=0;b<this.thumbs.length;b++){d=d||f.target==this.thumbs[b].el.dom}if(this.clickToChange&&!d){var a=this.innerEl.translatePoints(f.getXY());this.onClickChange(a)}this.focus()},onClickChange:function(d){var a,b;if(d.top>this.clickRange[0]&&d.top<this.clickRange[1]){a=this.getNearest(d,"left");if(!a.disabled){b=a.index;this.setValue(b,Ext.util.Format.round(this.reverseValue(d.left),this.decimalPrecision),undefined,true)}}},getNearest:function(k,b){var m=b=="top"?this.innerEl.getHeight()-k[b]:k[b],g=this.reverseValue(m),j=(this.maxValue-this.minValue)+5,f=0,d=null;for(var e=0;e<this.thumbs.length;e++){var a=this.thumbs[e],l=a.value,h=Math.abs(l-g);if(Math.abs(h<=j)){d=a;f=e;j=h}}return d},onKeyDown:function(b){if(this.disabled||this.thumbs.length!==1){b.preventDefault();return}var a=b.getKey(),d;switch(a){case b.UP:case b.RIGHT:b.stopEvent();d=b.ctrlKey?this.maxValue:this.getValue(0)+this.keyIncrement;this.setValue(0,d,undefined,true);break;case b.DOWN:case b.LEFT:b.stopEvent();d=b.ctrlKey?this.minValue:this.getValue(0)-this.keyIncrement;this.setValue(0,d,undefined,true);break;default:b.preventDefault()}},doSnap:function(b){if(!(this.increment&&b)){return b}var e=b,d=this.increment,a=b%d;if(a!==0){e-=a;if(a*2>=d){e+=d}else{if(a*2<-d){e-=d}}}return Ext.Number.constrain(e,this.minValue,this.maxValue)},afterRender:function(){Ext.slider.Multi.superclass.afterRender.apply(this,arguments);for(var d=0;d<this.thumbs.length;d++){var b=this.thumbs[d];if(b.value!==undefined){var a=this.normalizeValue(b.value);if(a!==b.value){this.setValue(d,a,false)}else{b.move(this.translateValue(a),false)}}}},getRatio:function(){var a=this.innerEl.getWidth(),b=this.maxValue-this.minValue;return b===0?a:(a/b)},normalizeValue:function(a){a=this.doSnap(a);a=Ext.util.Format.round(a,this.decimalPrecision);a=Ext.Number.constrain(a,this.minValue,this.maxValue);return a},setMinValue:function(f){this.minValue=f;this.inputEl.dom.setAttribute("aria-valuemin",f);var e=0,b=this.thumbs,a=b.length,d;for(;e<a;++e){d=b[e];d.value=d.value<f?f:d.value}this.syncThumbs()},setMaxValue:function(f){this.maxValue=f;this.inputEl.dom.setAttribute("aria-valuemax",f);var e=0,b=this.thumbs,a=b.length,d;for(;e<a;++e){d=b[e];d.value=d.value>f?f:d.value}this.syncThumbs()},setValue:function(e,d,b,g){var a=this.thumbs[e],f=a.el;d=this.normalizeValue(d);if(this.rendered){this.inputEl.dom.setAttribute("aria-valuenow",d);this.inputEl.dom.setAttribute("aria-valuetext",d)}if(d!==a.value&&this.fireEvent("beforechange",this,d,a.value,a)!==false){a.value=d;if(this.rendered){a.move(this.translateValue(d),b||this.animate);this.fireEvent("change",this,d,a);if(g){this.fireEvent("changecomplete",this,d,a)}}}},translateValue:function(a){var b=this.getRatio();return(a*b)-(this.minValue*b)-this.halfThumb},reverseValue:function(b){var a=this.getRatio();return(b+(this.minValue*a))/a},focus:function(){this.focusEl.focus(10)},onDisable:function(){Ext.slider.Multi.superclass.onDisable.call(this);for(var b=0;b<this.thumbs.length;b++){var a=this.thumbs[b],d=a.el;a.disable();if(Ext.isIE){var e=d.getXY();d.hide();this.innerEl.addCls(this.disabledCls).dom.disabled=true;if(!this.thumbHolder){this.thumbHolder=this.endEl.createChild({cls:Ext.baseCSSPrefix+"slider-thumb "+this.disabledCls})}this.thumbHolder.show().setXY(e)}}},onEnable:function(){Ext.slider.Multi.superclass.onEnable.call(this);for(var b=0;b<this.thumbs.length;b++){var a=this.thumbs[b],d=a.el;a.enable();if(Ext.isIE){this.innerEl.removeCls(this.disabledCls).dom.disabled=false;if(this.thumbHolder){this.thumbHolder.hide()}d.show();this.syncThumbs()}}},syncThumbs:function(){if(this.rendered){var a=this.thumbs,d=a.length,b;for(b=0;b<d;b++){a[b].move(this.translateValue(a[b].value))}}},getValue:function(a){return this.thumbs[a].value},getValues:function(){var a=[];for(var b=0;b<this.thumbs.length;b++){a.push(this.thumbs[b].value)}return a},beforeDestroy:function(){Ext.destroyMembers(this.innerEl,this.endEl,this.focusEl);Ext.each(this.thumbs,function(a){a.beforeDestroy();Ext.destroy(a)},this);Ext.slider.Multi.superclass.beforeDestroy.call(this)},statics:{Vertical:{getRatio:function(){var b=this.innerEl.getHeight(),a=this.maxValue-this.minValue;return b/a},onClickChange:function(e){var b,d,a;if(e.left>this.clickRange[0]&&e.left<this.clickRange[1]){b=this.getNearest(e,"top");if(!b.disabled){d=b.index;a=this.reverseValue(this.innerEl.getHeight()-e.top);this.setValue(d,Ext.util.Format.round(this.minValue+a,this.decimalPrecision),undefined,true)}}}}}});Ext.define("Ext.slider.Single",{extend:"Ext.slider.Multi",alias:["widget.slider","widget.sliderfield"],alternateClassName:["Ext.Slider","Ext.form.SliderField"],uses:["Ext.layout.component.SliderField"],constructor:function(a){a=a||{};Ext.applyIf(a,{values:[a.value||0]});Ext.slider.Single.superclass.constructor.call(this,a)},getValue:function(){return Ext.slider.Single.superclass.getValue.call(this,0)},setValue:function(e,b){var d=Ext.toArray(arguments),a=d.length;if(a==1||(a<=3&&typeof arguments[1]!="number")){d.unshift(0)}return Ext.slider.Single.superclass.setValue.apply(this,d)},getNearest:function(){return this.thumbs[0]}});Ext.define("Ext.panel.Tool",{extend:"Ext.Component",requires:["Ext.tip.QuickTips"],alias:"widget.tool",cls:Ext.baseCSSPrefix+"tool",disableCls:Ext.baseCSSPrefix+"tool-disabled",toolPressedCls:Ext.baseCSSPrefix+"tool-pressed",toolOverCls:Ext.baseCSSPrefix+"tool-over",ariaRole:"button",renderTpl:['<img src="{blank}" class="{cls}-{type}" role="presentation"/>'],disabled:false,initComponent:function(){this.addEvents("click");this.type=this.type||this.id;Ext.applyIf(this.renderData,{cls:this.cls,blank:Ext.BLANK_IMAGE_URL,type:this.type});this.renderSelectors.toolEl="."+this.cls+"-"+this.type;Ext.panel.Tool.superclass.initComponent.call(this)},afterRender:function(){Ext.panel.Tool.superclass.afterRender.apply(this,arguments);if(this.qtip){if(Ext.isObject(this.qtip)){Ext.tip.QuickTips.register(Ext.apply({target:this.id},this.qtip))}else{this.toolEl.dom.qtip=this.qtip}}this.mon(this.toolEl,{click:this.onClick,mousedown:this.onMouseDown,mouseover:this.onMouseOver,mouseout:this.onMouseOut,scope:this})},setType:function(a){this.type=a;if(this.rendered){this.toolEl.dom.className=this.cls+"-"+a}},enable:function(){this.toolEl.removeCls(this.disbledCls);this.disabled=false},disable:function(){this.toolEl.addCls(this.disbledCls);this.disabled=true},bindTo:function(a){this.owner=a},onClick:function(f,d){if(this.disabled){return false}var b=this,a=b.owner||b.ownerCt;b.el.removeCls(b.toolPressedCls);b.el.removeCls(b.toolOverCls);if(b.stopEvent!==false){f.stopEvent()}if(b.handler){b.handler.call(b.scope||b,f,d,a,b)}this.fireEvent("click",b,f,d,a,b);return true},onMouseDown:function(){if(this.disabled){return false}this.el.addCls(this.toolPressedCls)},onMouseOver:function(){this.el.addCls(this.toolOverCls)},onMouseOut:function(){this.el.removeCls(this.toolOverCls)}});Ext.define("Ext.layout.component.SliderField",{alias:["layout.sliderfield"],extend:"Ext.layout.component.form.Field",type:"sliderfield",sizeInputEl:function(a,k){var b=this.owner,g=b.thumbs,f=g.length,j=b.inputEl,h=b.innerEl,e=b.endEl,d;j.setSize(a,k);if(b.vertical){h.setHeight(k-j.getPadding("t")-e.getPadding("b"))}else{h.setWidth(a-j.getPadding("l")-e.getPadding("r"))}b.syncThumbs()}});Ext.define("Ext.fx.target.Element",{isAnimTarget:true,constructor:function(a){this.target=a;Ext.fx.target.Element.superclass.constructor.call(this,a)},type:"element",getId:function(){return this.target.id},getAttr:function(a,b){return[[this.target,b!=undefined?b:this.target.getStyle(a)]]},setAttr:function(k){var f=this.target,h=k.length,l,g,b,e,d,a;for(e=0;e<h;e++){l=k[e].attrs;for(g in l){if(l.hasOwnProperty(g)){a=l[g].length;for(d=0;d<a;d++){b=l[g][d];b[0].setStyle(g,b[1])}}}}}});Ext.define("Ext.fx.target.ElementCSS",{extend:"Ext.fx.target.Element",setAttr:function(n,f){var q={attrs:[],duration:[],easing:[]},m=n.length,g,p,k,l,d,b,h,e,a;for(h=0;h<m;h++){p=n[h];d=p.duration;l=p.easing;p=p.attrs;for(k in p){if(Ext.Array.indexOf(q.attrs,k)==-1){q.attrs.push(k.replace(/[A-Z]/g,function(i){return"-"+i.toLowerCase()}));q.duration.push(d+"ms");q.easing.push(l)}}}g=q.attrs.join(",");d=q.duration.join(",");l=q.easing.join(", ");for(h=0;h<m;h++){p=n[h].attrs;for(k in p){a=p[k].length;for(e=0;e<a;e++){b=p[k][e];b[0].setStyle(Ext.supports.CSS3Prefix+"TransitionProperty",f?"":g);b[0].setStyle(Ext.supports.CSS3Prefix+"TransitionDuration",f?"":d);b[0].setStyle(Ext.supports.CSS3Prefix+"TransitionTimingFunction",f?"":l);b[0].setStyle(k,b[1]);if(f){b=b[0].dom.offsetWidth}else{b[0].on(Ext.supports.CSS3TransitionEnd,function(){this.setStyle(Ext.supports.CSS3Prefix+"TransitionProperty",null);this.setStyle(Ext.supports.CSS3Prefix+"TransitionDuration",null);this.setStyle(Ext.supports.CSS3Prefix+"TransitionTimingFunction",null)},b[0],{single:true})}}}}}});